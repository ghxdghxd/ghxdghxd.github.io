<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>iKnowledgeBase - 系统管理</title><link href="https://ghxdghxd.github.io/" rel="alternate"></link><link href="https://ghxdghxd.github.io/feeds/xi-tong-guan-li.atom.xml" rel="self"></link><id>https://ghxdghxd.github.io/</id><updated>2018-07-05T19:30:00+08:00</updated><entry><title>archlinux安装与配置</title><link href="https://ghxdghxd.github.io/archlinux.html" rel="alternate"></link><published>2017-12-03T10:20:00+08:00</published><updated>2017-12-05T19:30:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2017-12-03:/archlinux.html</id><summary type="html">&lt;p&gt;archlinux的简单安装与配置&lt;/p&gt;</summary><content type="html">&lt;h1&gt;archlinux安装&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# u盘启动后&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 连接网络&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;wifi-memu&lt;/span&gt;
&lt;span class="code-line"&gt;mount /dev/sda1 /mnt&lt;/span&gt;
&lt;span class="code-line"&gt;mkdir -p /mnt/home&lt;/span&gt;
&lt;span class="code-line"&gt;mount /dev/sda2 /mnt/home&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 修改中国镜像源,如163.com&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;vi /ect/pacman.d/mirrorlist&lt;/span&gt;
&lt;span class="code-line"&gt;pacstrap -i /mnt base base-devel&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#生成挂载文件fstab&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;genfstab -U /mnt &amp;gt;&amp;gt; /mnt/etc/fstab&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;archlinux 初步配置&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#切换到archlinux&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;arch-chroot /mnt /bin/bash&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;本地语言&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;vi /etc/locale.gen&lt;/span&gt;
&lt;span class="code-line"&gt;    en_US.UTF-8 UTF-8&lt;/span&gt;
&lt;span class="code-line"&gt;    zh_CN.UTF-8 UTF-8&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#生效&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;locale-gen&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="nv"&gt;LANG&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;en_US.UTF-8 &amp;gt; /etc/locale.conf&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;!--more--&gt;

&lt;ul&gt;
&lt;li&gt;时区&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 或&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 按提示选择时区&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;tzselect&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#设置硬件时间&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hwclock --systohc --utc&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;grub引导系统&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 支持grub和EFI，可只选grup&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;pacman -S grub efibootmgr&lt;/span&gt;
&lt;span class="code-line"&gt;grub-install --target&lt;span class="o"&gt;=&lt;/span&gt;i386-pc --recheck --debug /dev/sda&lt;/span&gt;
&lt;span class="code-line"&gt;grup-mkconfig -o /boot/grub/grub.cfg&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;主机名&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; Garch &amp;gt;&amp;gt; /etc/hostname&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;网络配置&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 有线&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; dhcpcd.service&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 无线&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;pacman -S iw wpa_supplicant dialog&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;archlinux 配置&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 最小安装&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# X桌面&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;pacman -S xorg-server&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 显卡驱动&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;pacman -S xf86-video-ati&lt;/span&gt;
&lt;span class="code-line"&gt;pacman -S gnome gnome-tweak-tool&lt;/span&gt;
&lt;span class="code-line"&gt;pacman -S ttf-ubuntu&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 可选&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="operation"></category><category term="interest"></category></entry><entry><title>docker安装与配置</title><link href="https://ghxdghxd.github.io/docker.html" rel="alternate"></link><published>2017-11-03T10:20:00+08:00</published><updated>2017-11-05T19:30:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2017-11-03:/docker.html</id><summary type="html">&lt;p&gt;docker的简单安装与配置&lt;/p&gt;</summary><content type="html">&lt;h1&gt;docker&lt;/h1&gt;
&lt;h2&gt;centos yum install docker&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;tee /etc/yum.repos.d/docker.repo &lt;span class="s"&gt;&amp;lt;&amp;lt;-&amp;#39;EOF&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s"&gt;[dockerrepo]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s"&gt;name=Docker Repository&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s"&gt;baseurl=https://yum.dockerproject.org/repo/main/centos/$releasever/&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s"&gt;enabled=1&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s"&gt;gpgcheck=1&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s"&gt;gpgkey=https://yum.dockerproject.org/gpg&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s"&gt;EOF&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sed -i &lt;span class="s1"&gt;&amp;#39;s/other_args=\&amp;quot;\&amp;quot;/other_args=\&amp;quot;--graph=\/share\/apps\/docker\&amp;quot;/g&amp;#39;&lt;/span&gt; /etc/sysconfig/docker&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;for&lt;/span&gt; i in &lt;span class="sb"&gt;`&lt;/span&gt;seq &lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="m"&gt;8&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    sudo scp /etc/yum.repos.d/docker.repo compute-0-&lt;span class="nv"&gt;$i&lt;/span&gt;:/etc/yum.repos.d/docker.repo&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;done&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;rocks run host &lt;span class="s2"&gt;&amp;quot;yum install docker-engine&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;rocks run host &lt;span class="s2"&gt;&amp;quot;sed -i &amp;#39;s/other_args=\&amp;quot;\&amp;quot;/other_args=\&amp;quot;--graph=\/share\/apps\/docker\&amp;quot;/g&amp;#39; /etc/sysconfig/docker&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;!--more--&gt;

&lt;h2&gt;手动安装&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 手动安装centos6.5 一些需要安装&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;yum remove docker-engine&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; /share/apps/until/docker/&lt;/span&gt;
&lt;span class="code-line"&gt;yum install ./lua-filesystem-1.4.2-1.el6.x86_64.rpm&lt;/span&gt;
&lt;span class="code-line"&gt;yum install ./lxc-libs-1.0.11-1.el6.x86_64.rpm&lt;/span&gt;
&lt;span class="code-line"&gt;yum install ./lua-lxc-1.0.11-1.el6.x86_64.rpm&lt;/span&gt;
&lt;span class="code-line"&gt;yum install ./lua-alt-getopt-0.7.0-1.el6.noarch.rpm&lt;/span&gt;
&lt;span class="code-line"&gt;yum install ./lxc-1.0.11-1.el6.x86_64.rpm&lt;/span&gt;
&lt;span class="code-line"&gt;yum install ./docker-io-1.7.1-2.el6.x86_64.rpm&lt;/span&gt;
&lt;span class="code-line"&gt;wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repo&lt;/span&gt;
&lt;span class="code-line"&gt;yum install device-mapper-event-libs&lt;/span&gt;
&lt;span class="code-line"&gt;service docker restart&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;安装错误&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 下面错误：&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;/usr/bin/docker: relocation error: /usr/bin/docker: symbol dm_task_get_info_with_deferred_remove, version Base not defined in file libdevmapper.so.1.02 with link &lt;span class="nb"&gt;time&lt;/span&gt; reference&lt;/span&gt;
&lt;span class="code-line"&gt;fix: $ sudo yum install device-mapper-event-libs&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 如果无法安装，重新更新&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repo&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 然后再安装&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;docker应用&lt;/h2&gt;
&lt;h3&gt;启动docker&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;service docker start&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;添加用户&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 添加docker group：&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sudo groupadd docker&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 将当前用户添加到docker组：&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sudo gpasswd -a &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;USER&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; docker&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 重启docker服务：&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sudo service docker restart&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 开机启动&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;chkconfig docker on&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;修改镜像和容器的存放路径&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# /etc/sysconfig/docker加入：&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;other_args&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;--graph=/data/docker&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 停止Docker服务&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;service docker stop&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 备份数据到新的存放路径&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;cp -rf /var/lib/docker /data/&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 修改备份/var/lib/docker路径&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;mv /var/lib/docker&lt;span class="o"&gt;{&lt;/span&gt;,.bak&lt;span class="o"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 启动Docker服务&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;service docker start&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 测试Docker服务&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;docker info&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;用法&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;查看镜像 docker images&lt;/li&gt;
&lt;li&gt;查找镜像 docker search&lt;/li&gt;
&lt;li&gt;查看容器 docker ps -a&lt;/li&gt;
&lt;li&gt;运行容器 docker run&lt;/li&gt;
&lt;li&gt;将宿主机的/var/data挂载到容器中的/data: docker run -tdi -v /var/data:/data centos&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果ls: cannot open directory '.': Permission denied
修改/etc/sysconfig/docker，OPTIONS去掉--selinux-enabled&lt;/p&gt;</content><category term="docker"></category></entry><entry><title>终端显示颜色</title><link href="https://ghxdghxd.github.io/terminal-color.html" rel="alternate"></link><published>2017-01-03T10:20:00+08:00</published><updated>2017-01-03T19:30:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2017-01-03:/terminal-color.html</id><summary type="html">&lt;p&gt;终端显示颜色&lt;/p&gt;</summary><content type="html">&lt;p&gt;echo显示带颜色，需要使用参数-e
格式如下:
echo -e "\033[字背景颜色;文字颜色m字符串\033[0m"
例如:
echo -e "\033[41;37m TonyZhang \033[0m"
其中41的位置代表底色, 37的位置是代表字的颜色&lt;/p&gt;
&lt;p&gt;注：
1、字背景颜色和文字颜色之间是英文的“""”
2、文字颜色后面有个m
3、字符串前后可以没有空格，如果有的话，输出也是同样有空格&lt;/p&gt;
&lt;p&gt;下面看几个例子：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[30m 黑色字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[31m 红色字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[32m 绿色字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[33m 黄色字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[34m 蓝色字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[35m 紫色字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[36m 天蓝字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[37m 白色字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[40;37m 黑底白字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[41;37m 红底白字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[42;37m 绿底白字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[43;37m 黄底白字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[44;37m 蓝底白字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[45;37m 紫底白字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[46;37m 天蓝底白字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[47;30m 白底黑字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;!-- more --&gt;

&lt;p&gt;控制选项说明 ：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;代码&lt;/th&gt;
&lt;th&gt;作用&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;\33[0m&lt;/td&gt;
&lt;td&gt;关闭所有属性&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[1m&lt;/td&gt;
&lt;td&gt;设置高亮度&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[4m&lt;/td&gt;
&lt;td&gt;下划线&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[5m&lt;/td&gt;
&lt;td&gt;闪烁&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[7m&lt;/td&gt;
&lt;td&gt;反显&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[8m&lt;/td&gt;
&lt;td&gt;消隐&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[30m -- \33[37m&lt;/td&gt;
&lt;td&gt;设置前景色&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[40m -- \33[47m&lt;/td&gt;
&lt;td&gt;设置背景色&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[nA&lt;/td&gt;
&lt;td&gt;光标上移n行&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[nB&lt;/td&gt;
&lt;td&gt;光标下移n行&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[nC&lt;/td&gt;
&lt;td&gt;光标右移n行&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[nD&lt;/td&gt;
&lt;td&gt;光标左移n行&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[y;xH&lt;/td&gt;
&lt;td&gt;设置光标位置&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[2J&lt;/td&gt;
&lt;td&gt;清屏&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[K&lt;/td&gt;
&lt;td&gt;清除从光标到行尾的内容&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[s&lt;/td&gt;
&lt;td&gt;保存光标位置&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[u&lt;/td&gt;
&lt;td&gt;恢复光标位置&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[?25l&lt;/td&gt;
&lt;td&gt;隐藏光标&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[?25h&lt;/td&gt;
&lt;td&gt;显示光标&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</content><category term="linux"></category><category term="shell"></category></entry><entry><title>linux好用软件集</title><link href="https://ghxdghxd.github.io/linux-soft.html" rel="alternate"></link><published>2015-02-03T10:20:00+08:00</published><updated>2018-07-05T19:30:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2015-02-03:/linux-soft.html</id><summary type="html">&lt;p&gt;自己用的linux软件以及遇到的问题整理&lt;/p&gt;</summary><content type="html">&lt;h1&gt;1. guake terminal&lt;/h1&gt;
&lt;h2&gt;简介&lt;/h2&gt;
&lt;p&gt;guake terminal， 一个下拉式终端&lt;a href="https://github.com/Guake/guake"&gt;这里下载&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;问题&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Ctrl+D in the terminal does not close the tab anymore, but freezes the current tab&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ubuntu上遇到此问题，解决办法是安装 libutempter0,参考&lt;a href="https://github.com/Guake/guake/issues/1198"&gt;这里&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;2. anaconda&lt;/h1&gt;
&lt;h2&gt;简介&lt;/h2&gt;
&lt;p&gt;python 的管理工具&lt;/p&gt;
&lt;h2&gt;问题&lt;/h2&gt;
&lt;p&gt;1.matplotlib中文显示参数设置&lt;/p&gt;
&lt;p&gt;由于matplotlib库中没有中文字体。&lt;/p&gt;
&lt;p&gt;将对应的字体&lt;a href="https://github.com/StellarCN/scp_zh/blob/master/fonts/SimHei.ttf"&gt;SimHei.tff&lt;/a&gt;拷贝到
~/anaconda3/lib/python3.5/site-packages/matplotlib/mpl-data/fonts/ttf/&lt;/p&gt;
&lt;p&gt;在 ~/anaconda3/lib/python3.5/site-packages/matplotlib/mpl-data/matplotlibrc 中，删除font.family和font.sans-serif两行前的#，并在font.sans-serif后添加SimHei
font.family          :sans-serif
font.sans-serif     : SimHei, DejaVu Serif（后面还有很多，略去）
axes.unicode_minus，将True改为False&lt;/p&gt;
&lt;p&gt;删除~/.cache/matplotlib字体缓存&lt;/p&gt;</content><category term="linux"></category><category term="software"></category></entry><entry><title>登录终端信息</title><link href="https://ghxdghxd.github.io/terminal-announcement.html" rel="alternate"></link><published>2014-12-04T16:20:00+08:00</published><updated>2016-03-09T22:07:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2014-12-04:/terminal-announcement.html</id><summary type="html">&lt;p&gt;登录终端显示提示信息&lt;/p&gt;</summary><content type="html">&lt;h1&gt;/etc/issue&lt;/h1&gt;
&lt;p&gt;在终端接口登录时候的提示字符,例如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@linux ~&lt;span class="o"&gt;]&lt;/span&gt; cat /etc/issue&lt;/span&gt;
&lt;span class="code-line"&gt;CentOS release &lt;span class="m"&gt;5&lt;/span&gt;.6 &lt;span class="o"&gt;(&lt;/span&gt;Final&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;Kernel &lt;span class="se"&gt;\r&lt;/span&gt; on an &lt;span class="se"&gt;\m&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;issue内各代码说明：&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="se"&gt;\d&lt;/span&gt;  本地端时间的日期&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="se"&gt;\l&lt;/span&gt;  显示第几个终端接口&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="se"&gt;\m&lt;/span&gt;  显示硬件的等级&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="se"&gt;\n&lt;/span&gt;  显示主机的网络名称&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="se"&gt;\o&lt;/span&gt;  显示域名&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="se"&gt;\r&lt;/span&gt;  操作系统的版本&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="se"&gt;\t&lt;/span&gt;  显示本地端的时间&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="se"&gt;\s&lt;/span&gt;  操作系统的名称&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="se"&gt;\v&lt;/span&gt;  操作系统的版本&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;/etc/motd&lt;/h1&gt;
&lt;p&gt;登录后的公告消息, 比如：系统将会在某个时间进行维护&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@linux ~&lt;span class="o"&gt;]&lt;/span&gt; vi /etc/motd&lt;/span&gt;
&lt;span class="code-line"&gt;    Hello everyone,&lt;/span&gt;
&lt;span class="code-line"&gt;    Our server will be maintained at&lt;/span&gt;
&lt;span class="code-line"&gt;    please don&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;t login at that time,thanks.&lt;/span&gt;
&lt;span class="code-line"&gt;    那么当用户登录的时候，就会显示设置的内容了。&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="terminal"></category></entry><entry><title>集群管理笔记</title><link href="https://ghxdghxd.github.io/linux-management.html" rel="alternate"></link><published>2014-12-04T16:10:16+08:00</published><updated>2017-03-09T22:07:02+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2014-12-04:/linux-management.html</id><summary type="html">&lt;p&gt;常用的linux服务器管理&lt;/p&gt;</summary><content type="html">&lt;h1&gt;常用操作&lt;/h1&gt;
&lt;h2&gt;电源&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;插座&lt;/th&gt;
&lt;th&gt;1孔&lt;/th&gt;
&lt;th&gt;2孔&lt;/th&gt;
&lt;th&gt;3孔&lt;/th&gt;
&lt;th&gt;4孔&lt;/th&gt;
&lt;th&gt;5孔&lt;/th&gt;
&lt;th&gt;6孔&lt;/th&gt;
&lt;th&gt;7孔&lt;/th&gt;
&lt;th&gt;8孔&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;4号&lt;/td&gt;
&lt;td&gt;1上&lt;/td&gt;
&lt;td&gt;1下&lt;/td&gt;
&lt;td&gt;2下&lt;/td&gt;
&lt;td&gt;4上&lt;/td&gt;
&lt;td&gt;2上&lt;/td&gt;
&lt;td&gt;3下&lt;/td&gt;
&lt;td&gt;3上&lt;/td&gt;
&lt;td&gt;插座3号&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3号&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;8下&lt;/td&gt;
&lt;td&gt;8上&lt;/td&gt;
&lt;td&gt;7下&lt;/td&gt;
&lt;td&gt;7上&lt;/td&gt;
&lt;td&gt;大右&lt;/td&gt;
&lt;td&gt;大左&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2号&lt;/td&gt;
&lt;td&gt;4下&lt;/td&gt;
&lt;td&gt;显&lt;/td&gt;
&lt;td&gt;交下&lt;/td&gt;
&lt;td&gt;5下&lt;/td&gt;
&lt;td&gt;交上&lt;/td&gt;
&lt;td&gt;5上&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;1号&lt;/td&gt;
&lt;td&gt;插座2号&lt;/td&gt;
&lt;td&gt;小右&lt;/td&gt;
&lt;td&gt;6左&lt;/td&gt;
&lt;td&gt;外下&lt;/td&gt;
&lt;td&gt;管上&lt;/td&gt;
&lt;td&gt;6右&lt;/td&gt;
&lt;td&gt;管下&lt;/td&gt;
&lt;td&gt;小左&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;清理内存&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt; &amp;gt; /proc/sys/vm/drop_caches&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;a href="terminal-announcement"&gt;登录显示信息&lt;/a&gt;&lt;/h2&gt;
&lt;h2&gt;158挂载swap&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;mount /dev/sdc1 /extra&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;核心数&lt;/h2&gt;
&lt;p&gt;/proc/cpuinfo 用来存储cpu硬件信息
一颗cpu可以有多核，加上intel的超线程技术(HT), 可以在逻辑上再分一倍数量的cpu core出来
&lt;strong&gt;逻辑CPU数量 = 物理cpu数量 × cpu 核数 x 2(如果支持并开启ht)&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="center"&gt;逻辑CPU&lt;/th&gt;
&lt;th align="center"&gt;物理CPU&lt;/th&gt;
&lt;th align="center"&gt;CPU核数&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="center"&gt;最大线程数&lt;/td&gt;
&lt;td align="center"&gt;实际服务器插槽上的CPU数目&lt;/td&gt;
&lt;td align="center"&gt;CPU核心数&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;逻辑CPU数&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;cat /proc/cpuinfo|grep &amp;quot;processor&amp;quot;|wc&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;物理CPU数&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;cat /proc/cpuinfo|grep &amp;quot;physical\ id&amp;quot;|sort -u|wc&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CPU核数&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;cat /proc/cpuinfo|grep &amp;quot;cores&amp;quot;|sort -u&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;硬盘&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Raid0: 最少需要&lt;strong&gt;2块&lt;/strong&gt;盘，没用冗余数据,不做备份，任何一块磁盘损坏都无法运行。n块磁盘（同类型）的阵列理论上读写速度是单块磁盘的n倍(实际达不到)，风险性也是单一n倍（实际更高），是磁盘阵列中存储性能最好的。适用于安全性不高，要求比较高性能的图形工作站或者个人站。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Raid1：至少需要&lt;em&gt;2块&lt;/em&gt;*盘，磁盘数量是2的n倍，每一块磁盘要有对应的备份盘，利用率是50%，只要有一对磁盘没有损坏就可以正常使用。n组磁盘（2n块同类型磁盘）的阵列理论上读取速度是单块磁盘的n倍（实际达不到），风险性是单一磁盘的n分之一（实际更低）。换盘后需要长时间的镜像同步，不影响外界访问，但整个系统性能下降。磁盘控制器负载比较大。适用于安全性较高，且能较快恢复数据的场合。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Raid10：至少需要&lt;strong&gt;4块&lt;/strong&gt;盘，磁盘数量也是2的n倍。既有数据镜像备份，也能保证较高的读写速度。成本比较大。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Raid3：至少需要&lt;strong&gt;3块&lt;/strong&gt;盘（2块盘没有校验的意义）。将数据存放在n+1块盘上，有效空间是n块盘的总和，最后一块存储校验信息。数据被分割存储在n块盘上，任一数据盘出现问题，可由其他数据盘通过校正监测恢复数据（可以带伤工作），换数据盘需要重新恢复完整的校验容错信息。对阵列写入时会重写校验盘的内容，对校验盘的负载较大，读写速度相较于Raid0较慢，适用于读取多而写入少的应用环境，比如数据库和web服务器。使用容错算法和分块的大小决定了Raid3在通常情况下用于大文件且安全性要求较高的应用，比如视频编辑、硬盘播出机、大型数据库等。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Raid5：至少需要&lt;strong&gt;3块&lt;/strong&gt;盘，读取速度接近Raid0，但是安全性更高。安全性上接近Raid1，但是磁盘的利用率更高。可以认为是Raid0和Raid1的一个折中方案。只允许有一块盘出错，可以通过另外多块盘来计算出故障盘的数据，故障之后必须尽快更换。比Raid0+1的磁盘利用率高，是目前比较常用的一种方案。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;配置&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;commput0&lt;ul&gt;
&lt;li&gt;[2.10GHz] * 4 * 8核/CPU * 2线程/核 = 64&lt;/li&gt;
&lt;li&gt;1T * 6块 &amp;gt;&amp;gt;&amp;gt; 3T(raid10), 1.9T+792G未知&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;compute1-4&lt;ul&gt;
&lt;li&gt;[2.60GHz] * 4 * 6核/CPU * 2线程/核 = 48&lt;/li&gt;
&lt;li&gt;TeslaK20Xm GPU ，cuda核心数 2688， 内存6G&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;compute5&lt;ul&gt;
&lt;li&gt;[2.60GHz] * 4 * 6核/CPU * 2线程/核 = 48&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;compute6&lt;ul&gt;
&lt;li&gt;[2.20GHz] * 4 * 6核/CPU * 2线程/核 = 48&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;compute7-8&lt;ul&gt;
&lt;li&gt;[2.30GHz] * 4 * 8核/CPU * 2线程/核 = 64&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;数据线(raid5)&lt;ul&gt;
&lt;li&gt;3T * 3块 &amp;gt;&amp;gt;&amp;gt; 6T&lt;/li&gt;
&lt;li&gt;4T * 6块 &amp;gt;&amp;gt;&amp;gt; 18T&lt;/li&gt;
&lt;li&gt;8T * 3块 &amp;gt;&amp;gt;&amp;gt; 15T&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;网线(raid5)&lt;ul&gt;
&lt;li&gt;4T * 5块 &amp;gt;&amp;gt;&amp;gt; 16T&lt;/li&gt;
&lt;li&gt;4T * 5块 &amp;gt;&amp;gt;&amp;gt; 16T&lt;/li&gt;
&lt;li&gt;8T * 5块 &amp;gt;&amp;gt;&amp;gt; 30T&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;rocks&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;所有节点运行&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;rocks run host &amp;quot;hostname&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;同步配制&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;rocks sync config&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;要先重启管理节点然后计算机节点,否则导致数据不同步&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;rocks run host &amp;quot;/etc/init.d/pbs_mom restart&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;添加用户&lt;strong&gt;无法qusb要在/etc/group 添加用户&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;useradd -g group name&lt;/span&gt;
&lt;span class="code-line"&gt;passwd name&lt;/span&gt;
&lt;span class="code-line"&gt;rocks sync users &lt;span class="c1"&gt;#可更改/export/home/name 为 /home/name&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果ssh compute 需要输入密码&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;rm -rf ~/.ssh #然后 退出登录 再登陆 会自动生成新密钥&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;进入单用户模式&lt;/p&gt;
&lt;p&gt;在倒计时5秒时，按任意键出现下图，
&lt;strong&gt;选择如图，按e进入编辑, 最后加上１,回车,按b,root进入系统&lt;/strong&gt;
&lt;img alt="图1" height="30%" src="images/manager1.png" width="30%" /&gt;
&lt;img alt="图2" height="30%" src="images/manager2.png" width="30%" /&gt;
&lt;img alt="图3" height="30%" src="images/manager3.jpg" width="30%" /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;重装节点&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;rocks &lt;span class="nb"&gt;set&lt;/span&gt; host pxeboot compute1 &lt;span class="nv"&gt;action&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;install&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;qmgr&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;qmgr -c &lt;span class="s2"&gt;&amp;quot;print server&amp;quot;&lt;/span&gt; &lt;span class="c1"&gt;# 输出server的属性&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;qmgr -c &lt;span class="s2"&gt;&amp;quot;set server query_other_jobs = true&amp;quot;&lt;/span&gt; &lt;span class="c1"&gt;# qstat可以查看所有用户&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;qmgr -c &lt;span class="s2"&gt;&amp;quot;set server auto_node_np = True&amp;quot;&lt;/span&gt; &lt;span class="c1"&gt;# 自动更新节点线程数&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;multipath与iscsi操作&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;硬件连接及硬盘灯(绿)&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;确定服务开启:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;service iscsi restart&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;查看iscsi发现记录&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;iscsiadm -m node&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;发现iscsi存储：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;iscsiadm -m discovery -t st -p 10.1.1.100:3260&lt;/span&gt;
&lt;span class="code-line"&gt;iscsiadm -m discovery -t st -p 10.1.1.101:3260&lt;/span&gt;
&lt;span class="code-line"&gt;iscsiadm -m discovery -t st -p 10.1.1.102:3260&lt;/span&gt;
&lt;span class="code-line"&gt;iscsiadm -m discovery -t st -p 10.1.1.103:3260&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;multipath操作&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;multipath -ll &lt;span class="c1"&gt;#查看&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;multipath -v2  &lt;span class="c1"&gt;#自动更新路径&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;multipath -f mpathg &lt;span class="c1"&gt;# 删除路径&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;service multipathd restart &lt;span class="c1"&gt;#重启确认/dev/mapper下有硬盘连接&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 挂载&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;mount /dev/mapper/mpathep1 /export/data2&lt;/span&gt;
&lt;span class="code-line"&gt;mount /dev/mapper/mpathfp1 /export/data3&lt;/span&gt;
&lt;span class="code-line"&gt;mount /dev/mapper/mpathhp1 /export/data4&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;挂载fstab&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;/dev/sdc1 /export/data0 ext4 defaults 1 1&lt;/span&gt;
&lt;span class="code-line"&gt;/dev/sdc2 /export/data1 ext4 defaults 1 1&lt;/span&gt;
&lt;span class="code-line"&gt;/dev/sde1 /export/data5 ext4 defaults 1 1&lt;/span&gt;
&lt;span class="code-line"&gt;/dev/mapper/mpathhp1 /export/data4 xfs defaults,_netdev 0 0&lt;/span&gt;
&lt;span class="code-line"&gt;/dev/mapper/mpathep1 /export/data2 xfs defaults,_netdev 0 0&lt;/span&gt;
&lt;span class="code-line"&gt;/dev/mapper/mpathfp1 /export/data3 xfs defaults,_netdev 0 0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;autofs自动挂载&lt;/p&gt;
&lt;p&gt;autofs一般与ldap、nfs协作实现远程home目录。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;确认/export/*,一般重启服务&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;service autofs restart&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;/etc/auto.master&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;/share /etc/auto.share --timeout&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1200&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;/home  /etc/auto.home  --timeout&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1200&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;/etc/auto.share&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;apps -nfsvers&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt; -soft,intr,timeo&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;9999&lt;/span&gt;  xmu.local:/export/&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#bio  -nfsvers=3 -soft,intr,timeo=9999  xmu:/export/&amp;amp;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;data0 -nfsvers&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt; -soft,intr,timeo&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;9999&lt;/span&gt; xmu.local:/export/&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;data1 -nfsvers&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt; -soft,intr,timeo&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;9999&lt;/span&gt; xmu.local:/export/&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;data2 -nfsvers&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt; -soft,intr,timeo&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;9999&lt;/span&gt; xmu.local:/export/&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;data3 -nfsvers&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt; -soft,intr,timeo&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;9999&lt;/span&gt; xmu.local:/export/&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;data4 -nfsvers&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt; -soft,intr,timeo&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;9999&lt;/span&gt; xmu.local:/export/&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;data5 -nfsvers&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt; -soft,intr,timeo&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;9999&lt;/span&gt; xmu.local:/export/&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;修复分区(未完)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;exportfs -rv &lt;span class="c1"&gt;#重新扫描/etc/exports&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;exportfs -u /export/data2       &lt;span class="c1"&gt;#umount分区&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;xfs_check /dev/mapper/mpathep1&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="nv"&gt;$?&lt;/span&gt; &lt;span class="c1"&gt;#显示0表示已umount&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;qsub&lt;/h2&gt;
&lt;p&gt;1.指定运行节点&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;qsub -l &lt;span class="nv"&gt;nodes&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;:n3:ppn&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;40&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;qusb -l &lt;span class="nv"&gt;nodes&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;:n1:ppn&lt;span class="o"&gt;=&lt;/span&gt;+1:n2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;2.重新运行任务&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;    qrerun&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;3.lib&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; i in &lt;span class="sb"&gt;`&lt;/span&gt;seq &lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="m"&gt;8&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sudo scp /etc/profile.d/set.sh compute-0-&lt;span class="nv"&gt;$i&lt;/span&gt;:/etc/profile.d/set.sh&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;done&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;rm /usr/lib64/libstdc++.so.6&lt;/span&gt;
&lt;span class="code-line"&gt;ln -s /share/apps/gcc-5.3.0/lib64/libstdc++.so.6.0.21 libstdc++.so.6&lt;/span&gt;
&lt;span class="code-line"&gt;strings /usr/lib/libstdc++.so.6 &lt;span class="p"&gt;|&lt;/span&gt; grep&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;CentOS 6.5 升级内核&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org&lt;/span&gt;
&lt;span class="code-line"&gt;rpm -Uvh http://www.elrepo.org/elrepo-release-6-8.el6.elrepo.noarch.rpm&lt;/span&gt;
&lt;span class="code-line"&gt;yum elrepo源有 ml（mainline 为最新版本的内核）和 lt（长期支持的内核）两种内核，这里我们选择 lt 内核&lt;/span&gt;
&lt;span class="code-line"&gt;yum --enablerepo&lt;span class="o"&gt;=&lt;/span&gt;elrepo-kernel -y install kernel-lt （kernel-ml）&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;引导文件修改（grub.conf）&lt;/span&gt;
&lt;span class="code-line"&gt;将 default 设置为 &lt;span class="m"&gt;0&lt;/span&gt; ，default&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;vim /etc/grub.conf&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="图4" height="50%" src="images/manager4.png" width="50%" /&gt;&lt;/p&gt;
&lt;h1&gt;使用 fail2ban 防御 SSH 服务器的暴力破解攻击&lt;/h1&gt;</content><category term="linux"></category><category term="centos"></category><category term="shell"></category><category term="hpc"></category><category term="rocks cluster"></category><category term="manage"></category></entry><entry><title>R与Rstudio的安装过程（ubuntu）</title><link href="https://ghxdghxd.github.io/R-and-Rstudio.html" rel="alternate"></link><published>2014-11-13T10:20:00+08:00</published><updated>2017-02-05T19:30:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2014-11-13:/R-and-Rstudio.html</id><summary type="html">&lt;p&gt;ubuntu安装R与Rstudio的过程&lt;/p&gt;</summary><content type="html">&lt;h1&gt;install R&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;error&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;File failed to load: /extensions/MathZoom.js&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;CFLAGS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;-I/share/apps/R_depends/include&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;LDFLAGS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;-L/share/apps/R_depends/lib&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;!--more--&gt;

&lt;h2&gt;./configure&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;    ./configure --prefix&lt;span class="o"&gt;=&lt;/span&gt;/opt/R-3.3.1 --enable-R-shlib --with-libpng --with-jpeglib --with-libtiff --with-x --with-tcltk&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;1. configure: error: No F77 compiler found&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;    sudo apt-get install gfortran&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;2. configure: error: --with-readline&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;    sudo apt-get install libreadline-dev&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;3. configure: error: --with-x=yes&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;    sudo apt-get install libxt-dev&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;4. checking whether zlib support suffices&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;    sudo apt-get install zlib1g-dev&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;5. checking whether bzip2 support suffices&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;    wget &amp;lt;http://www.bzip.org/1.0.6/bzip2-1.0.6.tar.gz&amp;gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    tar xvf bzip2-1.0.6.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nb"&gt;cd&lt;/span&gt; bzip2-1.0.6&lt;/span&gt;
&lt;span class="code-line"&gt;    sudo make install&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="c1"&gt;# OR&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    make -f Makefile-libbz2_so&lt;/span&gt;
&lt;span class="code-line"&gt;    make clean&lt;/span&gt;
&lt;span class="code-line"&gt;    make -n install &lt;span class="nv"&gt;PREFIX&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$R_depends&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    make install &lt;span class="nv"&gt;PREFIX&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$R_depends&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    install bzip2-lib&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;6. configure: error: "liblzma&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;    sudo apt-get install liblzma-dev&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;7. configure: error: pcre &amp;gt;= 8.10&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;    wget ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.39.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;    tar xvf pcre-8.39.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nb"&gt;cd&lt;/span&gt; pcre-8.39&lt;/span&gt;
&lt;span class="code-line"&gt;    ./configure --enable-utf8 --prefix&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$R_depends&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    make &lt;span class="p"&gt;&amp;amp;&lt;/span&gt;amp&lt;span class="p"&gt;;&lt;/span&gt; sudo make install&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;8. libcurl &amp;gt;= 7.28.0 library and headers are required with support for https&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;    wget https://www.openssl.org/source/openssl-1.1.0b.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;    tar xvf openssl-1.1.0b.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nb"&gt;cd&lt;/span&gt; openssl-1.1.0b&lt;/span&gt;
&lt;span class="code-line"&gt;    ./config&lt;/span&gt;
&lt;span class="code-line"&gt;    make &lt;span class="p"&gt;&amp;amp;&lt;/span&gt;amp&lt;span class="p"&gt;;&lt;/span&gt;  sudo make install&lt;/span&gt;
&lt;span class="code-line"&gt;    wget &amp;lt;https://curl.haxx.se/download/curl-7.50.3.tar.gz&amp;gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    tar xvf curl-7.50.3.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nb"&gt;cd&lt;/span&gt; curl-7.50.3&lt;/span&gt;
&lt;span class="code-line"&gt;    ./configure --with-ssl&lt;span class="o"&gt;=&lt;/span&gt;/usr/local/ssl/&lt;/span&gt;
&lt;span class="code-line"&gt;    make &lt;span class="p"&gt;&amp;amp;&lt;/span&gt;amp&lt;span class="p"&gt;;&lt;/span&gt; sudo make install&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;9.configure: WARNING: you cannot build info or HTML versions of the R manuals&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;    sudo apt-get install texinfo&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;10. configure: WARNING: you cannot build PDF versions of the R manuals, configure: WARNING: you cannot build PDF versions of vignettes and help pages&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;    sudo apt-get install texlive&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;11. configure: WARNING: neither inconsolata.sty nor zi4.sty found: PDF vignettes and package manuals will not be rendered optimally&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;    wget &amp;lt;http://mirrors.ctan.org/install/fonts/inconsolata.tds.zip&amp;gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    sudo mv inconsolata.tds.zip /usr/share/texlive/texmf-dist/tex/latex&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nb"&gt;cd&lt;/span&gt; /usr/share/texlive/texmf-dist/tex/latex&lt;/span&gt;
&lt;span class="code-line"&gt;    unzip inconsolata.tds.zip&lt;/span&gt;
&lt;span class="code-line"&gt;    sudo mktexlsr&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;12. 本版本不支持png&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;    sudo apt-get install libpng16-dev&lt;/span&gt;
&lt;span class="code-line"&gt;    sudo apt-get install libtiff5-dev&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;make&lt;/h2&gt;
&lt;h3&gt;1./usr/local/lib/libbz2.a: 无法添加符号: 错误的值&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;    rm /usr/local/lib/libbz2.a&lt;/span&gt;
&lt;span class="code-line"&gt;    wget &amp;lt;http://zlib.net/zlib-1.2.8.tar.gz&amp;gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    tar xvf zlib-1.2.8.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nb"&gt;cd&lt;/span&gt; zlib-1.2.8&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nv"&gt;CC&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;gcc -fPIC&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    ./configure&lt;span class="p"&gt;;&lt;/span&gt; make &lt;span class="nb"&gt;test&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    sudo make install&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;2./usr/bin/ld: cannot find -lbz2 ;  collect2: error: ld returned 1 exit status&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;    sudo apt-get install libbz2-dev&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="c1"&gt;# 会用到&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    make &lt;span class="nv"&gt;CC&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;gcc -fPIC&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    make install &lt;span class="nv"&gt;PREFIX&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/software/packages&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;make install&lt;/h2&gt;
&lt;h3&gt;1.conftest.c:1:17: fatal error: jni.h&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class="nb"&gt;cd&lt;/span&gt; R-3.3.1/doc&lt;/span&gt;
&lt;span class="code-line"&gt;    wget &amp;lt;https://cran.r-project.org/doc/manuals/r-release/NEWS.pdf&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;install rstudio&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;    sudo apt-get install libjpeg62-dev&lt;/span&gt;
&lt;span class="code-line"&gt;    sudo apt-get install libgstreamer0.10-0&lt;/span&gt;
&lt;span class="code-line"&gt;    sudo apt-get install libgstreamer-plugins-base0.10-0&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;RSTUDIO_WHICH_R&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/opt/R-3.3.1/bin/R&amp;quot;&lt;/span&gt; 添加到/etc/profile或~/.profile&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;run R&lt;/h3&gt;
&lt;h3&gt;Error in grid.Call(L_textBounds, as.graphicsAnnot(xlabel),xlabel),x x, x$y, :无法载入X11字面为2,大小为20的字形-&lt;em&gt;-courier-%s-%s-&lt;/em&gt;-&lt;em&gt;-%d-&lt;/em&gt;-&lt;em&gt;-&lt;/em&gt;-&lt;em&gt;-&lt;/em&gt;-&lt;em&gt;-&lt;/em&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;    sudo apt-get install t1-xfree86-nonfree ttf-xfree86-nonfree ttf-xfree86-nonfree-syriac&lt;/span&gt;
&lt;span class="code-line"&gt;    sudo apt-get install xfonts-75dpi&lt;/span&gt;
&lt;span class="code-line"&gt;    sudo apt-get install xfonts-100dpi&lt;/span&gt;
&lt;span class="code-line"&gt;    sudo apt-get install mesa-utils&lt;/span&gt;
&lt;span class="code-line"&gt;    sudo apt-get install libxtst-dev&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;using R&lt;/h3&gt;
&lt;h3&gt;无法载入共享目标对象 stringi.so&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;    install.packages&lt;span class="o"&gt;(&lt;/span&gt;stringi&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;R install.packages returns "failed to create lock directory"&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;    R CMD INSTALL --no-lock &lt;span class="p"&gt;&amp;amp;&lt;/span&gt;lt&lt;span class="p"&gt;;&lt;/span&gt;pkg&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;gt&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="c1"&gt;# OR&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    install.packages&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Rcpp&amp;quot;&lt;/span&gt;, &lt;span class="nv"&gt;dependencies&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;TRUE, &lt;span class="nv"&gt;INSTALL_opts&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; c&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;\--no-lock&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;))&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;An irrecoverable exception occurred. R is aborting now ... ERROR: loading failed&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;    R CMD INSTALL --no-test-load *packages*&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;nlopt&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;    ./configure --enable-shared&lt;/span&gt;
&lt;span class="code-line"&gt;    make&lt;/span&gt;
&lt;span class="code-line"&gt;    make install&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="R"></category><category term="Rstudio"></category><category term="install"></category></entry><entry><title>fedora常用配置</title><link href="https://ghxdghxd.github.io/fedora-install.html" rel="alternate"></link><published>2014-11-13T10:20:00+08:00</published><updated>2018-01-27T10:27:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2014-11-13:/fedora-install.html</id><summary type="html">&lt;p&gt;fedora常用安装与配置&lt;/p&gt;</summary><content type="html">&lt;h1&gt;config fedora&lt;/h1&gt;
&lt;p&gt;sudo rm -rf /opt
sudo dnf install yum-utils&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;package-cleanup --oldkernels&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;RPM Fusion Free/Nonfree源, FZUG源&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;version&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;27&lt;/span&gt;  &lt;/span&gt;
&lt;span class="code-line"&gt;sudo dnf config-manager --add-repo&lt;span class="o"&gt;=&lt;/span&gt;http://mirrors.aliyun.com/repo/fedora.repo  &lt;/span&gt;
&lt;span class="code-line"&gt;sudo dnf install http://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-&lt;span class="nv"&gt;$version&lt;/span&gt;.noarch.rpm -y  &lt;/span&gt;
&lt;span class="code-line"&gt;sudo dnf install http://download1.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-&lt;span class="nv"&gt;$version&lt;/span&gt;.noarch.rpm -y  &lt;/span&gt;
&lt;span class="code-line"&gt;sudo dnf install https://repo.fdzh.org/FZUG/free/&lt;span class="nv"&gt;$version&lt;/span&gt;/x86_64/noarch/fzug-release-&lt;span class="nv"&gt;$version&lt;/span&gt;-0.2.noarch.rpm -y  &lt;/span&gt;
&lt;span class="code-line"&gt;sudo dnf makecache&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;upgrade&lt;/h2&gt;
&lt;p&gt;sudo dnf check-update &amp;amp; sudo dnf upgrade&lt;br /&gt;
sudo dnf install sqlite  &lt;/p&gt;
&lt;h2&gt;disable Wayland&lt;/h2&gt;
&lt;p&gt;/etc/gdm/custom.conf&lt;br /&gt;
WaylandEnable=false  &lt;/p&gt;
&lt;h2&gt;chrome&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;wget https://dl.google.com/linux/direct/google-chrome-stable_current_x86_64.rpm  &lt;/span&gt;
&lt;span class="code-line"&gt;sudo dnf install ./google-chrome-stable_current_x86_64.rpm  &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;git&lt;/h2&gt;
&lt;p&gt;sudo dnf install git&lt;br /&gt;
git config --global user.name "ghxdghxd"&lt;br /&gt;
git config --global user.email guojt-4451@163.com  &lt;/p&gt;
&lt;h2&gt;guake&lt;/h2&gt;
&lt;p&gt;sudo dnf install guake  &lt;/p&gt;
&lt;h2&gt;gnome-tweak-tool&lt;/h2&gt;
&lt;p&gt;sudo dnf install gnome-tweak-tool&lt;br /&gt;
sudo dnf install chrome-gnome-shell&lt;br /&gt;
dashtodocky&lt;br /&gt;
Topicons plus  &lt;/p&gt;
&lt;h2&gt;wbpy&lt;/h2&gt;
&lt;p&gt;sudo dnf install fcitx-table-chinese&lt;br /&gt;
sudo dnf install fcitx-configtool&lt;br /&gt;
sudo dnf install im-chooser&lt;br /&gt;
im-chooser  &lt;/p&gt;
&lt;h2&gt;zsh&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt install zsh  &lt;/span&gt;
&lt;span class="code-line"&gt;wget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - &lt;span class="p"&gt;|&lt;/span&gt; zsh  &lt;/span&gt;
&lt;span class="code-line"&gt;chsh -s /bin/zsh  &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;change PATH language&lt;/h2&gt;
&lt;p&gt;export LANG=en_US&lt;br /&gt;
xdg-user-dirs-gtk-update&lt;br /&gt;
export LANG=zh_CN&lt;br /&gt;
reboot  &lt;/p&gt;
&lt;h2&gt;install ubuntu fonts&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo dnf install ttmkfdir  &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;fontname&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;ubuntu-font-family-0.83  &lt;/span&gt;
&lt;span class="code-line"&gt;wget http://font.ubuntu.com/download/&lt;span class="nv"&gt;$fontname&lt;/span&gt;.zip  &lt;/span&gt;
&lt;span class="code-line"&gt;mkdir /tmp/&lt;span class="nv"&gt;$fontname&lt;/span&gt;  &lt;/span&gt;
&lt;span class="code-line"&gt;unzip -j &lt;span class="nv"&gt;$fontname&lt;/span&gt;.zip -d /tmp/&lt;span class="nv"&gt;$fontname&lt;/span&gt;  &lt;/span&gt;
&lt;span class="code-line"&gt;sudo mkdir /usr/share/fonts/ubuntu  &lt;/span&gt;
&lt;span class="code-line"&gt;sudo mv /tmp/&lt;span class="nv"&gt;$fontname&lt;/span&gt;/*.ttf /usr/share/fonts/ubuntu  &lt;/span&gt;
&lt;span class="code-line"&gt;rm -rf /tmp/&lt;span class="nv"&gt;$fontname&lt;/span&gt;  &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; /usr/share/fonts/ubuntu  &lt;/span&gt;
&lt;span class="code-line"&gt;ttmkfdir &amp;gt; fonts.dir  &lt;/span&gt;
&lt;span class="code-line"&gt;fc-cache -fv  &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;exFat &amp;amp; sshfs&lt;/h2&gt;
&lt;p&gt;sudo dnf install exfat-utils&lt;br /&gt;
sudo dnf install fuse-exfat&lt;br /&gt;
sudo apt install sshfs  &lt;/p&gt;
&lt;h2&gt;synergy&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;wget https://binaries.symless.com/v1.8.8/synergy-v1.8.8-stable-25a8cb2-Linux-x86_64.rpm  &lt;/span&gt;
&lt;span class="code-line"&gt;sudo dnf install ./synergy-v1.8.8-stable-25a8cb2-Linux-x86_64.rpm  &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;sublime text&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo rpm -v --import https://download.sublimetext.com/sublimehq-rpm-pub.gpg  &lt;/span&gt;
&lt;span class="code-line"&gt;sudo dnf config-manager --add-repo https://download.sublimetext.com/rpm/stable/x86_64/sublime-text.repo  &lt;/span&gt;
&lt;span class="code-line"&gt;sudo dnf update  &lt;/span&gt;
&lt;span class="code-line"&gt;sudo dnf install sublime-text  &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;anaconda&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;wget https://repo.continuum.io/archive/Anaconda3-5.0.0.1-Linux-x86_64.sh  &lt;/span&gt;
&lt;span class="code-line"&gt;bash Anaconda3-4.3.1-Linux-x86_64.sh&lt;span class="p"&gt;|&lt;/span&gt;sh  &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;zotero&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;wget https://download.zotero.org/client/release/5.0.23/https://download.zotero.org/client/release/5.0.23/Zotero-5.0.23_linux-x86_64.tar.bz2  &lt;/span&gt;
&lt;span class="code-line"&gt;tar xvf Zotero-5.0.23_linux-x86_64.tar.bz2  &lt;/span&gt;
&lt;span class="code-line"&gt;sudo mv Zotero_linux-x86_64/  &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;cp /share/apps/Zotero_linux-x86_64/zotero.desktop /usr/share/applications  &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;git clone https://github.com/jlegewie/zotfile.git  &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; zotfile  &lt;/span&gt;
&lt;span class="code-line"&gt;make  &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;wewechat&lt;/h2&gt;
&lt;h2&gt;thunderbird&lt;/h2&gt;
&lt;p&gt;sudo dnf install thunderbird-enigmail  &lt;/p&gt;
&lt;h2&gt;atom&lt;/h2&gt;
&lt;p&gt;sudo dnf --assumeyes install make gcc gcc-c++ glibc-devel git-core libsecret-devel rpmdevtools libX11-devel libxkbfile-devel&lt;br /&gt;
sudo dnf install ./atom.x86_64.rpm  &lt;/p&gt;
&lt;h2&gt;wordpress&lt;/h2&gt;
&lt;p&gt;sudo dnf install -y php php-mysqlnd mysql mysql-server mysql-devel workpress  &lt;/p&gt;
&lt;p&gt;sudo systemctl enable httpd.service mariadb.service&lt;br /&gt;
sudo systemctl start httpd.service mariadb.service  &lt;/p&gt;
&lt;p&gt;sudo mysqladmin -u root password  &lt;/p&gt;
&lt;p&gt;vi /etc/httpd/conf.d/wordpress.conf&lt;br /&gt;
Require local ======&amp;gt;  Require all granted  &lt;/p&gt;
&lt;p&gt;sudo firewall-cmd --add-service=http --permanent&lt;br /&gt;
sudo firewall-cmd --reload  &lt;/p&gt;
&lt;h2&gt;ModuleNotFoundError: No module named 'Xlib'&lt;/h2&gt;
&lt;p&gt;pip install python3_xlib&lt;/p&gt;
&lt;h2&gt;ModuleNotFoundError: No module named 'xdg'&lt;/h2&gt;
&lt;p&gt;pip install pyxdg  &lt;/p&gt;
&lt;p&gt;File failed to load: /extensions/MathZoom.jsrs  &lt;/p&gt;
&lt;h1&gt;install R&lt;/h1&gt;
&lt;p&gt;参考&lt;a href="R-and-Rstudio"&gt;这里&lt;/a&gt;&lt;/p&gt;</content><category term="fedora"></category><category term="linux"></category><category term="R"></category><category term="install"></category></entry><entry><title>ubuntu常用配置</title><link href="https://ghxdghxd.github.io/ubuntu-install.html" rel="alternate"></link><published>2014-11-13T10:20:00+08:00</published><updated>2017-12-28T08:05:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2014-11-13:/ubuntu-install.html</id><summary type="html">&lt;p&gt;ubuntu常用安装与配置&lt;/p&gt;</summary><content type="html">&lt;h1&gt;config ubuntu&lt;/h1&gt;
&lt;h2&gt;upgrade&lt;/h2&gt;
&lt;p&gt;sudo apt update &amp;amp; sudo apt upgrade&lt;/p&gt;
&lt;h2&gt;chrome&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb&lt;/span&gt;
&lt;span class="code-line"&gt;sudo apt -fy install ./google-chrome-stable_current_amd64.deb&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;git&lt;/h2&gt;
&lt;p&gt;sudo apt install git
git config --global user.name "user name"
git config --global user.email user@email.com&lt;/p&gt;
&lt;h2&gt;guake&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt install python-dbus-dev&lt;/span&gt;
&lt;span class="code-line"&gt;sudo apt install libutempter-dev&lt;/span&gt;
&lt;span class="code-line"&gt;sudo apt-get install automake libgconf2-dev python-glade2 libtool python-keybinder&lt;/span&gt;
&lt;span class="code-line"&gt;git clone https://github.com/Guake/guake.git&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; guake&lt;/span&gt;
&lt;span class="code-line"&gt;sudo ./dev.sh --install&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;gnome-tweak-tool&lt;/h2&gt;
&lt;p&gt;sudo apt install gnome-tweak-tool
sudo apt install gnome-shell-extension-dash-to-panel&lt;/p&gt;
&lt;h2&gt;wbpy&lt;/h2&gt;
&lt;p&gt;sudo apt install fcitx-table-wbpy
im-config -s fcitx
sudo cp /usr/share/fcitx/xdg/autostart/fcitx-autostart.desktop /etc/xdg/autostart/&lt;/p&gt;
&lt;h2&gt;zsh&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt install zsh&lt;/span&gt;
&lt;span class="code-line"&gt;wget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - &lt;span class="p"&gt;|&lt;/span&gt; zsh&lt;/span&gt;
&lt;span class="code-line"&gt;chsh -s &lt;span class="sb"&gt;`&lt;/span&gt;which zsh&lt;span class="sb"&gt;`&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sudo shutdown -r &lt;span class="m"&gt;0&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;change PATH language&lt;/h2&gt;
&lt;p&gt;export LANG=en_US
xdg-user-dirs-gtk-update&lt;/p&gt;
&lt;p&gt;export LANG=zh_CN&lt;/p&gt;
&lt;h2&gt;exFat&lt;/h2&gt;
&lt;p&gt;sudo apt instal exfat-fuse&lt;/p&gt;
&lt;p&gt;sudo apt install sshfs&lt;/p&gt;
&lt;h2&gt;anaconda&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;wget https://repo.continuum.io/archive/Anaconda3-4.3.1-Linux-x86_64.sh&lt;/span&gt;
&lt;span class="code-line"&gt;bash Anaconda3-4.3.1-Linux-x86_64.sh&lt;span class="p"&gt;|&lt;/span&gt;sh&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;synergy&lt;/h2&gt;
&lt;p&gt;sudo apt-get -fy install ./synergy-v1.8.8-stable-c30301e-Linux-x86_64.deb&lt;/p&gt;
&lt;h2&gt;sublime&lt;/h2&gt;
&lt;p&gt;sudo apt-get -fy install ./sublime-text_build-3126_amd64.deb&lt;/p&gt;
&lt;h2&gt;atom&lt;/h2&gt;
&lt;p&gt;sudo apt-get -fy install ./atom-amd64.deb&lt;/p&gt;
&lt;h2&gt;youdao-dict&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt-get -fy install ./youdao-dict_1.1.0-0-deepin_amd64.deb&lt;/span&gt;
&lt;span class="code-line"&gt;wget https://pypi.python.org/packages/48/9a/bcf41728a0a81b3d76e2a873296c2912300c653f9e6453c760a50bd2ef93/python-xlib-0.19.tar.bz2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;ModuleNotFoundError&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;No module named 'Xlib'
  pip install python3_xlib&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;No module named 'xdg'
  pip install pyxdg&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;wechat&lt;/h2&gt;
&lt;p&gt;sudo snap install electronic-wechat&lt;/p&gt;
&lt;p&gt;File failed to load: /extensions/MathZoom.js&lt;/p&gt;
&lt;h1&gt;&lt;a href="R-and-Rstudio"&gt;install R&lt;/a&gt;&lt;/h1&gt;</content><category term="ubuntu"></category><category term="linux"></category><category term="R"></category><category term="install"></category></entry><entry><title>分区挂载</title><link href="https://ghxdghxd.github.io/mount.html" rel="alternate"></link><published>2014-11-03T00:20:00+08:00</published><updated>2017-10-21T20:52:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2014-11-03:/mount.html</id><summary type="html">&lt;p&gt;mount挂载说明&lt;/p&gt;</summary><content type="html">&lt;h1&gt;/etc/fstab&lt;/h1&gt;
&lt;p&gt;运维都知道的文件，若想把mount的disk和dir设置为每次开机自动加载，那么就要把相关信息写到这个文件中。当用”mount -a“命令自动mount的时候，也会去读这个文件。例如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;LABEL&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/hadoop/9 /hadoop/9 ext3 defaults,noatime,nodiratime,noauto &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="m"&gt;2&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;LABEL&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/hadoop/10 /hadoop/10 ext3 defaults,noatime,nodiratime,noauto &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="m"&gt;2&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;/etc/mtab&lt;/h1&gt;
&lt;p&gt;这个文件主要是用mount命令的时候，系统根据实际mount的情况生成的数据，例如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;/dev/sdb1 /hadoop/9 ext3 rw,noatime,nodiratime &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;/dev/sdc1 /hadoop/10 ext3 rw,noatime,nodiratime &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;/proc/mounts&lt;/h1&gt;
&lt;p&gt;这个文件是/proc/self/mounts的软链接，/proc下面的文件都是保存在内存中的，是内核自动生成的。所以/proc/mounts比/etc/mtab文件能更加真实的反映当前mount的情况&lt;/p&gt;
&lt;h1&gt;场景应用：&lt;/h1&gt;
&lt;p&gt;服务器中有一块盘因为有坏道，被umount了，通过"df -h"就查看不到这块盘的信息了。
或者你使用"chmod 000 /dir",把这块盘设为不能读不能写。
这时如果你管理了1000台服务器，你需要知道你的服务器中哪些盘是被umount了，你会怎么做？
这里分享一个SHELL脚本，可以给你提供思路：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;function&lt;/span&gt; check_disks &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="k"&gt;for&lt;/span&gt; m in &lt;span class="sb"&gt;`&lt;/span&gt;awk &lt;span class="s1"&gt;&amp;#39;$3~/ext3/ {printf&amp;quot; %s &amp;quot;,$2}&amp;#39;&lt;/span&gt; /etc/fstab&lt;span class="sb"&gt;`&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nv"&gt;fsdev&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nv"&gt;fsdev&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;awk -v &lt;span class="nv"&gt;m&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$m&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;$2==m {print $1}&amp;#39;&lt;/span&gt; /proc/mounts&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -z &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$fsdev&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;      &lt;span class="nv"&gt;msg_&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$msg_&lt;/span&gt;&lt;span class="s2"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$m&lt;/span&gt;&lt;span class="s2"&gt;(u)&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;else&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;      &lt;span class="nv"&gt;msg_&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$msg_&lt;/span&gt;&lt;span class="s2"&gt;`awk -v m=&lt;/span&gt;&lt;span class="nv"&gt;$m&lt;/span&gt;&lt;span class="s2"&gt; &amp;#39;&lt;/span&gt;&lt;span class="nv"&gt;$2&lt;/span&gt;&lt;span class="s2"&gt;==m { if ( &lt;/span&gt;&lt;span class="nv"&gt;$4&lt;/span&gt;&lt;span class="s2"&gt; ~ /^ro,/ ) {printf&amp;quot;&lt;/span&gt;%s&lt;span class="o"&gt;(&lt;/span&gt;ro&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;,&lt;/span&gt;&lt;span class="nv"&gt;$2&lt;/span&gt;&lt;span class="s2"&gt; } ; }&amp;#39; /proc/mounts`&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;fi&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="k"&gt;done&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -z &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$msg_&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;disks ok&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="k"&gt;else&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$msg_&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="m"&gt;2&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="k"&gt;fi&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;脚本首先通过比较/etc/fstab和/proc/mounts中的不同之处，得到被umount的盘，然后再把ro(read only)的盘也分析出来。&lt;/p&gt;
&lt;h1&gt;挂载usb到指定位置&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;blkid usb &lt;span class="c1"&gt;#查看uuid&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 修改/etc/fstab&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;UUID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;54A3-36E3 /home/aData exfat defaults,uid&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1000&lt;/span&gt;,gid&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1000&lt;/span&gt;,umask&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;022&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="mount"></category></entry><entry><title>ssh安装与配置</title><link href="https://ghxdghxd.github.io/ssh.html" rel="alternate"></link><published>2014-11-03T00:20:00+08:00</published><updated>2018-01-13T11:01:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2014-11-03:/ssh.html</id><summary type="html">&lt;p&gt;ssh安装与配置&lt;/p&gt;</summary><content type="html">&lt;h1&gt;相关文档&lt;/h1&gt;
&lt;h2&gt;SSH安装&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 备份&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sudo cp -rf /etc/ssh /etc/ssh_bak&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#下载&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;wget http://mirror.internode.on.net/pub/OpenBSD/OpenSSH/portable/openssh-7.5p1.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#解压&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;tar xvf openssh-7.5p1.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; openssh-7.5p1&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#编译,安装到/opt，配置保存到/etc/ssh&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;./configure --prefix&lt;span class="o"&gt;=&lt;/span&gt;/opt/openssh-7.5p1 --sysconfdir&lt;span class="o"&gt;=&lt;/span&gt;/etc/ssh --with-pam --with-zlib --with-md5-passwords&lt;/span&gt;
&lt;span class="code-line"&gt;make&lt;/span&gt;
&lt;span class="code-line"&gt;make install&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;service sshd reload&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#或&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;service sshd restart&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#开机启动&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;chkconfig sshd on&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;1. 关于SSH Server的整体设定，包含使用的port以及使用的密码演算方式&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;Port &lt;span class="m"&gt;22&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="c1"&gt;#SSH预设使用22这个port，重复使用port使用多个端口&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;Protocol &lt;span class="m"&gt;2&lt;/span&gt;,1&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="c1"&gt;# 选择的SSH协议版本，可以是1也可以是2，&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="c1"&gt;# 如果要同时支持两者，就必须要使用 2,1 这个分隔了！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;ListenAddress &lt;span class="m"&gt;192&lt;/span&gt;.168.0.100&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="c1"&gt;# 只监听来自 192.168.0.100 这个 IP 的SSH联机。&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="c1"&gt;# 如果不使用设定的话，则预设所有接口均接受 SSH&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;PidFile /var/run/sshd.pid&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="c1"&gt;# 可以放置 SSHD 这个 PID 的档案！左列为默认值&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;LoginGraceTime &lt;span class="m"&gt;600&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="c1"&gt;# 当使用者连上 SSH server 之后，会出现输入密码的画面，&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="c1"&gt;# 在该画面中，在多久时间内没有成功连上 SSH server ，&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="c1"&gt;# 就断线！时间为秒！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;Compression yes&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="c1"&gt;# 是否可以使用压缩指令？当然可以啰！&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;2. 说明主机的 Private Key 放置的档案，预设使用下面的档案即可！&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;HostKey /etc/ssh/ssh_host_key　　　　&lt;span class="c1"&gt;# SSH version 1 使用的私钥&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;HostKey /etc/ssh/ssh_host_rsa_key　　&lt;span class="c1"&gt;# SSH version 2 使用的 RSA 私钥&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;HostKey /etc/ssh/ssh_host_dsa_key　　&lt;span class="c1"&gt;# SSH version 2 使用的 DSA 私钥&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;2.1 关于 version 1 的一些设定！&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;KeyRegenerationInterval &lt;span class="m"&gt;3600&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="c1"&gt;# 由前面联机的说明可以知道， version 1 会使用 server 的 Public Key ，那么如果这个 Public Key 被偷的话，岂不完蛋？所以需要每隔一段时间来重新建立一次！这里的时间为秒！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;ServerKeyBits &lt;span class="m"&gt;768&lt;/span&gt; 　　 &lt;span class="c1"&gt;# 没错！这个就是 Server key 的长度！&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;3. 关于登录文件的讯息数据放置与 daemon 的名称！&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;SyslogFacility AUTH　　　　　　　　　&lt;span class="c1"&gt;# 当有人使用 SSH 登入系统的时候，SSH会记录资讯，这个信息要记录在什么 daemon name 底下？预设是以 AUTH 来设定的，即是 /var/log/secure 里面！什么？忘记了！回到 Linux 基础去翻一下其它可用的 daemon name 为：DAEMON,USER,AUTH,LOCAL0,LOCAL1,LOCAL2,LOCAL3,LOCAL4,LOCAL5,&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;LogLevel INFO　　&lt;span class="c1"&gt;# 登录记录的等级！嘿嘿！任何讯息！同样的，忘记了就回去参考！&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;4. 安全设定项目！极重要！&lt;/h3&gt;
&lt;h4&gt;4.1 登入设定部分&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;PermitRootLogin no　　 　&lt;span class="c1"&gt;# 是否允许 root 登入！预设是允许的，但是建议设定成 no！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;UserLogin no　　　　　　　&lt;span class="c1"&gt;# 在 SSH 底下本来就不接受 login 这个程序的登入！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;StrictModes yes　　　　　　&lt;span class="c1"&gt;# 当使用者的 host key 改变之后，Server 就不接受联机，&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;　　　　　　　　　　　　　 &lt;span class="c1"&gt;# 可以抵挡部分的木马程序！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# RSAAuthentication yes　　 # 是否使用纯的 RSA 认证！？仅针对 version 1 ！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;PubkeyAuthentication yes　 &lt;span class="c1"&gt;# 是否允许 Public Key ？当然允许啦！只有 version 2&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;AuthorizedKeysFile      .ssh/authorized_keys&lt;/span&gt;
&lt;span class="code-line"&gt;　　　　　　　　　　　　　 &lt;span class="c1"&gt;# 上面这个在设定若要使用不需要密码登入的账号时，那么那个账号的存放档案所在档名！&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;4.2 认证部分&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;RhostsAuthentication no　　&lt;span class="c1"&gt;# 本机系统不止使用 .rhosts ，因为仅使用 .rhosts 太不安全了，所以这里一定要设定为 no ！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;IgnoreRhosts yes　　　　　 &lt;span class="c1"&gt;# 是否取消使用 ~/.ssh/.rhosts 来做为认证！当然是！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;RhostsRSAAuthentication no &lt;span class="c1"&gt;# 这个选项是专门给 version 1 用的，使用 rhosts 档案在 /etc/hosts.equiv配合 RSA 演算方式来进行认证！不要使用&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;HostbasedAuthentication no &lt;span class="c1"&gt;# 这个项目与上面的项目类似，不过是给 version 2 使用的！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;IgnoreUserKnownHosts no　　&lt;span class="c1"&gt;# 是否忽略家目录内的 ~/.ssh/known_hosts 这个档案所记录的主机内容？当然不要忽略，所以这里就是 no 啦！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;PasswordAuthentication yes &lt;span class="c1"&gt;# 密码验证当然是需要的！所以这里写 yes 啰！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;PermitEmptyPasswords no　　&lt;span class="c1"&gt;# 若上面那一项如果设定为 yes 的话，这一项就最好设定为 no ，这个项目在是否允许以空的密码登入！当然不许！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;ChallengeResponseAuthentication yes  &lt;span class="c1"&gt;# 挑战任何的密码认证！所以，任何 login.conf规定的认证方式，均可适用！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#PAMAuthenticationViaKbdInt yes      # 是否启用其它的 PAM 模块！启用这个模块将会导致 PasswordAuthentication 设定失效！&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;4.3 与 Kerberos 有关的参数设定！因为我们没有 Kerberos 主机，所以底下不用设定！&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#KerberosAuthentication no&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#KerberosOrLocalPasswd yes&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#KerberosTicketCleanup yes&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#KerberosTgtPassing no&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;4.4 底下是有关在 X-Window 底下使用的相关设定！&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;X11Forwarding yes&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#X11DisplayOffset 10&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#X11UseLocalhost yes&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;4.5 登入后的项目：&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;PrintMotd no              &lt;span class="c1"&gt;# 登入后是否显示出一些信息呢？例如上次登入的时间、地点等等，预设是 yes ，但是，如果为了安全，可以考虑改为 no ！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;PrintLastLog yes　　　　　&lt;span class="c1"&gt;# 显示上次登入的信息！可以啊！预设也是 yes ！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;KeepAlive yes　　　　　　 &lt;span class="c1"&gt;# 一般而言，如果设定这项目的话，那么 SSH Server 会传送 KeepAlive 的讯息给 Client 端，以确保两者的联机正常！在这个情况下，任何一端死掉后， SSH 可以立刻知道！而不会有僵尸程序的发生！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;UsePrivilegeSeparation yes &lt;span class="c1"&gt;# 使用者的权限设定项目！就设定为 yes 吧！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;MaxStartups &lt;span class="m"&gt;10&lt;/span&gt;　　　　　　&lt;span class="c1"&gt;# 同时允许几个尚未登入的联机画面？当我们连上 SSH ，但是尚未输入密码时，这个时候就是我们所谓的联机画面啦！在这个联机画面中，为了保护主机，所以需要设定最大值，预设最多十个联机画面，而已经建立联机的不计算在这十个当中&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;4.6 关于使用者抵挡的设定项目：&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;DenyUsers *　　　　　　　 &lt;span class="c1"&gt;# 设定受抵挡的使用者名称，如果是全部的使用者，那就是全部&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;　　　　　　　　　　　　　&lt;span class="c1"&gt;# 挡吧！若是部分使用者，可以将该账号填入！例如下列！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;DenyUsers &lt;span class="nb"&gt;test&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;DenyGroups &lt;span class="nb"&gt;test&lt;/span&gt;　　　　　 &lt;span class="c1"&gt;# 与 DenyUsers 相同！仅抵挡几个群组而已！&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;5. 关于 SFTP 服务的设定项目！&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;Subsystem       sftp    /usr/lib/ssh/sftp-server&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="ssh"></category><category term="linux"></category></entry></feed>