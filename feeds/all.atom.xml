<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>iKnowledgeBase</title><link href="https://ghxdghxd.github.io/" rel="alternate"></link><link href="https://ghxdghxd.github.io/feeds/all.atom.xml" rel="self"></link><id>https://ghxdghxd.github.io/</id><updated>2018-12-18T22:30:24+08:00</updated><entry><title>ATAC测序</title><link href="https://ghxdghxd.github.io/ATACseq.html" rel="alternate"></link><published>2018-12-01T14:30:07+08:00</published><updated>2018-12-01T14:30:07+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2018-12-01:/ATACseq.html</id><summary type="html">&lt;p&gt;简介ATAC的原理及分析方法&lt;/p&gt;</summary><content type="html">&lt;h1&gt;概念&lt;/h1&gt;
&lt;h2&gt;染色质开放区域&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;染色质分为常染色质和异染色质，常染色质折叠压缩程度低，处于伸展状态；异染色质折叠压缩程度高，处于聚缩状态。&lt;/li&gt;
&lt;li&gt;常染色质(“打开的染色质”)，称为开放染色质（open chromatin）&lt;ul&gt;
&lt;li&gt;染色质打开后，有足够的区域允许一些调控蛋白（比如转录因子和辅因子）与DNA结合; 如DNA复制、基因转录&lt;/li&gt;
&lt;li&gt;染色质的这种特性，叫做染色质的可接近性（chromatin accessibility）&lt;/li&gt;
&lt;li&gt;通过研究细胞特定状态下开放的染色质区域可以在 DNA 水平上了解其转录调控。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;DNA转座，是一种把DNA序列从染色体的一个区域搬运到另外一个区域的现象，这一过程就由转座酶参与完成。&lt;/li&gt;
&lt;li&gt;Tn5转座酶: "标签片段化工具"，Tn5转座体可将其衔接子负载整合到可接近的染色质区域，而空间位阻较不可接近的染色质使得转座不可能发生。&lt;ul&gt;
&lt;li&gt;特异性识别转座子两端反向重复的ME序列(Mosaic End)，形成转座复合体后随机的将转座子插入靶DNA中&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1&gt;ATAC的原理&lt;/h1&gt;
&lt;p&gt;ATAC-seq是利用Tn5转座酶把将携带已知DNA序列标签的转座复合物，加入到细胞核中，再利用已知序列的标签进行PCR建库测序，来获得开放染色质区域。&lt;/p&gt;
&lt;h2&gt;ATAC建库&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;illumina建库试剂盒（TruePrepTM Index Kit V2）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Tn5转座子，切割开放染色质，在DNA两端添加如下序列，其中加粗斜体部分紧挨着文库的插入片段序列&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Read1 5' ----&amp;gt; 3'
    TCGTCGGCAGCGTC&lt;strong&gt;AGATGTGTATAAGAGACAG&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Read2 5' ----&amp;gt; 3'
    GTCTCGTGGGCTCGG&lt;strong&gt;AGATGTGTATAAGAGACAG&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;PCR扩增连接测序接头P5、P7, 以锚定在flowcell芯片上的接头,进行测序
    &lt;img alt="atac" src="/images/atac1.png" style="width: 60%;" /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;P5
    AATGATACGGCGACCACCGAGATCTACAC-&lt;strong&gt;i5&lt;/strong&gt;-TCGTCGGCAGCGTCAGATGTGTATAAGAGACAG&lt;/li&gt;
&lt;li&gt;P7
    CAAGCAGAAGACGGCATACGAGAT-&lt;strong&gt;i7&lt;/strong&gt;-GTCTCGTGGGCTCGGAGATGTGTATAAGAGACAG&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;完整结构&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="atac2" src="/images/atac2.png" style="width: 60%;" /&gt;&lt;/p&gt;
&lt;p&gt;5’-AATGATACGGCGACCACCGAGATCTACAC-&lt;strong&gt;i5&lt;/strong&gt;-TCGTCGGCAGCGTCAGATGTGTATAAGAGACAG-NNNNNN-CTGTCTCTTATACACATCTCCGAGCCCACGAGAC-&lt;strong&gt;i7&lt;/strong&gt;-ATCTCGTATGCCGTCTTCTGCTTG-3’&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;i5&lt;/strong&gt;, &lt;strong&gt;i7&lt;/strong&gt;为8个碱基序列，&lt;strong&gt;NNNNNN&lt;/strong&gt;: 目标区域序列&lt;/p&gt;
&lt;h2&gt;ATAC分析&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;去接头&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;cat NexteraPE-PE.fa&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# &amp;gt;PrefixNX/1&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# AGATGTGTATAAGAGACAG&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# &amp;gt;PrefixNX/2&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# AGATGTGTATAAGAGACAG&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# &amp;gt;Trans1&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# TCGTCGGCAGCGTCAGATGTGTATAAGAGACAG&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# &amp;gt;Trans1_rc&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# CTGTCTCTTATACACATCTGACGCTGCCGACGA&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# &amp;gt;Trans2&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# GTCTCGTGGGCTCGGAGATGTGTATAAGAGACAG&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# &amp;gt;Trans2_rc&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# CTGTCTCTTATACACATCTCCGAGCCCACGAGAC&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;skewer -f sanger -t &lt;span class="m"&gt;20&lt;/span&gt; -m pe -x NexteraPE-PE.fa --quiet -o &amp;lt;sampleName&amp;gt; &amp;lt;R1.fastq.gz&amp;gt; &amp;lt;R2.fastq.gz&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;macs2&lt;/h2&gt;
&lt;p&gt;the result saved in narrowPeak BED file, header is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1st: chromosome name&lt;/li&gt;
&lt;li&gt;2nd: start position of peak&lt;/li&gt;
&lt;li&gt;3rd: end position of peak&lt;/li&gt;
&lt;li&gt;4th: name of peak&lt;/li&gt;
&lt;li&gt;5th: integer score for display in genome browser (e.g. UCSC浏览器显示的灰度)&lt;/li&gt;
&lt;li&gt;6th: strand, either "." (=no strand) or "+" or "-"&lt;/li&gt;
&lt;li&gt;7th: fold-change&lt;/li&gt;
&lt;li&gt;8th: -log10pvalue&lt;/li&gt;
&lt;li&gt;9th: -log10qvalue&lt;/li&gt;
&lt;li&gt;10th: relative summit position to peak start&lt;/li&gt;
&lt;/ul&gt;</content><category term="ATAC"></category></entry><entry><title>ivreg工具变量回归</title><link href="https://ghxdghxd.github.io/ivreg.html" rel="alternate"></link><published>2018-11-12T13:14:43+08:00</published><updated>2018-11-12T13:14:43+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2018-11-12:/ivreg.html</id><summary type="html">&lt;p&gt;why are the R-squared negative in Two-stage least-squares (2SLS) estimates or instrumental variables (IV) estimates?&lt;/p&gt;</summary><content type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;a href="https://www.stata.com/support/faqs/statistics/two-stage-least-squares/"&gt;参考1&lt;/a&gt;
&lt;a href="https://stats.stackexchange.com/questions/139782/why-report-r-squared-in-instrumental-variables-estimation"&gt;参考2&lt;/a&gt;
&lt;a href="https://zhuanlan.zhihu.com/p/19756603"&gt;参考3&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;</content><category term="IV"></category></entry><entry><title>libatk</title><link href="https://ghxdghxd.github.io/libatk.html" rel="alternate"></link><published>2018-11-05T12:23:52+08:00</published><updated>2018-11-05T12:23:52+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2018-11-05:/libatk.html</id><summary type="html">&lt;p&gt;/usr/lib/x86_64-linux-gnu/libatk-1.0.so.0: undefined symbol: g_log_structured_standard&lt;/p&gt;</summary><content type="html">&lt;h1&gt;/usr/lib/x86_64-linux-gnu/libatk-1.0.so.0: undefined symbol: g_log_structured_standard&lt;/h1&gt;
&lt;h2&gt;来源&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Rstudio visNetwork导出html动态图&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;解决&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# ubuntu&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;apt install libatk1.0-dev&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="error"></category><category term="libatk"></category></entry><entry><title>ggplot2应用与结构解析</title><link href="https://ghxdghxd.github.io/ggplot2.html" rel="alternate"></link><published>2018-11-01T20:54:20+08:00</published><updated>2018-11-01T20:54:20+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2018-11-01:/ggplot2.html</id><summary type="html">&lt;p&gt;ggplot2的一般应用，文件结构解析，添加扩展功能&lt;/p&gt;</summary><content type="html">&lt;ul&gt;
&lt;li&gt;ggplot2的一般代码&lt;/li&gt;
&lt;li&gt;ggtable的结构解析&lt;/li&gt;
&lt;li&gt;ggplot2的扩展&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;ggplot2一般应用&lt;/h1&gt;
&lt;h2&gt;多层的图例&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;scale_colour_manual&lt;span class="p"&gt;(&lt;/span&gt;values &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;CHB&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;#E41A1C&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;MXL&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;#377EB8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;CEU&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;#377EB8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;                    &lt;span class="s"&gt;&amp;quot;ASW&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;#984EA3&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;YRI&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;#FF7F00&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;TCGA&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;gray&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;                    breaks &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;TCGA&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;CEU&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;CHB&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;ASW&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;MXL&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;YRI&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# values 增加多图例&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# breaks 图例排序&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;count&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;y&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;..&lt;/span&gt;count..&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;ylim(-100, 120) 可以产生中空圆图&lt;/h2&gt;
&lt;h2&gt;geom_bar&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;position = "stack"&lt;/li&gt;
&lt;li&gt;position = "dodge"&lt;/li&gt;
&lt;li&gt;position = "identity"&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;ggtable结构解析&lt;/h1&gt;
&lt;h2&gt;ggplot2 格式转换 ggtable&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;g &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; ggplot_gtable&lt;span class="p"&gt;(&lt;/span&gt;ggplot_build&lt;span class="p"&gt;(&lt;/span&gt;p&lt;span class="p"&gt;))&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="kp"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;g&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;## TableGrob (6 x 13) &amp;quot;layout&amp;quot;: 6 grobs&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;##   z     cells       name                                   grob&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;## 1  3 (6-6,5-5) axis-t-1-1                         zeroGrob[NULL]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;## 2  3 (6-6,9-9) axis-t-2-1                         zeroGrob[NULL]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;## 3  4 (5-5,5-9)     xlab-t                         zeroGrob[NULL]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;## 4  9 (4-4,5-9)   subtitle zeroGrob[plot.subtitle..zeroGrob.3885]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;## 5 10 (3-3,5-9)      title    zeroGrob[plot.title..zeroGrob.3884]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;## 6 12 (2-2,2-2)        tag      zeroGrob[plot.tag..zeroGrob.3886]&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;grobs图形元素(graphical elements)&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;g$grobs&lt;/code&gt;是包括&lt;code&gt;length(g)&lt;/code&gt;个图形元素，每个grob是gtable定义的表格布局，它们能够相互重叠/堆叠成&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kp"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;g&lt;span class="o"&gt;$&lt;/span&gt;grobs&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;## [[1]]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;## rect[plot.background..rect.3889]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;## [[2]]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;## gTree[panel-1.gTree.3594]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;## [[3]]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;## gTree[panel-3.gTree.3620]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;## [[4]]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;## gTree[panel-5.gTree.3646]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;## [[5]]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;## gTree[panel-7.gTree.3672]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;## [[6]]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;## gTree[panel-2.gTree.3607]&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;layout图形元素位置的数据框, 保存每一个grob在图中的位置&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;t, l, b, r 分别是上左下右, z是绘制顺序&lt;/li&gt;
&lt;li&gt;name格式(2-4不一定有)&lt;/li&gt;
&lt;li&gt;图形的定义名称(panel, strip)&lt;/li&gt;
&lt;li&gt;上下左右位置&lt;/li&gt;
&lt;li&gt;从左到右顺序&lt;/li&gt;
&lt;li&gt;从上向下顺序&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kp"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;g&lt;span class="o"&gt;$&lt;/span&gt;layout&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;##     t l  b  r z clip       name&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;## 58  1 1 30 13 0   on background&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;## 1   8 5  8  5 1   on  panel-1-1&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;## 2  13 5 13  5 1   on  panel-2-1&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;## 3  18 5 18  5 1   on  panel-1-2&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;## 4  23 5 23  5 1   on  panel-2-2&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;## 5   8 9  8  9 1   on  panel-1-3&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;widths, heights图形元素大小&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;ggplot2的扩展&lt;/h1&gt;</content><category term="ggplot2"></category><category term="R"></category></entry><entry><title>饼图</title><link href="https://ghxdghxd.github.io/pie_plot.html" rel="alternate"></link><published>2018-11-01T13:33:00+08:00</published><updated>2018-11-01T13:33:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2018-11-01:/pie_plot.html</id><summary type="html">&lt;p&gt;饼图的实现方法&lt;/p&gt;</summary><content type="html">&lt;h1&gt;饼图&lt;/h1&gt;
&lt;p&gt;图例设置
labs(fill="fill-legend-title", )
图例排列
guides(fill = guide_legend(nrow = 1))&lt;/p&gt;</content><category term="pie"></category></entry><entry><title>gitlab的安装与配置</title><link href="https://ghxdghxd.github.io/gitlab.html" rel="alternate"></link><published>2018-10-20T11:20:00+08:00</published><updated>2018-10-26T15:30:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2018-10-20:/gitlab.html</id><summary type="html">&lt;p&gt;centos6 搭建私有git服务器&lt;/p&gt;</summary><content type="html">&lt;h1&gt;安装gitlab&lt;/h1&gt;
&lt;h2&gt;添加源到/etc/yum.repos.d/gitlab-ce.repo&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;[gitlab-ce]&lt;/span&gt;
&lt;span class="code-line"&gt;name=Gitlab CE Repository&lt;/span&gt;
&lt;span class="code-line"&gt;baseurl=https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el6&lt;/span&gt;
&lt;span class="code-line"&gt;gpgcheck=0&lt;/span&gt;
&lt;span class="code-line"&gt;enabled=1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;yum安装&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;yum install gitlab-ce&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;配置gitlab&lt;/h1&gt;
&lt;h2&gt;目录&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;/etc/gitlab/ ## 放置配置文件&lt;/span&gt;
&lt;span class="code-line"&gt;/opt/gitlab/ ## 主目录&lt;/span&gt;
&lt;span class="code-line"&gt;/var/opt/gitlab/ ## 各个组件&lt;/span&gt;
&lt;span class="code-line"&gt;/var/log/gitlab/ ## 放置日志文件&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;设置IP地址&lt;/h2&gt;
&lt;h3&gt;http配置&lt;/h3&gt;
&lt;p&gt;修改/etc/gitlab/gitlab.rb&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#修改ip地址，**iptables 打开port**&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;external_url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;http://xxx.xxx.xxx.xx:port&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;修改完成后，如果打开 "http:\/\/IP" 无法访问gitlab，可能是80端口冲突
原因：Nginx默认使用了80端口。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;解决&lt;/strong&gt;：修改Apache的端口,&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;/etc/httpd/conf/httpd.conf，&lt;/span&gt;
&lt;span class="code-line"&gt;Listen &lt;span class="m"&gt;8111&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;service httpd restart&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;https配置&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;使用自签名证书开启Https&lt;/p&gt;
&lt;p&gt;证书目录/etc/gitlab/ssl, openssl创建证书&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;修改/etc/gitlab/gitlab.rb&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#修改ip地址，**iptables 打开port**&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;external_url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;https://xxx.xxx.xxx.xx&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# gitlab 网站https：&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;nginx&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;redirect_http_to_https&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;true&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# gitlab ci 网站https：&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;ci_nginx&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;redirect_http_to_https&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;true&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;nginx&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ssl_certificate&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;/etc/gitlab/ssl/xxx.xxx.xxx.xx.crt&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;nginx&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ssl_certificate_key&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;/etc/gitlab/ssl/xxx.xxx.xxx.xx.key&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sudo cp /etc/gitlab/ssl/*crt /etc/gitlab/trusted-certs&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;修改ssh端口&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;gitlab_rails[&amp;#39;gitlab_shell_ssh_port&amp;#39;] = 21386&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;修改gitlab存储目录&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;默认存储位置在/var/opt/gitlab/git-data/repositories，修改/etc/gitlab/gitlab.rb&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git_data_dirs({&lt;/span&gt;
&lt;span class="code-line"&gt;    &amp;quot;default&amp;quot; =&amp;gt; {&lt;/span&gt;
&lt;span class="code-line"&gt;      &amp;quot;path&amp;quot; =&amp;gt; &amp;quot;/usr/data/gitlab&amp;quot;&lt;/span&gt;
&lt;span class="code-line"&gt;     }&lt;/span&gt;
&lt;span class="code-line"&gt;})&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;开启gitlab-pages&lt;/h2&gt;
&lt;p&gt;修改/etc/gitlab/gitlab.rb&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;pages_external_url &amp;quot;https://gitlab&amp;quot;&lt;/span&gt;
&lt;span class="code-line"&gt;gitlab_pages[&amp;#39;enable&amp;#39;] = true&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;gitlab占内存过多&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#减少进程数,最小2&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;unicorn&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;worker_processes&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;4&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#减少数据库缓存,最大14GB，总内存 256M*5&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;postgresql&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;shared_buffers&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;256M&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#减少数据库并发数,默认8&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;postgresql&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;max_worker_processes&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;5&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#减少sidekiq并发数&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sidekiq&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;concurrency&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;25&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;nginx&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;worker_processes&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;5&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;gitlab 的权限&lt;/h1&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;Guest&lt;/th&gt;
&lt;th&gt;Reporter&lt;/th&gt;
&lt;th&gt;Developer&lt;/th&gt;
&lt;th&gt;Master&lt;/th&gt;
&lt;th&gt;Owner&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Create new issues&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Leave comments&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Pull the project code&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Download a project&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Create code snippets&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Create new merge requests&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Push changes to nonprotected branches&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Remove nonprotected branches&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Add tags&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Write a wiki&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Manage the issue tracker&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Add new team members&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Push changes to protected branches&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Manage the branch protection&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Manage Git tags&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Edit the project&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Add deploy keys to the project&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Configure the project hooks&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;/opt/gitlab/embedded/service/gitlab-rails/config/gitlab.yml&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo gitlab-ctl start    &lt;span class="c1"&gt;# 启动所有 gitlab 组件；&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sudo gitlab-ctl stop        &lt;span class="c1"&gt;# 停止所有 gitlab 组件；&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sudo gitlab-ctl restart        &lt;span class="c1"&gt;# 重启所有 gitlab 组件；&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sudo gitlab-ctl status        &lt;span class="c1"&gt;# 查看服务状态；&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sudo vim /etc/gitlab/gitlab.rb        &lt;span class="c1"&gt;# 修改默认的配置文件；&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;gitlab-rake gitlab:check &lt;span class="nv"&gt;SANITIZE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;true&lt;/span&gt; --trace    &lt;span class="c1"&gt;# 检查gitlab；&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sudo gitlab-ctl tail        &lt;span class="c1"&gt;# 查看日志；&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="gitlab"></category></entry><entry><title>ROC曲线</title><link href="https://ghxdghxd.github.io/ROC.html" rel="alternate"></link><published>2018-03-12T09:58:00+08:00</published><updated>2016-06-14T14:02:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2018-03-12:/ROC.html</id><summary type="html">&lt;p&gt;ROC曲线&lt;/p&gt;</summary><content type="html">&lt;h1&gt;ROC曲线&lt;/h1&gt;
&lt;p&gt;接收者操作特征曲线 （receiver operating characteristic curve），简称ROC曲线是一种坐标图式的分析工具，用于：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;选择最佳的信号侦测模型、舍弃次佳的模型&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在同一模型中设定最佳阈值&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ROC分析的是二元分类模型（如阳性/阳性，有病/没病）：&lt;/p&gt;
&lt;p&gt;&lt;img alt="ROC1" src="./images/ROC1.png" style="width:50%" /&gt;&lt;/p&gt;
&lt;h1&gt;ROC空间&lt;/h1&gt;
&lt;p&gt;ROC空间将伪阳性率（FPR）定义为 X 轴，真阳性率（TPR）定义为 Y 轴。&lt;/p&gt;
&lt;p&gt;TPR：在所有实际为阳性的样本中，被正确地判断为阳性之比率。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;TPR=TP/(TP+FN)&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;FPR：在所有实际为阴性的样本中，被错误地判断为阳性之比率。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;FPR=FP/(FP+TN)&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="ROC"></category></entry><entry><title>git submodule的用法</title><link href="https://ghxdghxd.github.io/git-submodule.html" rel="alternate"></link><published>2018-02-03T10:20:00+08:00</published><updated>2018-02-03T19:30:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2018-02-03:/git-submodule.html</id><summary type="html">&lt;p&gt;参考 http://www.cnblogs.com/nicksheng/p/6201711.html， 用于项目 中的 项目&lt;/p&gt;</summary><content type="html">&lt;h1&gt;常用命令&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git clone &amp;lt;repository&amp;gt; --recursive &lt;span class="c1"&gt;#递归的方式克隆整个项目&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;git submodule add projectB.git projectB &lt;span class="c1"&gt;#添加子模块&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;git submodule init &lt;span class="c1"&gt;#初始化子模块&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;git submodule update &lt;span class="c1"&gt;#更新子模块&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;git submodule foreach git pull &lt;span class="c1"&gt;#拉取所有子模块&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;如何使用&lt;/h2&gt;
&lt;h3&gt;1. 创建带子模块的版本库&lt;/h3&gt;
&lt;p&gt;例如我们要创建如下结构的项目&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;project&lt;/span&gt;
&lt;span class="code-line"&gt;    |--moduleA&lt;/span&gt;
&lt;span class="code-line"&gt;    |--readme.txt&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;创建project版本库，并提交readme.txt文件&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git init --bare project.git&lt;/span&gt;
&lt;span class="code-line"&gt;git clone project.git project1cd project1&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;This is a project.&amp;quot;&lt;/span&gt; &amp;gt; readme.txt&lt;/span&gt;
&lt;span class="code-line"&gt;git add .&lt;/span&gt;
&lt;span class="code-line"&gt;git commit -m &lt;span class="s2"&gt;&amp;quot;add readme.txt&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;git push origin master&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; ..&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;!--more--&gt;

&lt;p&gt;创建moduleA版本库，并提交a.txt文件&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git init --bare moduleA.git&lt;/span&gt;
&lt;span class="code-line"&gt;git clone moduleA.git moduleA1&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; moduleA1&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;This is a submodule.&amp;quot;&lt;/span&gt; &amp;gt; a.txt&lt;/span&gt;
&lt;span class="code-line"&gt;git add .&lt;/span&gt;
&lt;span class="code-line"&gt;git commit -m &lt;span class="s2"&gt;&amp;quot;add a.txt&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;git push origin master&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; ..&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;在project项目中引入子模块moduleA，并提交子模块信息&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; project1&lt;/span&gt;
&lt;span class="code-line"&gt;git submodule add ../moduleA.git moduleA&lt;/span&gt;
&lt;span class="code-line"&gt;git status&lt;/span&gt;
&lt;span class="code-line"&gt;git diff&lt;/span&gt;
&lt;span class="code-line"&gt;git add .&lt;/span&gt;
&lt;span class="code-line"&gt;git commit -m &lt;span class="s2"&gt;&amp;quot;add submodule&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;git push origin master&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; ..&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;使用git status可以看到多了两个需要提交的文件，其中.gitmodules指定submodule的主要信息，包括子模块的路径和地址信息，moduleA指定了子模块的commit id，使用git diff可以看到这两项的内容。这里需要指出父项目的git并不会记录submodule的文件变动，它是按照commit id指定submodule的git header，所以.gitmodules和moduleA这两项是需要提交到父项目的远程仓库的。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;On branch master&lt;/span&gt;
&lt;span class="code-line"&gt;Your branch is up-to-datewith&lt;span class="s1"&gt;&amp;#39;origin/master&amp;#39;&lt;/span&gt;.&lt;/span&gt;
&lt;span class="code-line"&gt;Changes to be committed:  &lt;span class="o"&gt;(&lt;/span&gt;use &lt;span class="s2"&gt;&amp;quot;git reset HEAD ...&amp;quot;&lt;/span&gt;to unstage&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    new file:   .gitmodules&lt;/span&gt;
&lt;span class="code-line"&gt;    new file:   moduleA&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;2. 克隆带子模块的版本库&lt;/h3&gt;
&lt;p&gt;方法一，先clone父项目，再初始化submodule，最后更新submodule，初始化只需要做一次，之后每次只需要直接update就可以了，需要注意submodule默认是不在任何分支上的，它指向父项目存储的submodule commit id。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git clone project.git project2&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; project2&lt;/span&gt;
&lt;span class="code-line"&gt;git submodule init&lt;/span&gt;
&lt;span class="code-line"&gt;git submodule update&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; ..&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;方法二，采用递归参数--recursive，需要注意同样submodule默认是不在任何分支上的，它指向父项目存储的submodule commit id。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git clone project.git project3 --recursive&lt;/span&gt;
&lt;span class="code-line"&gt;git submodule update --init --recursive&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;3. 修改子模块&lt;/h3&gt;
&lt;p&gt;修改子模块之后只对子模块的版本库产生影响，对父项目的版本库不会产生任何影响，如果父项目需要用到最新的子模块代码，我们需要更新父项目中submodule commit id，默认的我们使用git status就可以看到父项目中submodule commit id已经改变了，我们只需要再次提交就可以了。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; project1/moduleA&lt;/span&gt;
&lt;span class="code-line"&gt;git branch&lt;/span&gt;
&lt;span class="code-line"&gt;echo&lt;span class="s2"&gt;&amp;quot;This is a submodule.&amp;quot;&lt;/span&gt; &amp;gt; b.txt&lt;/span&gt;
&lt;span class="code-line"&gt;git add .&lt;/span&gt;
&lt;span class="code-line"&gt;git commit -m &lt;span class="s2"&gt;&amp;quot;add b.txt&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;git push origin master&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; ..&lt;/span&gt;
&lt;span class="code-line"&gt;git status&lt;/span&gt;
&lt;span class="code-line"&gt;git diff&lt;/span&gt;
&lt;span class="code-line"&gt;git add .&lt;/span&gt;
&lt;span class="code-line"&gt;git commit -m &lt;span class="s2"&gt;&amp;quot;update submodule add b.txt&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;git push origin master&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; ..&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;4. 更新子模块&lt;/h3&gt;
&lt;p&gt;更新子模块的时候要注意子模块的分支默认不是master。
方法一，先pull父项目，然后执行&lt;code&gt;git submodule update&lt;/code&gt;，注意moduleA的分支始终不是master。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; project2&lt;/span&gt;
&lt;span class="code-line"&gt;git pull&lt;/span&gt;
&lt;span class="code-line"&gt;git submodule update&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; ..&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;方法二，先进入子模块，然后切换到需要的分支，这里是master分支，然后对子模块pull，这种方法会改变子模块的分支。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; project3/moduleA&lt;/span&gt;
&lt;span class="code-line"&gt;git checkout master&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; ..&lt;/span&gt;
&lt;span class="code-line"&gt;git submodule foreach git pull&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; ..&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;5. 删除子模块&lt;/h3&gt;
&lt;p&gt;网上有好多用的是下面这种方法&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git rm --cached moduleA&lt;/span&gt;
&lt;span class="code-line"&gt;rm -rf moduleA&lt;/span&gt;
&lt;span class="code-line"&gt;rm .gitmodules&lt;/span&gt;
&lt;span class="code-line"&gt;vim .git/config&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;删除submodule相关的内容，例如下面的内容&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;submodule &lt;span class="s2"&gt;&amp;quot;moduleA&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;      &lt;span class="nv"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; /Users/nick/dev/nick-doc/testGitSubmodule/moduleA.git&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;然后提交到远程服务器&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git add .&lt;/span&gt;
&lt;span class="code-line"&gt;git commit -m&lt;span class="s2"&gt;&amp;quot;remove submodule&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;但是我自己本地实验的时候，发现用下面的方式也可以，服务器记录的是.gitmodules和moduleA，本地只要用git的删除命令删除moduleA，再用git status查看状态就会发现.gitmodules和moduleA这两项都已经改变了，至于.git/config，仍会记录submodule信息，但是本地使用也没发现有什么影响，如果重新从服务器克隆则.git/config中不会有submodule信息。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git rm moduleA&lt;/span&gt;
&lt;span class="code-line"&gt;git status&lt;/span&gt;
&lt;span class="code-line"&gt;git commit -m&lt;span class="s2"&gt;&amp;quot;remove submodule&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;git push origin master&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="git"></category><category term="submodule"></category></entry><entry><title>meta Analysis</title><link href="https://ghxdghxd.github.io/meta.html" rel="alternate"></link><published>2018-02-03T10:20:00+08:00</published><updated>2018-02-03T19:30:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2018-02-03:/meta.html</id><summary type="html">&lt;p&gt;meta analysis with metafor&lt;/p&gt;</summary><content type="html">&lt;h1&gt;metafor document&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;An Overview of Functions in the metafor Package&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;embed id=metafor_diagram src=/pdfs/metafor_diagram.pdf type="application/pdf" width = "80%" height = "600px" internalinstanceid = "17" style = "margin: 10px auto; display: flex; justify-content: center; align-items: center; border: 1px solid;"&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Viechtbauer gesis ma with metafor&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;embed id=talks src=/pdfs/talks_2016_viechtbauer_gesis_ma_with_metafor.pdf type="application/pdf" width = "80%" height = "600px" internalinstanceid = "17" style = "margin: 10px auto; display: flex; justify-content: center; align-items: center; border: 1px solid;"&gt;&lt;/p&gt;
&lt;!--more--&gt;

&lt;h2&gt;meta-analysis from odds ratios and confidence intervals using metafor&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;dm&lt;span class="o"&gt;&amp;lt;-&lt;/span&gt;&lt;span class="kp"&gt;structure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;or &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1.6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;4.4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;1.14&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;1.3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;4.5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; cill &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1.2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;2.9&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;0.45&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;0.6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;3.2&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;ciul &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;6.9&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;2.86&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;2.7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;6.1&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt; &lt;span class="m"&gt;.&lt;/span&gt;Names &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;or&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;cill&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;ciul&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; class &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;data.frame&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; row.names &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;NA&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;-5L&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;dm&lt;span class="o"&gt;$&lt;/span&gt;logor&lt;span class="o"&gt;&amp;lt;-&lt;/span&gt;&lt;span class="kp"&gt;log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;dm&lt;span class="o"&gt;$&lt;/span&gt;or&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;dm&lt;span class="o"&gt;$&lt;/span&gt;se1&lt;span class="o"&gt;&amp;lt;-&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kp"&gt;log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;dm&lt;span class="o"&gt;$&lt;/span&gt;ciul&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;dm&lt;span class="o"&gt;$&lt;/span&gt;logor&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="m"&gt;1.96&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;dm&lt;span class="o"&gt;$&lt;/span&gt;se2&lt;span class="o"&gt;&amp;lt;-&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;dm&lt;span class="o"&gt;$&lt;/span&gt;logor&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="kp"&gt;log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;dm&lt;span class="o"&gt;$&lt;/span&gt;cill&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="m"&gt;1.96&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;dm&lt;span class="o"&gt;$&lt;/span&gt;se&lt;span class="o"&gt;&amp;lt;-&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;dm&lt;span class="o"&gt;$&lt;/span&gt;se1&lt;span class="o"&gt;+&lt;/span&gt;dm&lt;span class="o"&gt;$&lt;/span&gt;se2&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="kn"&gt;library&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;metafor&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;dmres&lt;span class="o"&gt;&amp;lt;-&lt;/span&gt;rma.uni&lt;span class="p"&gt;(&lt;/span&gt;yi&lt;span class="o"&gt;=&lt;/span&gt;logor&lt;span class="p"&gt;,&lt;/span&gt; sei&lt;span class="o"&gt;=&lt;/span&gt;se&lt;span class="p"&gt;,&lt;/span&gt; data&lt;span class="o"&gt;=&lt;/span&gt;dm&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;pdf&lt;span class="p"&gt;()&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;forest&lt;span class="p"&gt;(&lt;/span&gt;dmres&lt;span class="p"&gt;,&lt;/span&gt; atransf&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kp"&gt;exp&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; showweights &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;T&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; mlab &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;rsid&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; slab &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kp"&gt;paste0&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;study&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="m"&gt;5&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;dev.off&lt;span class="p"&gt;()&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="meta"></category></entry><entry><title>archlinux安装与配置</title><link href="https://ghxdghxd.github.io/archlinux.html" rel="alternate"></link><published>2017-12-03T10:20:00+08:00</published><updated>2017-12-05T19:30:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2017-12-03:/archlinux.html</id><summary type="html">&lt;p&gt;archlinux的简单安装与配置&lt;/p&gt;</summary><content type="html">&lt;h1&gt;archlinux安装&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# u盘启动后&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 连接网络&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;wifi-memu&lt;/span&gt;
&lt;span class="code-line"&gt;mount /dev/sda1 /mnt&lt;/span&gt;
&lt;span class="code-line"&gt;mkdir -p /mnt/home&lt;/span&gt;
&lt;span class="code-line"&gt;mount /dev/sda2 /mnt/home&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 修改中国镜像源,如163.com&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;vi /ect/pacman.d/mirrorlist&lt;/span&gt;
&lt;span class="code-line"&gt;pacstrap -i /mnt base base-devel&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#生成挂载文件fstab&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;genfstab -U /mnt &amp;gt;&amp;gt; /mnt/etc/fstab&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;archlinux 初步配置&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#切换到archlinux&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;arch-chroot /mnt /bin/bash&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;本地语言&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;vi /etc/locale.gen&lt;/span&gt;
&lt;span class="code-line"&gt;    en_US.UTF-8 UTF-8&lt;/span&gt;
&lt;span class="code-line"&gt;    zh_CN.UTF-8 UTF-8&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#生效&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;locale-gen&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="nv"&gt;LANG&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;en_US.UTF-8 &amp;gt; /etc/locale.conf&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;!--more--&gt;

&lt;ul&gt;
&lt;li&gt;时区&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 或&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 按提示选择时区&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;tzselect&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#设置硬件时间&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;hwclock --systohc --utc&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;grub引导系统&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 支持grub和EFI，可只选grup&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;pacman -S grub efibootmgr&lt;/span&gt;
&lt;span class="code-line"&gt;grub-install --target&lt;span class="o"&gt;=&lt;/span&gt;i386-pc --recheck --debug /dev/sda&lt;/span&gt;
&lt;span class="code-line"&gt;grup-mkconfig -o /boot/grub/grub.cfg&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;主机名&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; Garch &amp;gt;&amp;gt; /etc/hostname&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;网络配置&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 有线&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; dhcpcd.service&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 无线&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;pacman -S iw wpa_supplicant dialog&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;archlinux 配置&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 最小安装&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# X桌面&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;pacman -S xorg-server&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 显卡驱动&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;pacman -S xf86-video-ati&lt;/span&gt;
&lt;span class="code-line"&gt;pacman -S gnome gnome-tweak-tool&lt;/span&gt;
&lt;span class="code-line"&gt;pacman -S ttf-ubuntu&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 可选&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category></entry><entry><title>docker安装与配置</title><link href="https://ghxdghxd.github.io/docker.html" rel="alternate"></link><published>2017-11-03T10:20:00+08:00</published><updated>2017-11-05T19:30:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2017-11-03:/docker.html</id><summary type="html">&lt;p&gt;docker的简单安装与配置&lt;/p&gt;</summary><content type="html">&lt;h1&gt;docker&lt;/h1&gt;
&lt;h2&gt;centos yum install docker&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;tee /etc/yum.repos.d/docker.repo &lt;span class="s"&gt;&amp;lt;&amp;lt;-&amp;#39;EOF&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s"&gt;[dockerrepo]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s"&gt;name=Docker Repository&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s"&gt;baseurl=https://yum.dockerproject.org/repo/main/centos/$releasever/&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s"&gt;enabled=1&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s"&gt;gpgcheck=1&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s"&gt;gpgkey=https://yum.dockerproject.org/gpg&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s"&gt;EOF&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sed -i &lt;span class="s1"&gt;&amp;#39;s/other_args=\&amp;quot;\&amp;quot;/other_args=\&amp;quot;--graph=\/share\/apps\/docker\&amp;quot;/g&amp;#39;&lt;/span&gt; /etc/sysconfig/docker&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;for&lt;/span&gt; i in &lt;span class="sb"&gt;`&lt;/span&gt;seq &lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="m"&gt;8&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    sudo scp /etc/yum.repos.d/docker.repo compute-0-&lt;span class="nv"&gt;$i&lt;/span&gt;:/etc/yum.repos.d/docker.repo&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;done&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;rocks run host &lt;span class="s2"&gt;&amp;quot;yum install docker-engine&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;rocks run host &lt;span class="s2"&gt;&amp;quot;sed -i &amp;#39;s/other_args=\&amp;quot;\&amp;quot;/other_args=\&amp;quot;--graph=\/share\/apps\/docker\&amp;quot;/g&amp;#39; /etc/sysconfig/docker&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;!--more--&gt;

&lt;h2&gt;手动安装&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 手动安装centos6.5 一些需要安装&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;yum remove docker-engine&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; /share/apps/until/docker/&lt;/span&gt;
&lt;span class="code-line"&gt;yum install ./lua-filesystem-1.4.2-1.el6.x86_64.rpm&lt;/span&gt;
&lt;span class="code-line"&gt;yum install ./lxc-libs-1.0.11-1.el6.x86_64.rpm&lt;/span&gt;
&lt;span class="code-line"&gt;yum install ./lua-lxc-1.0.11-1.el6.x86_64.rpm&lt;/span&gt;
&lt;span class="code-line"&gt;yum install ./lua-alt-getopt-0.7.0-1.el6.noarch.rpm&lt;/span&gt;
&lt;span class="code-line"&gt;yum install ./lxc-1.0.11-1.el6.x86_64.rpm&lt;/span&gt;
&lt;span class="code-line"&gt;yum install ./docker-io-1.7.1-2.el6.x86_64.rpm&lt;/span&gt;
&lt;span class="code-line"&gt;wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repo&lt;/span&gt;
&lt;span class="code-line"&gt;yum install device-mapper-event-libs&lt;/span&gt;
&lt;span class="code-line"&gt;service docker restart&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;安装错误&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 下面错误：&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;/usr/bin/docker: relocation error: /usr/bin/docker: symbol dm_task_get_info_with_deferred_remove, version Base not defined in file libdevmapper.so.1.02 with link &lt;span class="nb"&gt;time&lt;/span&gt; reference&lt;/span&gt;
&lt;span class="code-line"&gt;fix: $ sudo yum install device-mapper-event-libs&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 如果无法安装，重新更新&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repo&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 然后再安装&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;docker应用&lt;/h2&gt;
&lt;h3&gt;启动docker&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;service docker start&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;添加用户&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 添加docker group：&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sudo groupadd docker&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 将当前用户添加到docker组：&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sudo gpasswd -a &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;USER&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; docker&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 重启docker服务：&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sudo service docker restart&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 开机启动&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;chkconfig docker on&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;修改镜像和容器的存放路径&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# /etc/sysconfig/docker加入：&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;other_args&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;--graph=/data/docker&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 停止Docker服务&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;service docker stop&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 备份数据到新的存放路径&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;cp -rf /var/lib/docker /data/&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 修改备份/var/lib/docker路径&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;mv /var/lib/docker&lt;span class="o"&gt;{&lt;/span&gt;,.bak&lt;span class="o"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 启动Docker服务&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;service docker start&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 测试Docker服务&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;docker info&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;用法&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;查看镜像 docker images&lt;/li&gt;
&lt;li&gt;查找镜像 docker search&lt;/li&gt;
&lt;li&gt;查看容器 docker ps -a&lt;/li&gt;
&lt;li&gt;运行容器 docker run&lt;/li&gt;
&lt;li&gt;将宿主机的/var/data挂载到容器中的/data: docker run -tdi -v /var/data:/data centos&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果ls: cannot open directory '.': Permission denied
修改/etc/sysconfig/docker，OPTIONS去掉--selinux-enabled&lt;/p&gt;</content><category term="docker"></category></entry><entry><title>网球拍的平衡点</title><link href="https://ghxdghxd.github.io/tennis-racquet.html" rel="alternate"></link><published>2017-04-03T10:20:00+08:00</published><updated>2017-04-03T19:30:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2017-04-03:/tennis-racquet.html</id><summary type="html">&lt;p&gt;网球拍的平衡点&lt;/p&gt;</summary><content type="html">&lt;h1&gt;网球拍平衡点测量&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;ps95 长69宽26.5
tour95 长68.5宽26&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;这个是每份点得出来的公式（pts点，inch英寸）
1pts = 1/8 inch = 1/8 * 2.54cm = 0.3175cm
下面以标准拍子27英寸长度为例，换算出是68.5cm，那中心点就是34.25cm。然后假设你所量出平衡点到拍底的距离为h。
如果大于34.25，则是（h-34.25）/0.3175=T，就是T点头重
如果小于34.25，则是（34.25-h）/0.3175=T，就是T点头轻&lt;/p&gt;
&lt;p&gt;&lt;img alt="平衡点|small" src="/images/平衡点.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;图中可知，此时拍子是完全平衡状态，只需测量纸片到底盖的距离就可以了，按这个方法测量出我的拍子是32.34cm，套用公式:
（34.25-32.34）÷0.3175=6.015，也就是6点头轻了！&lt;/p&gt;
&lt;p&gt;另附上球拍头轻和头重的优劣:
头轻拍更灵活易于控制，能让选手在网前有不错的表现，但是不能提供足够大的力量。头重拍，灵活性差，但能提供额外的力量更有利于底线的击球。一般专业的球拍都是头轻拍或者是平衡拍，因为这样更利于网前技术的发挥，而且专业球员都有很好的身体素质可以自身去发力。而初学拍比较多的是头重拍，这样能使初学者并不需要太多的发力就能击出力量较大的球。&lt;/p&gt;</content><category term="网球"></category></entry><entry><title>预防SSH服务器暴力破解</title><link href="https://ghxdghxd.github.io/fail2ban.html" rel="alternate"></link><published>2017-03-05T11:19:47+08:00</published><updated>2017-03-05T11:19:47+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2017-03-05:/fail2ban.html</id><summary type="html">&lt;p&gt;fail2ban 防御 SSH 服务器的暴力破解攻击&lt;/p&gt;</summary><content type="html">&lt;h1&gt;原因&lt;/h1&gt;
&lt;p&gt;前两天，以及更早的一段时间内，很多人抱怨，远程登录服务器时经常断线，严重到秒退。
起初，以为是SSH配置问题，浪费大量时间对SSH检查，重装，配置...
然后，查看/var/log/secure登录日志，发现多个IP的进攻，
所以，安装fail2ban防御
以下，抄自网络...&lt;/p&gt;
&lt;h1&gt;fail2ban 防御 SSH 服务器的暴力破解攻击&lt;/h1&gt;
&lt;p&gt;对于SSH服务的常见的攻击就是暴力破解攻击——远程攻击者通过不同的密码来无限次地进行登录尝试。当然SSH可以设置使用非密码验证验证方式来对抗这种攻击，例如&lt;a href="http://xmodulo.com/how-to-force-ssh-login-via-public-key-authentication.html"&gt;公钥验证&lt;/a&gt;或者&lt;a href="http://linux.cn/article-3725-1.html"&gt;双重验证&lt;/a&gt;。将不同的验证方法的优劣处先放在一边，如果我们必须使用密码验证方式怎么办？你是如何保护你的SSH 服务器免遭暴力破解攻击的呢？&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.fail2ban.org/"&gt;fail2ban&lt;/a&gt; 是 Linux上的一个著名的入侵保护的开源框架，它会监控多个系统的日志文件（例如：/var/log/auth.log 或者/var/log/secure）并根据检测到的任何可疑的行为自动触发不同的防御动作。事实上，fail2ban 在防御对SSH服务器的暴力密码破解上非常有用。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git clone https://github.com/fail2ban/fail2ban.git&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; fail2ban&lt;/span&gt;
&lt;span class="code-line"&gt;python3 setup.py install&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;cp files/debian-initd /etc/init.d/fail2ban&lt;/span&gt;
&lt;span class="code-line"&gt;update-rc.d fail2ban defaults&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;cp files/redhat-initd /etc/init.d/fail2ban&lt;/span&gt;
&lt;span class="code-line"&gt;chkconfig fail2ban on&lt;/span&gt;
&lt;span class="code-line"&gt;service fail2ban start&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;为SSH服务器配置Fail2ban&lt;/h2&gt;
&lt;p&gt;编辑其配置文件 /etc/fail2ban/jail.conf。
在配置文件的“[DEFAULT]”区，你可以在此定义所有受监控的服务的默认参数，另外在特定服务的配置部分，你可以为每个服务（例如SSH，Apache等）设置特定的配置来覆盖默认的参数配置。&lt;/p&gt;
&lt;p&gt;在针对服务的监狱区（在[DEFAULT]区后面的地方），你需要定义一个[ssh-
iptables]区，这里用来定义SSH相关的监狱配置。真正的禁止IP地址的操作是通过iptables完成的。&lt;/p&gt;
&lt;p&gt;下面是一个包含“ssh-iptables”监狱配置的/etc/fail2ban/jail.conf的文件样例。当然根据你的需要，你也可以指定其他的应用监狱。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ sudo vi /etc/fail2ban/jail.local&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;1&lt;/span&gt;. &lt;span class="o"&gt;[&lt;/span&gt;DEFAULT&lt;span class="o"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;2&lt;/span&gt;. &lt;span class="c1"&gt;# 以空格分隔的列表，可以是 IP 地址、CIDR 前缀或者 DNS 主机名&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;3&lt;/span&gt;. &lt;span class="c1"&gt;# 用于指定哪些地址可以忽略 fail2ban 防御&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;4&lt;/span&gt;. &lt;span class="nv"&gt;ignoreip&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;127&lt;/span&gt;.0.0.1 &lt;span class="m"&gt;172&lt;/span&gt;.31.0.0/24 &lt;span class="m"&gt;10&lt;/span&gt;.10.0.0/24 &lt;span class="m"&gt;192&lt;/span&gt;.168.0.0/24&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;5&lt;/span&gt;.  &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;6&lt;/span&gt;. &lt;span class="c1"&gt;# 客户端主机被禁止的时长（秒）&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;7&lt;/span&gt;. &lt;span class="nv"&gt;bantime&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;86400&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;8&lt;/span&gt;.  &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;9&lt;/span&gt;. &lt;span class="c1"&gt;# 客户端主机被禁止前允许失败的次数&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;10&lt;/span&gt;. &lt;span class="nv"&gt;maxretry&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;5&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;11&lt;/span&gt;.  &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;12&lt;/span&gt;. &lt;span class="c1"&gt;# 查找失败次数的时长（秒）&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;13&lt;/span&gt;. &lt;span class="nv"&gt;findtime&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;600&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;14&lt;/span&gt;.  &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;15&lt;/span&gt;. &lt;span class="nv"&gt;mta&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; sendmail&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;16&lt;/span&gt;.  &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;17&lt;/span&gt;. &lt;span class="o"&gt;[&lt;/span&gt;ssh-iptables&lt;span class="o"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;18&lt;/span&gt;. &lt;span class="nv"&gt;enabled&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;true&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;19&lt;/span&gt;. &lt;span class="nv"&gt;filter&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; sshd&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;20&lt;/span&gt;. &lt;span class="nv"&gt;action&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; iptables&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="nv"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;SSH, &lt;span class="nv"&gt;port&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;ssh, &lt;span class="nv"&gt;protocol&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;tcp&lt;span class="o"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;21&lt;/span&gt;. sendmail-whois&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="nv"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;SSH, &lt;span class="nv"&gt;dest&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;your@email.com, &lt;span class="nv"&gt;sender&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;fail2ban@email.com&lt;span class="o"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;22&lt;/span&gt;. &lt;span class="c1"&gt;# Debian 系的发行版&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;23&lt;/span&gt;. &lt;span class="nv"&gt;logpath&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; /var/log/auth.log&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;24&lt;/span&gt;. &lt;span class="c1"&gt;# Red Hat 系的发行版&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;25&lt;/span&gt;. &lt;span class="nv"&gt;logpath&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; /var/log/secure&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;26&lt;/span&gt;. &lt;span class="c1"&gt;# ssh 服务的最大尝试次数&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;27&lt;/span&gt;. &lt;span class="nv"&gt;maxretry&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;3&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;根据上述配置，fail2ban会自动禁止在最近10分钟内有超过3次访问尝试失败的任意IP地址。一旦被禁，这个IP地址将会在24小时内一直被禁止访问 SSH
服务。这个事件也会通过sendemail发送邮件通知。
一旦配置文件准备就绪，按照以下方式重启fail2ban服务。
在 Debian, Ubuntu 或 CentOS/RHEL 6:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;  sudo service fail2ban restart&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;在 Fedora 或 CentOS/RHEL 7:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;  sudo systemctl restart fail2ban&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;为了验证fail2ban成功运行，使用参数'ping'来运行fail2ban-client 命令。
如果fail2ban服务正常运行，你可以看到“pong（嘭）”作为响应。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;  1. $ sudo fail2ban-client ping&lt;/span&gt;
&lt;span class="code-line"&gt;  2. Server replied: pong&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;测试 fail2ban 保护SSH免遭暴力破解攻击&lt;/h2&gt;
&lt;p&gt;为了测试fail2ban是否能正常工作，尝试通过使用错误的密码来用SSH连接到服务器模拟一个暴力破解攻击。与此同时，监控
/var/log/fail2ban.log，该文件记录在fail2ban中发生的任何敏感事件。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;  1. $ sudo tail -f /var/log/fail2ban.log&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;根据上述的日志文件，Fail2ban通过检测IP地址的多次失败登录尝试，禁止了一个IP地址192.168.1.8。&lt;/p&gt;
&lt;h3&gt;检查fail2ban状态并解禁被锁住的IP地址&lt;/h3&gt;
&lt;p&gt;由于fail2ban的“ssh-iptables”监狱使用iptables来阻塞问题IP地址，你可以通过以下方式来检测当前iptables来验证禁止规则。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;  1. $ sudo iptables --list -n&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  1. Chain INPUT (policy ACCEPT)&lt;/span&gt;
&lt;span class="code-line"&gt;  2. target     prot opt source               destination&lt;/span&gt;
&lt;span class="code-line"&gt;  3. fail2ban-SSH  tcp  --  0.0.0.0/0            0.0.0.0/0           tcp dpt:22&lt;/span&gt;
&lt;span class="code-line"&gt;  4.  &lt;/span&gt;
&lt;span class="code-line"&gt;  5. Chain FORWARD (policy ACCEPT)&lt;/span&gt;
&lt;span class="code-line"&gt;  6. target     prot opt source               destination&lt;/span&gt;
&lt;span class="code-line"&gt;  7.  &lt;/span&gt;
&lt;span class="code-line"&gt;  8. Chain OUTPUT (policy ACCEPT)&lt;/span&gt;
&lt;span class="code-line"&gt;  9. target     prot opt source               destination&lt;/span&gt;
&lt;span class="code-line"&gt;  10.  &lt;/span&gt;
&lt;span class="code-line"&gt;  11. Chain fail2ban-SSH (1 references)&lt;/span&gt;
&lt;span class="code-line"&gt;  12. target     prot opt source               destination&lt;/span&gt;
&lt;span class="code-line"&gt;  13. DROP       all  --  192.168.1.8          0.0.0.0/0&lt;/span&gt;
&lt;span class="code-line"&gt;  14. RETURN     all  --  0.0.0.0/0            0.0.0.0/0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;如果你想要从fail2ban中解锁某个IP地址，你可以使用iptables命令：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;  sudo iptables -D fail2ban-SSH -s 192.168.1.8 -j DROP&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;当然你可以使用上述的iptables命令手动地检验和管理fail2ban的IP阻塞列表，但实际上有一个适当的方法就是使用fail2ban-
client命令行工具。这个命令不仅允许你对"ssh-iptables"监狱进行管理，同时也是一个标准的命令行接口，可以管理其他类型的fail2ban监狱。&lt;/p&gt;
&lt;p&gt;为了检验fail2ban状态（会显示出当前活动的监狱列表）：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;  sudo fail2ban-client status&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;为了检验一个特定监狱的状态（例如ssh-iptables):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;  sudo fail2ban-client status ssh-iptables&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;上面的命令会显示出被禁止IP地址列表。&lt;/p&gt;
&lt;p&gt;为了解锁特定的IP地址：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;  sudo fail2ban-client set ssh-iptables unbanip 192.168.1.8&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;注意，如果你停止了Fail2ban 服务，那么所有的IP地址都会被解锁。当你重启 Fail2ban，它会从/etc/log/secure(或
/var/log/auth.log)中找到异常的IP地址列表，如果这些异常地址的发生时间仍然在禁止时间内，那么Fail2ban会重新将这些IP地址禁止。&lt;/p&gt;
&lt;h2&gt;设置 Fail2ban 自动启动&lt;/h2&gt;
&lt;p&gt;一旦你成功地测试了fail2ban之后，最后一个步骤就是在你的服务器上让其在开机时自动启动。在基于Debian的发行版中，fail2ban已经默认让自动启动生效。在基于Red-
Hat的发行版中，按照下面的方式让自动启动生效。&lt;/p&gt;
&lt;p&gt;在 CentOS/RHEL 6中:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;  sudo chkconfig fail2ban on&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;在 Fedora 或 CentOS/RHEL 7:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;  sudo systemctl enable fail2ban&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="fail2ban"></category><category term="linux"></category></entry><entry><title>mpileup格式</title><link href="https://ghxdghxd.github.io/mpileup.html" rel="alternate"></link><published>2017-03-04T14:38:00+08:00</published><updated>2017-03-04T14:33:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2017-03-04:/mpileup.html</id><summary type="html">&lt;p&gt;samtools mpileup的格式&lt;/p&gt;</summary><content type="html">&lt;h1&gt;mpileup&lt;/h1&gt;
&lt;p&gt;mpileup 结果中的 &amp;gt;, &amp;lt;; 代表reference skip, 基因组上没有的序列，  the reference position is
bridged by reference skip.&lt;/p&gt;
&lt;p&gt;计算depth要减去reference skip数目&lt;/p&gt;</content><category term="samtools"></category><category term="mpileup"></category></entry><entry><title>CPU信息</title><link href="https://ghxdghxd.github.io/cpuinfo.html" rel="alternate"></link><published>2017-03-01T09:19:22+08:00</published><updated>2018-12-01T11:01:47+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2017-03-01:/cpuinfo.html</id><summary type="html">&lt;p&gt;Linux中CPU info简介&lt;/p&gt;</summary><content type="html">&lt;h1&gt;CPU的结构&lt;/h1&gt;
&lt;p&gt;&lt;img alt="Fig.1" src="images/cpu.png" style="height:30%; width:30%;" /&gt;&lt;/p&gt;
&lt;h1&gt;CPU相关信息&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;lscpu&lt;/code&gt;从sysfs和/proc/cpuinfo收集cpu体系结构信息&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;Architecture:          x86_64               &lt;span class="c1"&gt;# 架构&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;CPU op-mode&lt;span class="o"&gt;(&lt;/span&gt;s&lt;span class="o"&gt;)&lt;/span&gt;:        &lt;span class="m"&gt;32&lt;/span&gt;-bit, &lt;span class="m"&gt;64&lt;/span&gt;-bit       &lt;span class="c1"&gt;# CPU 运行模式&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;Byte Order:            Little Endian        &lt;span class="c1"&gt;# 字节序&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;CPU&lt;span class="o"&gt;(&lt;/span&gt;s&lt;span class="o"&gt;)&lt;/span&gt;:                &lt;span class="m"&gt;64&lt;/span&gt;                   &lt;span class="c1"&gt;# 逻辑CPU数(线程数) = 物理cpu(physical id)数量 * cpu内核(core id)数 * 单核多线程(thread, 如果支持并开启HT)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;On-line CPU&lt;span class="o"&gt;(&lt;/span&gt;s&lt;span class="o"&gt;)&lt;/span&gt; list:   &lt;span class="m"&gt;0&lt;/span&gt;-63                 &lt;span class="c1"&gt;# 在线CPU列表id&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;Thread&lt;span class="o"&gt;(&lt;/span&gt;s&lt;span class="o"&gt;)&lt;/span&gt; per core:    &lt;span class="m"&gt;2&lt;/span&gt;                    &lt;span class="c1"&gt;# 每个核心线程数&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;Core&lt;span class="o"&gt;(&lt;/span&gt;s&lt;span class="o"&gt;)&lt;/span&gt; per socket:    &lt;span class="m"&gt;8&lt;/span&gt;                    &lt;span class="c1"&gt;# 每个cpu插槽的核数==每颗物理cpu核数&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;Socket&lt;span class="o"&gt;(&lt;/span&gt;s&lt;span class="o"&gt;)&lt;/span&gt;:             &lt;span class="m"&gt;4&lt;/span&gt;                    &lt;span class="c1"&gt;# cpu插槽数&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;NUMA node&lt;span class="o"&gt;(&lt;/span&gt;s&lt;span class="o"&gt;)&lt;/span&gt;:          &lt;span class="m"&gt;4&lt;/span&gt;                    &lt;span class="c1"&gt;# NUMA节点数&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;Vendor ID:             GenuineIntel         &lt;span class="c1"&gt;# cpu品牌&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;CPU family:            &lt;span class="m"&gt;6&lt;/span&gt;                    &lt;span class="c1"&gt;# cpu系列&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;Model:                 &lt;span class="m"&gt;62&lt;/span&gt;                   &lt;span class="c1"&gt;# CPU型号&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;Stepping:              &lt;span class="m"&gt;4&lt;/span&gt;                    &lt;span class="c1"&gt;# 步进&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;CPU MHz:               &lt;span class="m"&gt;1200&lt;/span&gt;.000             &lt;span class="c1"&gt;# cpu主频(可能是平均值)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;BogoMIPS:              &lt;span class="m"&gt;4599&lt;/span&gt;.40&lt;/span&gt;
&lt;span class="code-line"&gt;Virtualization:        VT-x                 &lt;span class="c1"&gt;# cpu支持的虚拟化技术&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;L1d cache:             32K&lt;/span&gt;
&lt;span class="code-line"&gt;L1i cache:             32K&lt;/span&gt;
&lt;span class="code-line"&gt;L2 cache:              256K&lt;/span&gt;
&lt;span class="code-line"&gt;L3 cache:              16384K&lt;/span&gt;
&lt;span class="code-line"&gt;NUMA node0 CPU&lt;span class="o"&gt;(&lt;/span&gt;s&lt;span class="o"&gt;)&lt;/span&gt;:     &lt;span class="m"&gt;0&lt;/span&gt;-7,32-39            &lt;span class="c1"&gt;# 每个NUMA节点包括的线程&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;NUMA node1 CPU&lt;span class="o"&gt;(&lt;/span&gt;s&lt;span class="o"&gt;)&lt;/span&gt;:     &lt;span class="m"&gt;8&lt;/span&gt;-15,40-47&lt;/span&gt;
&lt;span class="code-line"&gt;NUMA node2 CPU&lt;span class="o"&gt;(&lt;/span&gt;s&lt;span class="o"&gt;)&lt;/span&gt;:     &lt;span class="m"&gt;16&lt;/span&gt;-23,48-55&lt;/span&gt;
&lt;span class="code-line"&gt;NUMA node3 CPU&lt;span class="o"&gt;(&lt;/span&gt;s&lt;span class="o"&gt;)&lt;/span&gt;:     &lt;span class="m"&gt;24&lt;/span&gt;-31,56-63&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;每个逻辑CPU的详细信息：/proc/cpuinfo&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;processor       : &lt;span class="m"&gt;0&lt;/span&gt;                                            &lt;span class="c1"&gt;# 逻辑CPU（线程）的编号, 从 0 到 最大线程数-1&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;vendor_id       : GenuineIntel                                 &lt;span class="c1"&gt;# 品牌&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;cpu family      : &lt;span class="m"&gt;6&lt;/span&gt;                                            &lt;span class="c1"&gt;# cpu系列&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;model           : &lt;span class="m"&gt;62&lt;/span&gt;                                           &lt;span class="c1"&gt;# CPU型号&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;model name      : Intel&lt;span class="o"&gt;(&lt;/span&gt;R&lt;span class="o"&gt;)&lt;/span&gt; Xeon&lt;span class="o"&gt;(&lt;/span&gt;R&lt;span class="o"&gt;)&lt;/span&gt; CPU E5-4610 v2 @ &lt;span class="m"&gt;2&lt;/span&gt;.30GHz    &lt;span class="c1"&gt;# CPU名称与频率&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;stepping        : &lt;span class="m"&gt;4&lt;/span&gt;                                            &lt;span class="c1"&gt;# 步进&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;cpu MHz         : &lt;span class="m"&gt;1200&lt;/span&gt;.000                                     &lt;span class="c1"&gt;# 当前线程的实时频率&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;cache size      : &lt;span class="m"&gt;16384&lt;/span&gt; KB&lt;/span&gt;
&lt;span class="code-line"&gt;physical id     : &lt;span class="m"&gt;0&lt;/span&gt;                                            &lt;span class="c1"&gt;# 物理CPU编号，从 0 到 主板CPU插槽数-1。拥有相同 physical id 的所有逻辑处理器共享同一个物理插座。&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;siblings        : &lt;span class="m"&gt;16&lt;/span&gt;                                           &lt;span class="c1"&gt;# 此物理CPU的逻辑CPU数(或线程数) = 物理CPU核心数 * 单核多线程&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;core id         : &lt;span class="m"&gt;0&lt;/span&gt;                                            &lt;span class="c1"&gt;# 此物理CPU内的，核心编号， 从 0 到 核心数-1。所有带有相同 core id 的逻辑处理器均位于同一个处理器内核上。&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;cpu cores       : &lt;span class="m"&gt;8&lt;/span&gt;                                            &lt;span class="c1"&gt;# 此物理CPU内的核心数&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;apicid          : &lt;span class="m"&gt;0&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;initial apicid  : &lt;span class="m"&gt;0&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;fpu             : yes&lt;/span&gt;
&lt;span class="code-line"&gt;fpu_exception   : yes&lt;/span&gt;
&lt;span class="code-line"&gt;cpuid level     : &lt;span class="m"&gt;13&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;wp              : yes&lt;/span&gt;
&lt;span class="code-line"&gt;flags           : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm consta&lt;/span&gt;
&lt;span class="code-line"&gt;bogomips        : &lt;span class="m"&gt;4600&lt;/span&gt;.23&lt;/span&gt;
&lt;span class="code-line"&gt;clflush size    : &lt;span class="m"&gt;64&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;cache_alignment : &lt;span class="m"&gt;64&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;address sizes   : &lt;span class="m"&gt;46&lt;/span&gt; bits physical, &lt;span class="m"&gt;48&lt;/span&gt; bits virtual&lt;/span&gt;
&lt;span class="code-line"&gt;power management:&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;如果有一个以上逻辑处理器拥有相同的 core id 和 physical id，则说明系统支持超线程（HT）技术。&lt;/li&gt;
&lt;li&gt;如果有两个或两个以上的逻辑处理器拥有相同的 physical id，但是 core id 不同，则说明这是一个多内核处理器。cpu cores 条目也可以表示是否支持多内核。&lt;/li&gt;
&lt;li&gt;判断CPU是否64位，检查cpuinfo中的flags区段，看是否有lm (long mode)标识。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;cpu MHz是动态变化的&lt;/strong&gt;：因为CPU不工作时，降率能够降低热量与风扇噪音。
  查看CPU 时实动态频率&lt;code&gt;cat /sys/devices/system/cpu/cpu*/cpufreq/scaling_cur_freq&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="center"&gt;逻辑CPU&lt;/th&gt;
&lt;th align="center"&gt;物理CPU&lt;/th&gt;
&lt;th align="center"&gt;CPU核数&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="center"&gt;最大线程数&lt;/td&gt;
&lt;td align="center"&gt;实际服务器插槽上的CPU数目&lt;/td&gt;
&lt;td align="center"&gt;CPU核心数&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;逻辑CPU数&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;cat /proc/cpuinfo|grep &amp;quot;processor&amp;quot;|wc&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;物理CPU数&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;cat /proc/cpuinfo|grep &amp;quot;physical\ id&amp;quot;|sort -u|wc&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CPU核数&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;cat /proc/cpuinfo|grep &amp;quot;cores&amp;quot;|sort -u&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ul&gt;</content><category term="cpuinfo"></category></entry><entry><title>循环肿瘤DNA</title><link href="https://ghxdghxd.github.io/ctDNA.html" rel="alternate"></link><published>2017-01-09T15:59:00+08:00</published><updated>2017-01-09T15:59:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2017-01-09:/ctDNA.html</id><summary type="html">&lt;p&gt;循环肿瘤DNA&lt;/p&gt;</summary><content type="html">&lt;p&gt;循环肿瘤DNA，英文叫：circulating tumor DNA，简称ctDNA。
对ctDNA进行测序，是目前很火的LiquidBiopsy（液体活检）中的一种。  &lt;/p&gt;
&lt;p&gt;在今天的讲解当中，我们会主要参考Nature Medicine杂志，在2014年4月刊登的AaronNewman（下称：Aaron）等人写的一篇文章。  &lt;/p&gt;
&lt;p&gt;这篇文章的题目是：《An ultrasensitive method for quantitatingcirculating tumor DNA with
broad patient coverage》，同时，我们也会结合国内一些服务公司的实际操作方法，来介绍ctDNA测序。  &lt;/p&gt;
&lt;p&gt;Aaron给他们的实验方法起了一个专有名词：CAncer PersonalizedProfiling by deep SEQuencing，简称：CAPP-
Seq。  &lt;/p&gt;
&lt;h1&gt;意义&lt;/h1&gt;
&lt;p&gt;首先，我们来说一下ctDNA测序的临床意义。&lt;br /&gt;
1.减少病人的开刀痛苦，只要抽血，不必开刀，就可以做检测。&lt;br /&gt;
2.增加可检测的病人范围，对于不适合做开刀手术的病人。例如，已经发生肿瘤全身转移的病人。也可以用测ctDNA的方法来测肿瘤的基因突变。&lt;br /&gt;
3.只抽血（而不必开刀），所以取样很方便。所以它可以应用于肿瘤病人的病情随访，并可以多次取样。&lt;/p&gt;
&lt;h1&gt;原理&lt;/h1&gt;
&lt;p&gt;正常细胞和肿瘤细胞都会破裂，细胞破裂之后，细胞中的DNA就会被释放到体液当中去。其中进入血液的这部分DNA，就称为血液游离DNA。那么，它也被称作血浆游离DNA，或者cell
free DNA，简称cfDNA。&lt;/p&gt;
&lt;p&gt;这些DNA片段的长度，主要集中在100BP~240BP之间，大部分在170BP左右，把血液当中游离的DNA抽提出来，建成DNA测序的文库。用探针杂交、或者PCR扩增等方法，把其中与肿瘤相关的DNA富集出来，进行高通量测序。&lt;/p&gt;
&lt;p&gt;然后再进行数据分析，看哪些基因有突变。接着根据基因突变的信息，来决定下一步的治疗方法&lt;/p&gt;
&lt;p&gt;这就是ctDNA测序的核心原理。  &lt;/p&gt;
&lt;h2&gt;难点&lt;/h2&gt;
&lt;p&gt;从原理上，ctDNA测序，简单易懂，但是在实际的操作过程当中，需要克服一系列的技术难点。&lt;/p&gt;
&lt;p&gt;第一个难点，是在全部的血浆游离DNA当中，ctDNA只占很小的一部分，大约只有万分之几到千分之几。其余的，都是正常细胞的DNA。一般而言，肿瘤早期，ctDNA占全部游离DNA的比例会更低一些，到肿瘤晚期，ctDNA占全部游离DNA的比例会高一些。但是要检测到千分之几、万分之几的突变，总是一件困难的事情  &lt;/p&gt;
&lt;p&gt;第二个难点，是血液当中的游离DNA量很少，大约每一毫升的血浆当中，只会有十几纳克（ng）的游离DNA。通过比较好的、专用的DNA抽提试剂盒，从一毫升的血浆当中，大约可以抽提到10^-9个纳克（ng，10^-9）左右的游离DNA，每一个正常的、人的细胞，大约含有3.3个皮克(pg，10^-12)的基因组DNA。也就是说1个ng的基因组DNA，相当于来源于300个细胞的DNA量。&lt;/p&gt;
&lt;p&gt;目前国内做ctDNA测序的科研实践当中，一般是一次抽10个毫升的血，从中可以分离到约5到6毫升的血浆。从这5~6毫升的血浆当中，可以抽提到约
50ng~60ng 的游离DNA。60个ng的DNA，大约相当于来自18000个细胞的基因组DNA。&lt;/p&gt;
&lt;p&gt;综合上面所说，ctDNA 测序的两大难点：
第一，是突变信号相对于背景信号来说，信号强度极低，只有万分之几，到千分之几。
第二，是样本量极其有限，必须在几十个ng的游离DNA当中，找到突变信息。&lt;/p&gt;
&lt;h2&gt;实验设计&lt;/h2&gt;
&lt;p&gt;所以，在整个 ctDNA 测序的实践过程当中，所有的实验步骤，都是围绕上述2个难点，来进行设计的。  &lt;/p&gt;
&lt;p&gt;首先，我们来说采血。  &lt;/p&gt;
&lt;p&gt;如果采血完成后，马上可以分离血浆，并抽提游离DNA，那么可以用常规的枸橼酸钠、或者EDTA抗凝采血管来采血。但是，不要用肝素采血管来进行采血，因为肝素是多种DNA修饰酶的强抑制剂，而后面的DNA建库过程当中，要用到多种DNA修饰酶，所以不要用肝素采血管来进行采血。  &lt;/p&gt;
&lt;p&gt;如果另一种情况，血液要经过一段时间的保存、运输后，才能达到中央实验室，进行血浆分离，并抽提游离DNA的话，那么建议采用 Streck
公司出品的专用的采血管来进行抽血。Streck 的采血管有以下两个特点：&lt;br /&gt;
第1，它可以防止血液当中的游离DNA降解&lt;br /&gt;
第2，它可以防止血液当中的白细胞破裂  &lt;/p&gt;
&lt;p&gt;因为血液当中的游离DNA很少，而白细胞很多，如果白细胞破裂，那会大大增加测序当中的本底值，所以，防止白细胞破裂是非常必要的。  &lt;/p&gt;
&lt;p&gt;第二步，是抽提血浆游离DNA。在Aaron的文章当中，是用Qiagen公司出的QIAamp  Circulating Nucleic Acid
Kit来进行DNA抽提的。这是一个专门用来抽提血浆游离DNA的专用试剂盒。  &lt;/p&gt;
&lt;p&gt;第三步，是用抽提好的DNA来构建文库。在 Aaron 的文章当中，是用 KAPA 公司的出的 KAPA Library Preparation Kit
来进行文库构建的。  &lt;/p&gt;
&lt;p&gt;第四步，是用捕获试剂盒来对文库进行杂交捕获。在 Aaron 的文章当中，是设计了一个针对139个肿瘤相关基因的捕获 Panel。这个 Panel
的覆盖范围是125个KB的大小。  &lt;/p&gt;
&lt;p&gt;在这个 Panel 当中，包括按照 hg19 参考基因组序列，设计目标区域。这些区域可以用于检测点突变、和插入缺失突变。同时，对于 ALK 和 ROS1
这两个基因当中，常见的、易发生融合基因突变的突变位点，也设计了相应的捕获探针，目的是可以更好地检测到融合基因突变。  &lt;/p&gt;
&lt;p&gt;捕获探针是请 Roche 公司旗下的 Nimblegen 公司合成的。  &lt;/p&gt;
&lt;p&gt;第五步，捕获好的文库，用高保真聚合酶进行扩增。Aaron 的文章当中，是用 KAPA 公司的KAPA HiFi Hot Start Ready Mix
酶，配合Illumina公司的文库接头，进行文库的PCR扩增。然后用 Qiagen 公司的 QIAquick PCR Purification Kit，对
PCR 扩增产物进行纯化。  &lt;/p&gt;
&lt;p&gt;第六步，扩增好的文库，用 HiSeq 2000 测序仪，进行读长为双端各100碱基的高通量DNA测序，这里要特别说明一下，ctDNA
的测序深度是非常深的。一般情况下，会测到上万倍、甚至几万倍的测序深度。在Aaron 的文章当中，平均每个ctDNA
样本，是测2.1G的数据。也就是说，测序的数据量，相当于捕获目标区域大小的17000倍。  &lt;/p&gt;
&lt;p&gt;第七步，是把测序得到的序列，进行生物信息学分析。在ctDNA的数据分析当中，有一些与传统的捕获测序分析过程不一样的参数设定。  &lt;/p&gt;
&lt;p&gt;第一点，就是去除 duplicaton 的过滤条件是不一样的。所谓duplication，就是因为上机测序前的 PCR
扩增，导致一个原始的模板复制出许多个拷贝来。这些复制出来的拷贝，被测序过程多次测到，这就叫 duplication。因为 ctDNA
的测序深度很深，达到上万倍，所以会有大量的 duplication。在 Aaron 的文章当中，duplication
的比例，会高达50%~70%。也就是说，每10个读到的序列当中，有5个到7个是重复的。  &lt;/p&gt;
&lt;p&gt;传统的测序分析当中，如果2条序列的起始位置、和结束位置都一样，就判定这2个序列是 duplication。但是，在 Aaron
的方法当中，如果两条序列的起始、和结束位置是一样的，但是，其中有一个碱基的差别（SNV），则不认为这两条序列是
duplication。这样做，可以尽可能地保留测序结果当中，测到的序列的多样性。也就保证了检测的灵敏度。  &lt;/p&gt;
&lt;p&gt;第二点，是判定点突变（SNV），Aaron采用的置信条件，与通常的方法也不同。Aaron 一定要这个突变的碱基的测序的质量值（Phred quality
score）高于30，才确定这个突变是一个真的突变（SNV），测序得到的碱基质量值（Phred quality
score）是测序仪的分析程序，对一个碱基的可信度的通用判定标准。如果这个值高于30，则这个碱基读错的可能性，低于千分之一，Aaron
通过设置这样一个置信条件，来减少因为测序误差，可能带来的误判。这样，也就提高了检测分析结果的特异性。  &lt;/p&gt;
&lt;p&gt;这就是 ctDNA 测序检测的方法。  &lt;/p&gt;
&lt;h2&gt;结果&lt;/h2&gt;
&lt;p&gt;介绍完方法，我们接下来介绍 Aaron的实验结果。&lt;/p&gt;
&lt;p&gt;Aaron 检测了13个非小细胞肺癌病人的35份游离 DNA 样本，和5个正常人的游离 DNA 样本。  &lt;/p&gt;
&lt;p&gt;同时，也检测了病人的肿瘤样本、和germline 样本（外周血白细胞DNA），把测序的结果进行数据分析。以肿瘤样本中检测到的突变为阳性标准，画出 ROC
曲线。  &lt;/p&gt;
&lt;p&gt;这里，我们简单介绍一下 ROC 曲线，ROC 曲线的英文是: Receiver Operating Characteristic
(ROC)，ROC的横轴，是100%减掉特异性得到的值，纵轴是敏感性的值。  &lt;/p&gt;
&lt;p&gt;ROC 曲线越靠近图型的左上角，则这个检测的较果越好，它的灵敏性、和特异性都好。反之，ROC
曲线越接近对角线，则检测的效果越差，会有很多的假阴性、和假阳性。  &lt;/p&gt;
&lt;p&gt;ROC 曲线下方部分的面积，占整个座标矩型面积的比例，叫 AUC 值，Area Under Curve (AUC)。AUC
值的取值范围在：0.5-1之间。越接近1，则这个检测的分辨效果越好，越接近0.5，则分辨效果越差。  &lt;/p&gt;
&lt;p&gt;AUC 值是评判一个方法好坏的重要标准。  &lt;/p&gt;
&lt;p&gt;更多介绍 ROC 曲线的内容，有兴趣同学可以在微信公众号【陈巍学基因】当中，回复“ROC”三个字，就可以看到更详细的介绍了。  &lt;/p&gt;
&lt;p&gt;回到 Aaron 的实验结果，我们来看这条蓝色的曲线，这是全部13个病人的结果。可以看到这条曲线是比较接近图的左上角的，它的 AUC 值，达到了0.95。  &lt;/p&gt;
&lt;p&gt;这13个病人当中，包括了4个癌症 I 期的病人，和9个癌症 II 期到 IV 期的病人，如果只看这9个癌症II 期到 IV
期的病人的结果（红色曲线），AUC值达到0.99。  &lt;/p&gt;
&lt;p&gt;这两个数值，0.95和0.99的 AUC 值，都说明：CAPP-seq 是一个相当好的检测肿瘤基因突变的方法。  &lt;/p&gt;
&lt;p&gt;在 Aaron 的文章当中，对肿瘤的体积与 CAPP-seq 方法检测到的突变的数量，也进行了分析。共9个病人进行了 CT 或者 PET-CT的检测。  &lt;/p&gt;
&lt;p&gt;来看肿瘤的体积大小，并同时做 CAPP-seq
的检测。检测的结果如果所示，肿瘤的体积，与每毫升血液中检测到的突变量数，呈现出十分明显的相关性。R^2值达到0.89，P值达到0.0002。&lt;/p&gt;
&lt;h2&gt;结论&lt;/h2&gt;
&lt;p&gt;文章的数据表明：针对游离 DNA 进行高深度的靶向DNA 测序，会是未来一个很有前景的肿瘤临床基因检测手段。  &lt;/p&gt;</content><category term="ctDNA"></category></entry><entry><title>终端显示颜色</title><link href="https://ghxdghxd.github.io/terminal-color.html" rel="alternate"></link><published>2017-01-03T10:20:00+08:00</published><updated>2017-01-03T19:30:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2017-01-03:/terminal-color.html</id><summary type="html">&lt;p&gt;终端显示颜色&lt;/p&gt;</summary><content type="html">&lt;p&gt;echo显示带颜色，需要使用参数-e
格式如下:
echo -e "\033[字背景颜色;文字颜色m字符串\033[0m"
例如:
echo -e "\033[41;37m TonyZhang \033[0m"
其中41的位置代表底色, 37的位置是代表字的颜色&lt;/p&gt;
&lt;p&gt;注：
1、字背景颜色和文字颜色之间是英文的“""”
2、文字颜色后面有个m
3、字符串前后可以没有空格，如果有的话，输出也是同样有空格&lt;/p&gt;
&lt;p&gt;下面看几个例子：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[30m 黑色字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[31m 红色字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[32m 绿色字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[33m 黄色字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[34m 蓝色字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[35m 紫色字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[36m 天蓝字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[37m 白色字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[40;37m 黑底白字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[41;37m 红底白字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[42;37m 绿底白字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[43;37m 黄底白字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[44;37m 蓝底白字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[45;37m 紫底白字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[46;37m 天蓝底白字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; -e &lt;span class="s2"&gt;&amp;quot;\033[47;30m 白底黑字 \033[0m&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;!-- more --&gt;

&lt;p&gt;控制选项说明 ：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;代码&lt;/th&gt;
&lt;th&gt;作用&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;\33[0m&lt;/td&gt;
&lt;td&gt;关闭所有属性&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[1m&lt;/td&gt;
&lt;td&gt;设置高亮度&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[4m&lt;/td&gt;
&lt;td&gt;下划线&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[5m&lt;/td&gt;
&lt;td&gt;闪烁&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[7m&lt;/td&gt;
&lt;td&gt;反显&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[8m&lt;/td&gt;
&lt;td&gt;消隐&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[30m -- \33[37m&lt;/td&gt;
&lt;td&gt;设置前景色&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[40m -- \33[47m&lt;/td&gt;
&lt;td&gt;设置背景色&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[nA&lt;/td&gt;
&lt;td&gt;光标上移n行&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[nB&lt;/td&gt;
&lt;td&gt;光标下移n行&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[nC&lt;/td&gt;
&lt;td&gt;光标右移n行&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[nD&lt;/td&gt;
&lt;td&gt;光标左移n行&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[y;xH&lt;/td&gt;
&lt;td&gt;设置光标位置&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[2J&lt;/td&gt;
&lt;td&gt;清屏&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[K&lt;/td&gt;
&lt;td&gt;清除从光标到行尾的内容&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[s&lt;/td&gt;
&lt;td&gt;保存光标位置&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[u&lt;/td&gt;
&lt;td&gt;恢复光标位置&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[?25l&lt;/td&gt;
&lt;td&gt;隐藏光标&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\33[?25h&lt;/td&gt;
&lt;td&gt;显示光标&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</content><category term="linux"></category><category term="color"></category></entry><entry><title>磁盘阵列</title><link href="https://ghxdghxd.github.io/raid.html" rel="alternate"></link><published>2016-11-06T18:29:36+08:00</published><updated>2017-05-02T23:45:22+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2016-11-06:/raid.html</id><summary type="html">&lt;p&gt;各种磁盘阵列的简介&lt;/p&gt;</summary><content type="html">&lt;h1&gt;磁盘阵列（Redundant Arrays of Independent Drives，RAID）&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Raid0: 最少需要&lt;strong&gt;2块&lt;/strong&gt;盘，没用冗余数据,不做备份，任何一块磁盘损坏都无法运行。n块磁盘（同类型）的阵列理论上读写速度是单块磁盘的n倍(实际达不到)，风险性也是单一n倍（实际更高），是磁盘阵列中存储性能最好的。适用于安全性不高，要求比较高性能的图形工作站或者个人站。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Raid1：至少需要&lt;em&gt;2块&lt;/em&gt;*盘，磁盘数量是2的n倍，每一块磁盘要有对应的备份盘，利用率是50%，只要有一对磁盘没有损坏就可以正常使用。n组磁盘（2n块同类型磁盘）的阵列理论上读取速度是单块磁盘的n倍（实际达不到），风险性是单一磁盘的n分之一（实际更低）。换盘后需要长时间的镜像同步，不影响外界访问，但整个系统性能下降。磁盘控制器负载比较大。适用于安全性较高，且能较快恢复数据的场合。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Raid10：至少需要&lt;strong&gt;4块&lt;/strong&gt;盘，磁盘数量也是2的n倍。既有数据镜像备份，也能保证较高的读写速度。成本比较大。&lt;strong&gt;容量 = 每块硬盘容量 * n/2&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Raid3：至少需要&lt;strong&gt;3块&lt;/strong&gt;盘（2块盘没有校验的意义）。将数据存放在n+1块盘上，有效空间是n块盘的总和，最后一块存储校验信息。数据被分割存储在n块盘上，任一数据盘出现问题，可由其他数据盘通过校正监测恢复数据（可以带伤工作），换数据盘需要重新恢复完整的校验容错信息。对阵列写入时会重写校验盘的内容，对校验盘的负载较大，读写速度相较于Raid0较慢，适用于读取多而写入少的应用环境，比如数据库和web服务器。使用容错算法和分块的大小决定了Raid3在通常情况下用于大文件且安全性要求较高的应用，比如视频编辑、硬盘播出机、大型数据库等。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Raid5：至少需要&lt;strong&gt;3块&lt;/strong&gt;盘，读取速度接近Raid0，但是安全性更高。安全性上接近Raid1，但是磁盘的利用率更高。可以认为是Raid0和Raid1的一个折中方案。只允许有一块盘出错，可以通过另外多块盘来计算出故障盘的数据，故障之后必须尽快更换。比Raid0+1的磁盘利用率高，是目前比较常用的一种方案。&lt;strong&gt;容量 = 每块硬盘容量 * (n-2)&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content><category term="raid"></category></entry><entry><title>BRCA基因检测</title><link href="https://ghxdghxd.github.io/BRCA.html" rel="alternate"></link><published>2016-11-03T20:10:00+08:00</published><updated>2016-11-03T20:31:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2016-11-03:/BRCA.html</id><summary type="html">&lt;p&gt;BRCA的基因检测&lt;/p&gt;</summary><content type="html">&lt;h1&gt;背景&lt;/h1&gt;
&lt;p&gt;一方面，BRCA是抑癌基因，突变后容易得肿瘤，另一方面，BRCA可以修复DNA损伤。而DNA两条自我修复途径：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;PARP(poly ADP-ribose polymerase)是DNA修复酶作为关键因子&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;BRCA1和BRCA2起关键作用&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果上述修复通路同时锁定，肿瘤细胞会因累积DNA损伤而死亡，因此&lt;strong&gt;如果BRCA突变，则可用PARP抑制剂治疗肿瘤&lt;/strong&gt;&lt;/p&gt;
&lt;h1&gt;BRCA体细胞突变检测现况&lt;/h1&gt;
&lt;p&gt;在乳腺癌、卵巢癌中检测到的BRCA 1/2 突变，其中20%左右是由于体突变引起。体细胞突变的检测需要正常组织做对照，常用血细胞做对照（如TCGA
癌症研究）。研究发现，体细胞突变与胚系突变的卵巢癌，乳腺癌病人在生存、预后方面没有明显的差异，并且都可以用奥拉帕利进行治疗。但是相对于胚系突变，体细胞突变检测难度大些。检测的难度和准确性主要受样本类型、癌症细胞含量以及突变比例（具有BRCA
1/2 体细胞突变的癌细胞占所有癌细胞的比例）等影响。因此，针对BRCA基因体细胞突变的检测技术还在完善中。&lt;/p&gt;</content><category term="BRCA"></category><category term="Genetic Test"></category></entry><entry><title>hotnet2</title><link href="https://ghxdghxd.github.io/hotnet2.html" rel="alternate"></link><published>2016-11-03T19:01:00+08:00</published><updated>2016-11-18T11:07:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2016-11-03:/hotnet2.html</id><summary type="html">&lt;p&gt;hotnet2的简介&lt;/p&gt;</summary><content type="html">&lt;p&gt;hotnet2是一种新型计算机算法，能够筛选庞大的遗传数据，发现相互作用基因，而这些基因一旦突变就会导致多种癌症的发生发展。&lt;/p&gt;
&lt;h1&gt;背景&lt;/h1&gt;
&lt;p&gt;预先定义一个合理的基因集合或组合的统计需求&lt;/p&gt;
&lt;p&gt;标准化分析突变相关通路及蛋白复合物的方法&lt;/p&gt;
&lt;p&gt;这项研究没有选择癌症遗传学研究，而是采用了与众不同的方式，寻找癌症样品中频繁出现的单个基因的突变。基因并不会常常独自作战，主要还是与其它基因形成网络和途径，调控细胞功能。在某些情况下，途径中多个基因中出现一个突变，就会引发故障发生，导致癌症。因为有害突变可以分布在多个这样的基因网络，因此难以通过统计检验发现它们。&lt;/p&gt;
&lt;p&gt;而Hotnet2运算方法则能在网络水平上分析基因，帮助科学家们识别罕见，但又重要的癌症突变。&lt;/p&gt;
&lt;p&gt;HotNet2 算法是通过将病患突变数据投射到一张基因相互作用图谱上，然后寻找比偶发突变更常见的突变之间的相互作用网络，这一程序能作为heat sources寻找经常突变的基因。通过分析图谱上分布和聚集的方式，HotNet2 能找到与癌症相关的的“热”网络。&lt;/p&gt;
&lt;p&gt;Hotnet 的最初版本已经被用于识别急性髓细胞白血病、卵巢癌和几个其它类型癌症中的重要网络，目前这一版本也经过修改，可以用于处理更大和更复杂的泛癌症数据集。&lt;/p&gt;
&lt;h1&gt;subnetworks.json结构&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;stats : {Minimum edge weight δ: {
    Minimum subnetwork size1 : {expected : XXX,  observed : XXX,  pval : XXX}
    Minimum subnetwork size2 : { expected : XXX,  observed : XXX,  pval : XXX}
    }}&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;deltas : [ deltas1, deltas2, deltas3, deltas4]
    Minimum edge weight δ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;mutation_matrices : {deltas 1:{}, deltas2 : {}, deltas3 : {}, deltas4 : {}}
    基因不同位点的类型（snv indel 或 cnv)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;typeToSamples&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;subnetworks：{deltas :[ network0, network1] }
    network: {edges :{&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ks Minimum subnetwork size&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;sampleToTypes： 样本类型&lt;/li&gt;
&lt;/ul&gt;</content><category term="hotnet2"></category></entry><entry><title>git的一般用法</title><link href="https://ghxdghxd.github.io/git.html" rel="alternate"></link><published>2016-11-03T10:20:00+08:00</published><updated>2016-11-05T19:30:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2016-11-03:/git.html</id><summary type="html">&lt;p&gt;git的一般用法&lt;/p&gt;</summary><content type="html">&lt;h1&gt;Git用法&lt;/h1&gt;
&lt;h2&gt;1 建立仓库&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;远程&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git remote add origin git@github.com:ghxdghxd&lt;span class="nv"&gt;$NAME&lt;/span&gt;.git&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;本地(初始化)&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git init&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;2 常用操作&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;拉取&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git pull origin master&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;提交&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git add *.py&lt;/span&gt;
&lt;span class="code-line"&gt;git commit -m &lt;span class="s2"&gt;&amp;quot;message&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;git push origin master/dev/develop&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;!--more--&gt;

&lt;ul&gt;
&lt;li&gt;重命令与删除&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git rm&lt;/span&gt;
&lt;span class="code-line"&gt;git mv&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;3 分支操作&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="center"&gt;主支&lt;/th&gt;
&lt;th align="center"&gt;修补&lt;/th&gt;
&lt;th align="center"&gt;发布&lt;/th&gt;
&lt;th align="center"&gt;开发&lt;/th&gt;
&lt;th align="center"&gt;功能&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="center"&gt;master&lt;/td&gt;
&lt;td align="center"&gt;hotfix&lt;/td&gt;
&lt;td align="center"&gt;release&lt;/td&gt;
&lt;td align="center"&gt;develop&lt;/td&gt;
&lt;td align="center"&gt;feature&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git branch  /-a/r       &lt;span class="c1"&gt;# 查看本地/全部/远程分支&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;git branch &lt;span class="o"&gt;[&lt;/span&gt;name&lt;span class="o"&gt;]&lt;/span&gt;       &lt;span class="c1"&gt;# 建立分支&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;git branch -d &lt;span class="o"&gt;[&lt;/span&gt;name&lt;span class="o"&gt;]&lt;/span&gt;    &lt;span class="c1"&gt;# 删除本地分支&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;git push origin --delete &lt;span class="o"&gt;[&lt;/span&gt;name&lt;span class="o"&gt;]&lt;/span&gt;         &lt;span class="c1"&gt;# 删除远程分支&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;git checkout -b &lt;span class="o"&gt;[&lt;/span&gt;name&lt;span class="o"&gt;]&lt;/span&gt; origin/develop   &lt;span class="c1"&gt;# 建立并切换开发分支&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;git checkout &lt;span class="o"&gt;[&lt;/span&gt;name&lt;span class="o"&gt;]&lt;/span&gt;                     &lt;span class="c1"&gt;# 切换分支&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;git merge --no-ff &lt;span class="o"&gt;[&lt;/span&gt;name&lt;span class="o"&gt;]&lt;/span&gt;                &lt;span class="c1"&gt;# 合并分支&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;git push origin dev:develop             &lt;span class="c1"&gt;# 本地分支提交到远程&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 删除远程分支后，本地未同步的问题&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;git remote show origin      &lt;span class="c1"&gt;# 可以查看remote地址，远程分支，还有本地分支与之相对应关系等信息&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;git remote prune origin     &lt;span class="c1"&gt;# 删除了那些远程仓库不存在的分支&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;push命令用于将本地分支的更新，推送到远程主机。&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git push &amp;lt;远程主机名&amp;gt; &amp;lt;本地分支名&amp;gt;:&amp;lt;远程分支名&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;git pull类似:
    git pull &amp;lt;远程分支&amp;gt;:&amp;lt;本地分支&amp;gt;&lt;/p&gt;
&lt;p&gt;注意，分支推送顺序的写法是&amp;lt;来源地&amp;gt;:&amp;lt;目的地&amp;gt;，
所以git pull是&amp;lt;远程分支&amp;gt;:&amp;lt;本地分支&amp;gt;，而git push是&amp;lt;本地分支&amp;gt;:&amp;lt;远程分支&amp;gt;。
如果省略远程分支名，则表示将本地分支推送与之存在”追踪关系”的远程分支(通常两者同名)，如果该远程分支不存在，则会被新建。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git push origin master&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;上面命令表示，将本地的master分支推送到origin主机的master分支。如果后者不存在，则会被新建。&lt;/p&gt;
&lt;p&gt;如果省略本地分支名，则表示删除指定的远程分支，因为这等同于推送一个空的本地分支到远程分支。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git push origin :master&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;等同于&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git push origin --delete master&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;上面命令表示删除origin主机的master分支。&lt;/p&gt;
&lt;p&gt;如果当前分支与远程分支之间存在追踪关系，则本地分支和远程分支都可以省略。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git push origin&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;上面命令表示，将当前分支推送到origin主机的对应分支。&lt;/p&gt;
&lt;p&gt;如果当前分支只有一个追踪分支，那么主机名都可以省略。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git push&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;如果当前分支与多个主机存在追踪关系，则可以使用-u选项指定一个默认主机，这样后面就可以不加任何参数使用git push。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git push -u origin master&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;上面命令将本地的master分支推送到origin主机，同时指定origin为默认主机，后面就可以不加任何参数使用git push了。&lt;/p&gt;
&lt;p&gt;不带任何参数的git push，默认只推送当前分支，这叫做simple方式。此外，还有一种matching方式，会推送所有有对应的远程分支的本地分支。Git 2.0版本之前，默认采用matching方法，现在改为默认采用simple方式。如果要修改这个设置，可以采用git config命令。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git config --global push.default matching&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;或者&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git config --global push.default simple&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;还有一种情况，就是不管是否存在对应的远程分支，将本地的所有分支都推送到远程主机，这时需要使用–all选项。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git push --all origin&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;上面命令表示，将所有本地分支都推送到origin主机。&lt;/p&gt;
&lt;p&gt;如果远程主机的版本比本地版本更新，推送时Git会报错，要求先在本地做git pull合并差异，然后再推送到远程主机。这时，如果你一定要推送，可以使用–force选项。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git push --force origin&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;上面命令使用–force选项，结果导致在远程主机产生一个”非直进式”的合并(non-fast-forward merge)。除非你很确定要这样做，否则应该尽量避免使用–force选项。&lt;/p&gt;
&lt;p&gt;最后，git push不会推送标签(tag)，除非使用–tags选项。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git push origin --tags&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;中文乱码&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git config --global core.quotepath &lt;span class="nb"&gt;false&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;core.quotepath设为false的话，就不会对0x80以上的字符进行quote。中文显示正常。&lt;/p&gt;
&lt;h2&gt;gitignore忽略文件&lt;/h2&gt;
&lt;p&gt;1、配置语法：&lt;/p&gt;
&lt;p&gt;以斜杠“/”开头表示目录；&lt;/p&gt;
&lt;p&gt;以星号“*”通配多个字符；&lt;/p&gt;
&lt;p&gt;以问号“?”通配单个字符&lt;/p&gt;
&lt;p&gt;以方括号“[]”包含单个字符的匹配列表；&lt;/p&gt;
&lt;p&gt;以叹号“!”表示不忽略(跟踪)匹配到的文件或目录；&lt;/p&gt;
&lt;p&gt;此外，git 对于 .ignore 配置文件是按行从上到下进行规则匹配的，意味着如果前面的规则匹配的范围更大，则后面的规则将不会生效；&lt;/p&gt;
&lt;p&gt;2、示例：&lt;/p&gt;
&lt;p&gt;（1）规则：fd1/*
　　　　  说明：忽略目录 fd1 下的全部内容；注意，不管是根目录下的 /fd1/ 目录，还是某个子目录 /child/fd1/ 目录，都会被忽略；&lt;/p&gt;
&lt;p&gt;（2）规则：/fd1/*
　　　　  说明：忽略根目录下的 /fd1/ 目录的全部内容；&lt;/p&gt;
&lt;p&gt;（3）规则：&lt;/p&gt;
&lt;p&gt;/*
!.gitignore
!/fw/bin/
!/fw/sf/&lt;/p&gt;
&lt;p&gt;说明：忽略全部内容，但是不忽略 .gitignore 文件、根目录下的 /fw/bin/ 和 /fw/sf/ 目录；&lt;/p&gt;
&lt;h2&gt;warning: LF will be replaced by CRLF&lt;/h2&gt;
&lt;p&gt;在Windows环境下使用git进行add的时候，会提示如下warning: “warning:LF will be replacee by CRLF”。&lt;/p&gt;
&lt;p&gt;这是因为在Windows中的换行符为CRLF，而在Linux中的换行符为LF。
在git创建的项目中换行符为LF，而执行git add时，系统会提示LF将被转换为CRLF。
解决的办法很简单，禁止git的自动转换即可。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;git config --global core.autocrlf &lt;span class="nb"&gt;false&lt;/span&gt; //禁用自动转换&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="git"></category></entry><entry><title>变异标准化</title><link href="https://ghxdghxd.github.io/variant.html" rel="alternate"></link><published>2016-10-20T20:10:00+08:00</published><updated>2016-12-27T21:28:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2016-10-20:/variant.html</id><summary type="html">&lt;p&gt;突变的标准化概念及标准&lt;/p&gt;</summary><content type="html">&lt;h1&gt;介绍&lt;/h1&gt;
&lt;p&gt;VCF(Variant Call Format)格式文件是一种灵活的格式, 可以用来表示SNPs、INDELs及CNVs等很多种变异类型.但,&lt;strong&gt;VCF文件中的变异表达在参考型和突变型的表示上具有不唯一性&lt;/strong&gt;，一次失败的识别很容易造成错误的分析.&lt;/p&gt;
&lt;p&gt;变异标准化(variant normalization)，不仅适用于双等位基因同时适用于多等位基因.&lt;/p&gt;
&lt;h1&gt;定义&lt;/h1&gt;
&lt;p&gt;VCF中的变异标准化涉及两个方面:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;变异长度上的简约性(parsimony)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;变异位置左对齐(left alignment)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;1、简约性(Parsimony)&lt;/h2&gt;
&lt;p&gt;在变异表达中，简约性代表用&lt;strong&gt;尽可能少但不为0的核苷酸数量&lt;/strong&gt;来表示每一个等位基因，它描述了变异的长度属性，&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;定义：&lt;/strong&gt;当且仅当一个变异使用了尽可能少的核苷酸, 并且没有一个等位基因的长度为0时, 称该变异为简约的.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;并定义：&lt;/strong&gt;如果每个等位基因的最左侧核苷酸相同, 且移除该核苷酸并不会导致空等位基因, 则称该变异在左侧有多余核苷酸.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;例&lt;/strong&gt;：如下实例中, 多核苷酸多态性在前三种表示上都有多余核苷酸, 而第四种表示上则是简约的. 当一个变异在左侧具有多余核苷酸时, 称该变异为左侧未简约, 并需要进行左切除. 同理, 右侧未简约也需要进行由切除. 简约性在INDELs一样体现, 在左对齐章节将做示范.&lt;/p&gt;
&lt;p&gt;&lt;img alt="标准化1" src="images/variant.normalization.1.png" /&gt;&lt;/p&gt;
&lt;p&gt;图中展示了多核苷酸多态性的多种展示,
&lt;strong&gt;最左列&lt;/strong&gt;用颜色区分了四种可能存在的不同表示方式.
&lt;strong&gt;右边一列&lt;/strong&gt;展示了在VCF文件中的相应表示.
&lt;strong&gt;最后一列&lt;/strong&gt;展示了四种方式的简约性表现.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;在简约性的定义的基础上, 容易看到:&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;如果一个变异是非简约的, 则所有的等位基因长度必须大于1.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;2、左对齐(Left alignment)&lt;/h2&gt;
&lt;p&gt;将一个变异左对齐表示将该变异的起始位置尽可能地向左移动. 这是插入、缺失中的相关概念, 描述了变异的位置属性.
为了区分左对齐和简单的对一个变异左填充,
给出&lt;strong&gt;定义&lt;/strong&gt;如下:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;在保持所有等位基因长度的前提下, 当且仅当一个变异不可能再往左移动时, 称该变异为左对齐的.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;下图展示了一个没有标准化的短串联重复序列(一种特殊的indel). 并且用和图中颜色对应的文字对变异进行描述.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;font style: "color=red"&gt; VCF文件要求任意一个等位基因都不能以空字符串的形式表示(空等位基因).红色的indel是非法的VCF表示方式.&lt;/li&gt;
&lt;li&gt;&lt;font style: "color=gree"&gt; 绿色的变异并不是左对齐的, 你可以在该变异的每个等位基因左边加上一个核苷酸,并移除每个等位基因右边的C. 但该变异是简约的.&lt;/li&gt;
&lt;li&gt;&lt;font style: "color=orange"&gt; 橙色的变异是左对齐的, 但是右侧并不简约&lt;/li&gt;
&lt;li&gt;&lt;font style: "color=blue"&gt; 蓝色的变异是左对齐的, 但是左侧并不简约.褐红色的变异是左对齐并且简约的.&lt;/li&gt;
&lt;li&gt;&lt;font style: "color=brown"&gt; 褐红色的变异是左对齐并且简约的&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="标准化2" src="images/variant.normalization.2.png" /&gt;&lt;/p&gt;
&lt;p&gt;图中展示了CA微卫星(Short Tendem Repeat)的多种表示方式,
&lt;strong&gt;最左列&lt;/strong&gt;用颜色区分了五种可能存在的不同表示方式.
&lt;strong&gt;右边一列&lt;/strong&gt;展示了在VCF文件中的相应表示.
&lt;strong&gt;最后一列&lt;/strong&gt;展示了该微卫星的五种方式的左对齐以及简约性表现.&lt;/p&gt;
&lt;h2&gt;3、区分是否标准化&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;当且仅当一个变异是简约且左对齐时, 称该变异是标准化的.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;3.1、引论&lt;/h3&gt;
&lt;p&gt;为了检测一个变异是否标准化, 我们首先需要证明以下引论(1):&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;当且仅当变异是非左对齐或者非右简约时, 该变异的所有等位基因都以同样的核苷酸结尾.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;从=&amp;gt;方向证明:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果一个indel是左对齐并且右侧简约时, 该变异的所有等位基因不以同样的核苷酸结尾.&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;首先假设一个indel已经左对齐并且右侧简约.
1.当任一等位基因长度大于1时, 由于该indel是右侧简约的, 很显然每个等位基因不能以同样的核苷酸结尾.
2.当其中某一等位基因长度为1时, 并假设所有的等位基因都以A结尾. 此时, 为了避免出现空等位基因的情况, 右侧已经不再能去除相同的A核苷酸,故右侧仍然是简约的.
3.在任意等位基因左侧延长一个核苷酸(复制参考基因组), 此时在右侧就出现了多余的核苷酸. 将该核苷酸去除,结果导致indel的每个等位基因在保持长度不变的前提下向左移动了一个位置, 这和该indel是左对齐矛盾.
因此, 所有的等位基因都不能以相同的核苷酸结尾.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;从&amp;lt;=方向证明:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果一个indel是非左对齐或者非右简约时, 该变异的所有等位基因都以同样的核苷酸结尾.&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;假设该变异是非左对齐的, 则对该变异进行左对齐操作时, 为了保证长度不变, 则每移动一个核苷酸就必须从右侧移除一个相同的核苷酸,
因此该变异右侧至少存在一个相同的核苷酸, 否则无法进行左对齐操作.
假设该变异是非右简约的, 根据定义可知, 该变异的所有等位基因中, 最右侧的碱基都必须相同以期望被移除.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;3.2、必然性&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;一个变异是标准化的当且仅当:
1.在左侧没有多余的碱基;
2.任意一个等位基因都以不同的核苷酸结尾;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;证明:
一个变异是标准化的当且仅当该变异简约并且左对齐
=&amp;gt; 一个变异是标准化的当且仅当该变异左简约并且右简约并且左对齐
=&amp;gt; 一个变异是标准化的当且仅当该变异左侧没有多余核苷酸并且右侧没有多余核苷酸并且左对齐
=&amp;gt; 一个变异是标准化的当且仅当该变异左侧没有多余的核苷酸并且所有等位基因不以相同的核苷酸结尾 (引论1)&lt;/p&gt;
&lt;h3&gt;3.3、唯一性&lt;/h3&gt;
&lt;p&gt;变异的标准化得到唯一的变异表达是非常重要的, 在我们证明之前, 先凭直觉接受:
一个变异的任意表达都可以通过同时在等位基因一端添加参考核苷酸或者同时在等位基因的一端移除相同的核苷酸, 从而得到另外一种表达.&lt;/p&gt;
&lt;p&gt;现在假设有变异的两个标准化A和B. 不失一般性, 假设B在A的右侧, 由于标准化的定义, A和B都是左对齐的,
如果A和B不在同一个位置则意味着B可以通过向左对齐变成A(由于A和B表示了相同的变异), 与B是标准化矛盾, 所以A和B必然在相同的位置.&lt;/p&gt;
&lt;p&gt;假设A和B虽然在同一个位置, 但是长度不同, 不失一般性认为B比A长, 则B肯定是非简约并且可以通过去除核苷酸达到和A相同的长度, 与B标准化矛盾,
所以A和B长度必然相同.&lt;/p&gt;
&lt;p&gt;由于A和B必然在同一个位置并且长度相同, 故变异的标准化表示是唯一的.&lt;/p&gt;
&lt;h3&gt;3.4、 实施&lt;/h3&gt;
&lt;p&gt;vt中已经得到了实施.&lt;/p&gt;
&lt;h3&gt;3.5、标准化的算法&lt;/h3&gt;
&lt;p&gt;现在我们知道了如何区分一个变异是否标准化, 我们只需要操作变异表达方式, 直到最后侧的核苷酸不同并且去除左侧多余的核苷酸, 即可得到一个标准化后的变异表达.
标准化双等位基因和多等位基因的算法表示如下:&lt;/p&gt;
&lt;p&gt;&lt;img alt="标准化3" src="images/variant.normalization.3.png" /&gt;&lt;/p&gt;
&lt;p&gt;1到8行进行了左对齐操作并且保证右侧简约. 9到11行保证左侧的简约.&lt;/p&gt;
&lt;h2&gt;4、比较&lt;/h2&gt;
&lt;p&gt;2014年5月20号&lt;/p&gt;
&lt;p&gt;下面的表格展示了对一个不公开数据进行标准化时, 正确标准化的变异数量. 该比较在2014年5月20号完成.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="center"&gt;Dataset&lt;/th&gt;
&lt;th align="center"&gt;bcftools&lt;/th&gt;
&lt;th align="center"&gt;gatk&lt;/th&gt;
&lt;th align="center"&gt;vt&lt;/th&gt;
&lt;th align="center"&gt;comments&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="center"&gt;normalized&lt;/td&gt;
&lt;td align="center"&gt;18849&lt;/td&gt;
&lt;td align="center"&gt;18794&lt;/td&gt;
&lt;td align="center"&gt;18849&lt;/td&gt;
&lt;td align="center"&gt;bcftools的标准化存在bug, 会去除不同的核苷酸.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;normalized after bcftools&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;bcftools的标准化结果没有被进一步标准化&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;normalized after gatk&lt;/td&gt;
&lt;td align="center"&gt;-&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;57&lt;/td&gt;
&lt;td align="center"&gt;gatk的写了只使用双等位基因的文档. 57个gatk的标准化结果被vt重新左对齐.其中有6个是双等位基因, 51个是多等位基因. 注意有两个变异被gatk修改但是没有完全标准化&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;normalized after vt&lt;/td&gt;
&lt;td align="center"&gt;-&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;vt的标准化结果没有被进一步标准化&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;使用的命令为:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;bcftools norm -f ref.fa in.vcf -O z &amp;gt; out.vcf.gz&lt;/span&gt;
&lt;span class="code-line"&gt;java -jar GenomeAnalysisTK.jar -T LeftAlignAndTrimVariants --trimAlleles -R&lt;/span&gt;
&lt;span class="code-line"&gt;ref.fa --variant in.vcf.gz -o out.vcf.gz&lt;/span&gt;
&lt;span class="code-line"&gt;vt normalize -r ref.vcf.gz -o out.vcf.gz&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;使用的版本为:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;bcftools v0.2.0-rc8-5-g0e06231 &lt;span class="o"&gt;(&lt;/span&gt;using htslib &lt;span class="m"&gt;0&lt;/span&gt;.2.0-rc8-6-gd49dfa6&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;GATK v3.1-1-g07a4bf8&lt;/span&gt;
&lt;span class="code-line"&gt;vt normalize v0.5&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;5、一个该标准化算法失效的例子&lt;/h2&gt;
&lt;p&gt;我们用下面的规则区分变异的标准化(normalization)和分解/组合(decomposition/reconstruction):&lt;/p&gt;
&lt;p&gt;标准化代表着将一个变异的多个表达降低为一个权威的表达. 标准化可以适用于双等位基因和多等位基因. 变异标准化问题已经被解决,
并且有一个唯一的表示方式(左对齐并且简约的表达). 数学证明已经发表.1&lt;/p&gt;
&lt;p&gt;变异的分解代表着将一个变异的表达拆分成多个变异. 这个分解可以是纵向的 —— 将一个多等位基因分解成双等位基因. 也可以是横向的 ——
将一个包含多个indel和snp群的复合变异分解成多个单一变异. 横向分解常常不仅有一个结果. 相似地,
将多个变异组合重构成一个变异也有横向和纵向两种方式. 讲一个复合变异纵向分解是一个多对一的函数, 将多个双等位基因组合为一个复合变异则并不具有唯一解,
需要考虑到所有等位基因可能的排列.&lt;/p&gt;
&lt;p&gt;如果你的例子中包含了变异的分解和组合, 那么你就有可能发现前后不一致.&lt;/p&gt;
&lt;p&gt;区分标准化和分解组合的不同点是非常重要的. 标准化的概念意味着变异有标准表示格式. 如果在你的标准化概念里加入分解和组合,
由于可辨别性的内在差异(是否具有唯一解等), 你将会得到前后不一致的情况.&lt;/p&gt;
&lt;p&gt;当进行分解组合操作时, 我认为应当考虑以下几点:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;你的变异仅仅用来表示单个个体还是一个群体？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;这些基因型是否在独立的阶段产生?&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在不同的情况下可能得到不同的答案.&lt;/p&gt;
&lt;p&gt;An example of inconsistent variant representation due to using vt normalize&lt;/p&gt;</content><category term="variant"></category></entry><entry><title>markdown格式详解</title><link href="https://ghxdghxd.github.io/markdown.html" rel="alternate"></link><published>2016-10-20T16:00:00+08:00</published><updated>2016-10-20T16:30:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2016-10-20:/markdown.html</id><summary type="html">&lt;p&gt;markdown格式详解&lt;/p&gt;</summary><content type="html">&lt;h1&gt;1 概述&lt;/h1&gt;
&lt;p&gt;&lt;a href="http://zh.wikipedia.org/wiki/Markdown" title="Wiki: Markdown"&gt;Wiki: Markdown&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Markdown 是一种轻量级标记语言，创始人为约翰·格鲁伯（John Gruber）。&lt;br /&gt;
它使用易读易写的纯文本格式编写文档，然后转换成有效的 XHTML（或者 HTML）文档。&lt;br /&gt;
这种语言吸收了很多在电子邮件中已有的纯文本标记的特性。&lt;br /&gt;
”.md“ 和 ”.markdown“ 都是被普遍支持的扩展名，不过 ”.md“ 更加简单和方便。&lt;/p&gt;
&lt;h2&gt;为什么选择 Markdown&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;它基于纯文本，方便修改和共享&lt;/li&gt;
&lt;li&gt;几乎可以在所有的文本编辑器中编写&lt;/li&gt;
&lt;li&gt;有众多编程语言的实现，以及应用的相关扩展&lt;/li&gt;
&lt;li&gt;在 &lt;a href="https://github.com/"&gt;GitHub&lt;/a&gt; 等网站中有很好的应用&lt;/li&gt;
&lt;li&gt;很容易转换为 HTML 文档或其他格式&lt;/li&gt;
&lt;li&gt;适合用来编写文档、记录笔记、撰写文章&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;兼容 HTML&lt;/h3&gt;
&lt;p&gt;Markdown 完全兼容 HTML 语法，可以直接在 Markdown 文档中插入 HTML 内容：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;table&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;tr&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;td&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;1&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;td&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;td&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;2&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;td&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;tr&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;tr&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;td&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;3&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;td&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;td&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;4&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;td&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;tr&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;table&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;这段代码会变成下面的样子：&lt;/p&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;

&lt;h1&gt;2 语法&lt;/h1&gt;
&lt;h2&gt;2.1 标题&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="left"&gt;任何数量的"="和"-"&lt;/th&gt;
&lt;th align="left"&gt;使用左边或两边对称"#"&lt;/th&gt;
&lt;th align="center"&gt;显示效果&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="left"&gt;正副二级标题&lt;/td&gt;
&lt;td align="left"&gt;标记1-6级标题&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;一级标题&lt;br&gt;======&lt;/td&gt;
&lt;td align="left"&gt;# 一级标题 &lt;s&gt;#&lt;/s&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;h1&gt; 一级标题&lt;/h1&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;二级标题&lt;br&gt;------&lt;/td&gt;
&lt;td align="left"&gt;## 二级标题 &lt;s&gt;##&lt;/s&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;h2&gt; 二级标题&lt;/h2&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;### 三级标题 &lt;s&gt;###&lt;/s&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;h3&gt; 三级标题&lt;/h3&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;#### 四级标题 &lt;s&gt;####&lt;/s&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;h4&gt; 四级标题&lt;/h4&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;##### 五级标题 &lt;s&gt;#####&lt;/s&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;h5&gt; 五级标题&lt;/h5&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;###### 六级标题 &lt;s&gt;#####&lt;/s&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;h6&gt; 六级标题&lt;/h6&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;2.2 段落与换行&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;段落的前后必须是空行：&lt;/li&gt;
&lt;li&gt;空行指的是行内什么都没有，或者只有空白符（空格或制表符）&lt;/li&gt;
&lt;li&gt;相邻两行文本，如果中间没有空行会显示在一行中（换行符被转换为空格）&lt;/li&gt;
&lt;li&gt;如果需要在段落内加入换行（&lt;code&gt;&amp;lt;br&amp;gt;&lt;/code&gt;）：&lt;/li&gt;
&lt;li&gt;可以在前一行的末尾加入至少两个空格, 然后换行写其它的文字&lt;/li&gt;
&lt;li&gt;Markdown 中的多数区块都需要在两个空行之间&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;2.3 引用&lt;/h2&gt;
&lt;h3&gt;2.3.1 引用内容&lt;/h3&gt;
&lt;p&gt;在段落或其他内容前使用 &lt;code&gt;&amp;gt;&lt;/code&gt; 符号，就可以将这段内容标记为 '引用' 的内容（&lt;code&gt;&amp;lt;blockquote&amp;gt;&lt;/code&gt;）：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;引用内容&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;引用内容&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;2.3.2 多行引用&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;多行引用&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;gt;可以在每行前加 `&amp;gt;`&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;多行引用
可以在每行前加 &lt;code&gt;&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;如果仅在第一行使用 `&amp;gt;`，&lt;/span&gt;
&lt;span class="code-line"&gt;后面相邻的行即使省略 `&amp;gt;`，也会变成引用内容&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;如果仅在第一行使用 &lt;code&gt;&amp;gt;&lt;/code&gt;，
后面相邻的行即使省略 &lt;code&gt;&amp;gt;&lt;/code&gt;，也会变成引用内容&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;如果引用内容需要换行，&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;gt;可以在行尾添加两个空格&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;gt;或者在引用内容中加一个空行&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;如果引用内容需要换行，
可以在行尾添加两个空格&lt;/p&gt;
&lt;p&gt;或者在引用内容中加一个空行&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;2.3.3 嵌套引用&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;也可以在引用中&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;gt;&amp;gt;使用嵌套的引用&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;也可以在引用中&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;使用嵌套的引用&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h3&gt;2.3.4 其他 Markdown&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;在引用中可以使用使用其他任何 *Markdown* 语法&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;在引用中可以使用使用其他任何 &lt;em&gt;Markdown&lt;/em&gt; 语法&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;2.4 列表&lt;/h2&gt;
&lt;h3&gt;2.4.1 无序列表&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;* 可以使用 `*` 作为标记&lt;/span&gt;
&lt;span class="code-line"&gt;+ 也可以使用 `+`&lt;/span&gt;
&lt;span class="code-line"&gt;- 或者 `-`&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;* 可以使用 &lt;code&gt;*&lt;/code&gt; 作为标记
+ 也可以使用 &lt;code&gt;+&lt;/code&gt;
- 或者 &lt;code&gt;-&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;2.4.2 有序列表&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;1. 有序列表以数字和 `.` 开始；&lt;/span&gt;
&lt;span class="code-line"&gt;3. 数字的序列并不会影响生成的列表序列；&lt;/span&gt;
&lt;span class="code-line"&gt;4. 但仍然推荐按照自然顺序（1.2.3...）编写。&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;1.有序列表以数字和 &lt;code&gt;.&lt;/code&gt; 开始；
3.数字的序列并不会影响生成的列表序列；
4.但仍然推荐按照自然顺序（1.2.3...）编写。&lt;/p&gt;
&lt;h3&gt;2.4.3 嵌套的列表&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;1. 第一层&lt;/span&gt;
&lt;span class="code-line"&gt;+ 1-1&lt;/span&gt;
&lt;span class="code-line"&gt;+ 1-2&lt;/span&gt;
&lt;span class="code-line"&gt;2. 无序列表和有序列表可以随意相互嵌套&lt;/span&gt;
&lt;span class="code-line"&gt;1. 2-1&lt;/span&gt;
&lt;span class="code-line"&gt;2. 2-2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;1.第一层
+1-1
+1-2
2.无序列表和有序列表可以随意相互嵌套
1.2-1
2.2-2&lt;/p&gt;
&lt;h3&gt;语法和用法&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;无序列表项的开始是：符号 空格；&lt;/li&gt;
&lt;li&gt;有序列表项的开始是：数字 &lt;code&gt;.&lt;/code&gt; 空格；&lt;/li&gt;
&lt;li&gt;空格至少为一个，多个空格将被解析为一个；&lt;/li&gt;
&lt;li&gt;如果仅需要在行前显示数字和 &lt;code&gt;.&lt;/code&gt;：&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;05\. 可以使用：数字\. 来取消显示为列表&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;05. 可以使用：数字\. 来取消显示为列表&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;\*&lt;/code&gt; 的语法专门用来显示 Markdown 语法中使用的特殊字符，参考 &lt;a href="blackslash-escapes.md"&gt;字符转义&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;2.5 代码&lt;/h2&gt;
&lt;h3&gt;2.5.1 代码块&lt;/h3&gt;
&lt;p&gt;可以使用缩进来插入代码块：&lt;/p&gt;
&lt;p&gt;&lt;html&gt; // Tab开头
&lt;title&gt;Markdown&lt;/title&gt;
&lt;/html&gt; // 四个空格开头&lt;/p&gt;
&lt;p&gt;代码块前后需要有至少一个空行，且每行代码前需要有至少一个 Tab 或四个空格；&lt;/p&gt;
&lt;h3&gt;2.5.2 行内代码&lt;/h3&gt;
&lt;p&gt;也可以通过 ``，插入行内代码（` 是 &lt;code&gt;Tab&lt;/code&gt; 键上边、数字 &lt;code&gt;1&lt;/code&gt; 键左侧的那个按键）：&lt;/p&gt;
&lt;p&gt;例如 &lt;code&gt;&amp;lt;title&amp;gt;Markdown&amp;lt;/title&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;2.5.3 转换规则&lt;/h3&gt;
&lt;p&gt;代码块中的文本（包括 Markdown 语法）都会显示为原始内容，而特殊字符会被转换为 HTML &lt;a href="https://zh.wikipedia.org/wiki/XML%E4%B8%8EHTML%E5%AD%97%E7%AC%A6%E5%AE%9E%E4%BD%93%E5%BC%95%E7%94%A8%E5%88%97%E8%A1%A8"&gt;字符实体&lt;/a&gt;。&lt;/p&gt;
&lt;h2&gt;2.6 分隔线&lt;/h2&gt;
&lt;p&gt;1. 可以在一行中使用三个或更多的 &lt;code&gt;*&lt;/code&gt;、&lt;code&gt;-&lt;/code&gt; 或 &lt;code&gt;_&lt;/code&gt; 来添加分隔线：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;***&lt;/span&gt;
&lt;span class="code-line"&gt;------&lt;/span&gt;
&lt;span class="code-line"&gt;___&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;hr /&gt;
&lt;hr /&gt;
&lt;p&gt;2. 多个字符之间可以有空格（空白符），但不能有其他字符：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;* * *&lt;/span&gt;
&lt;span class="code-line"&gt;- - -&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;hr /&gt;
&lt;h2&gt;2.7 超链接&lt;/h2&gt;
&lt;h3&gt;2.7.1 行内式&lt;/h3&gt;
&lt;p&gt;格式为 &lt;code&gt;[link text](URL 'title text')&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;① 普通链接：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;[Google](http://www.google.com/)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;a href="http://www.google.com/"&gt;Google&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;② 指向本地文件的链接：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;[icon.png](./images/icon.png)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;a href="./images/icon.png"&gt;icon.png&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;③ 包含 'title' 的链接:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;[Google](http://www.google.com/ &amp;quot;Google&amp;quot;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;a href="http://www.google.com/" title="Google"&gt;Google&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;title 使用 ' 或 " 都是可以的。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;2.7.2 参考式&lt;/h3&gt;
&lt;p&gt;参考式链接的写法相当于行内式拆分成两部分，并通过一个 &lt;em&gt;识别符&lt;/em&gt; 来连接两部分。参考式能尽量保持文章结构的简单，也方便统一管理 URL。&lt;/p&gt;
&lt;p&gt;① 首先，定义链接：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;[Google][link]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;a href="http://www.google.com/" title="Google"&gt;Google&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;第二个方括号内为链接独有的 &lt;em&gt;识别符&lt;/em&gt;，可以是字母、数字、空白或标点符号。识别符是 &lt;em&gt;不区分大小写&lt;/em&gt; 的；&lt;/p&gt;
&lt;p&gt;② 然后定义链接内容：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;[link]: http://www.google.com/ &amp;quot;Google&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;其格式为：&lt;code&gt;[识别符]: URL 'title'&lt;/code&gt;。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;其中，URL可以使用 &amp;lt;&gt; 包括起来，title 可以使用 ""、''、() 包括（考虑到兼容性，建议使用引号），title 部分也可以换行来写；&lt;/p&gt;
&lt;p&gt;链接内容的定义可以放在同一个文件的 &lt;em&gt;任意位置&lt;/em&gt;；&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;③ 也可以省略 &lt;em&gt;识别符&lt;/em&gt;，使用链接文本作为 &lt;em&gt;识别符&lt;/em&gt;：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;[Google][]&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="na"&gt;[Google]: http://www.google.com/ &amp;quot;Google&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;a href="http://www.google.com/" title="Google"&gt;Google&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;参考式相对于行内式有一个明显的优点，就是可以在多个不同的位置引用同一个 URL。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;2.7.3 自动链接&lt;/h3&gt;
&lt;p&gt;使用 &lt;code&gt;&amp;lt;&amp;gt;&lt;/code&gt; 包括的 URL 或邮箱地址会被自动转换为超链接：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&amp;lt;http://www.google.com/&amp;gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;lt;123@email.com&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;a href="http://www.google.com/"&gt;http://www.google.com/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="&amp;#109;&amp;#97;&amp;#105;&amp;#108;&amp;#116;&amp;#111;&amp;#58;&amp;#49;&amp;#50;&amp;#51;&amp;#64;&amp;#101;&amp;#109;&amp;#97;&amp;#105;&amp;#108;&amp;#46;&amp;#99;&amp;#111;&amp;#109;"&gt;&amp;#49;&amp;#50;&amp;#51;&amp;#64;&amp;#101;&amp;#109;&amp;#97;&amp;#105;&amp;#108;&amp;#46;&amp;#99;&amp;#111;&amp;#109;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;该方式适合行内较短的链接，会使用 URL 作为链接文字。邮箱地址会自动编码，以逃避抓取机器人。&lt;/p&gt;
&lt;h2&gt;2.8 图像&lt;/h2&gt;
&lt;p&gt;插入图片的语法和插入超链接的语法基本一致，只是在最前面多一个 &lt;code&gt;!&lt;/code&gt;。也分为行内式和参考式两种。&lt;/p&gt;
&lt;h3&gt;2.8.1 行内式&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;![GitHub](https://avatars2.githubusercontent.com/u/3265208?v=3&amp;amp;s=100 &amp;quot;GitHub,Social Coding&amp;quot;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="GitHub" src="https://avatars2.githubusercontent.com/u/3265208?v=3&amp;amp;s=100" title="GitHub,Social Coding" /&gt;&lt;/p&gt;
&lt;p&gt;方括号中的部分是图片的替代文本，括号中的 'title' 部分和链接一样，是可选的。&lt;/p&gt;
&lt;h3&gt;2.8.2 参考式&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;![GitHub][github]&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;[github]: https://avatars2.githubusercontent.com/u/3265208?v=3&amp;amp;s=100 &amp;quot;GitHub,Social Coding&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="GitHub" src="https://avatars2.githubusercontent.com/u/3265208?v=3&amp;amp;s=100" title="GitHub,Social Coding" /&gt;&lt;/p&gt;
&lt;h3&gt;2.8.3 指定图片的显示大小&lt;/h3&gt;
&lt;p&gt;Markdown 不支持指定图片的显示大小，不过可以通过直接插入&lt;code&gt;&amp;lt;img /&amp;gt;&lt;/code&gt;标签来指定相关属性：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;img&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;https://avatars2.githubusercontent.com/u/3265208?v=3&amp;amp;s=100&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;GitHub&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;GitHub,Social Coding&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;width&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;50&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;height&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;50&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img src="https://avatars2.githubusercontent.com/u/3265208?v=3&amp;s=100" alt="GitHub" title="GitHub,Social Coding" width="50" height="50" /&gt;&lt;/p&gt;
&lt;h2&gt;2.9 强调&lt;/h2&gt;
&lt;p&gt;1. 使用 &lt;code&gt;* *&lt;/code&gt; 或 &lt;code&gt;_ _&lt;/code&gt; 包括的文本会被转换为 &lt;code&gt;&amp;lt;em&amp;gt;&amp;lt;/em&amp;gt;&lt;/code&gt; ，通常表现为斜体：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;这是用来 *演示* 的 _文本_&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;这是用来 &lt;em&gt;演示&lt;/em&gt; 的 &lt;em&gt;文本&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;2. 使用 &lt;code&gt;** **&lt;/code&gt; 或 &lt;code&gt;__ __&lt;/code&gt; 包括的文本会被转换为 &lt;code&gt;&amp;lt;strong&amp;gt;&amp;lt;/strong&amp;gt;&lt;/code&gt;，通常表现为加粗：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;这是用来 **演示** 的 __文本__&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;这是用来 &lt;strong&gt;演示&lt;/strong&gt; 的 &lt;strong&gt;文本&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;3. 用来包括文本的 &lt;code&gt;*&lt;/code&gt; 或 &lt;code&gt;_&lt;/code&gt; 内侧不能有空白，否则 &lt;code&gt;*&lt;/code&gt; 和 &lt;code&gt;_&lt;/code&gt; 将不会被转换（不同的实现会有不同的表现）：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;这是用来 * 演示* 的 _文本 _&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;这是用来 * 演示* 的 _文本 _&lt;/p&gt;
&lt;p&gt;4. 如果需要在文本中显示成对的 &lt;code&gt;*&lt;/code&gt; 或 &lt;code&gt;_&lt;/code&gt;，可以在符号前加入 &lt;code&gt;\&lt;/code&gt; 即可：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;这是用来 \*演示\* 的 \_文本\_&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;这是用来 *演示* 的 _文本_&lt;/p&gt;
&lt;p&gt;5. &lt;code&gt;*&lt;/code&gt;、&lt;code&gt;**&lt;/code&gt;、&lt;code&gt;_&lt;/code&gt; 和 &lt;code&gt;__&lt;/code&gt; 都必须 &lt;em&gt;成对使用&lt;/em&gt; 。&lt;/p&gt;
&lt;h2&gt;2.10 字符转义&lt;/h2&gt;
&lt;p&gt;反斜线（&lt;code&gt;\&lt;/code&gt;）用于插入在 Markdown 语法中有特殊作用的字符。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;这是用来 *演示* 的 _文本_&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;这是用来 \*演示\* 的 \_文本\_&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;这是用来 &lt;em&gt;演示&lt;/em&gt; 的 &lt;em&gt;文本&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;这是用来 *演示* 的 _文本_&lt;/p&gt;
&lt;p&gt;这些字符包括：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;\&lt;/span&gt;
&lt;span class="code-line"&gt;`&lt;/span&gt;
&lt;span class="code-line"&gt;*&lt;/span&gt;
&lt;span class="code-line"&gt;_&lt;/span&gt;
&lt;span class="code-line"&gt;{}&lt;/span&gt;
&lt;span class="code-line"&gt;[]&lt;/span&gt;
&lt;span class="code-line"&gt;()&lt;/span&gt;
&lt;span class="code-line"&gt;#&lt;/span&gt;
&lt;span class="code-line"&gt;+&lt;/span&gt;
&lt;span class="code-line"&gt;-&lt;/span&gt;
&lt;span class="code-line"&gt;.&lt;/span&gt;
&lt;span class="code-line"&gt;!&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="markdown"></category></entry><entry><title>awk使用记录</title><link href="https://ghxdghxd.github.io/awk.html" rel="alternate"></link><published>2016-10-12T22:12:00+08:00</published><updated>2018-12-18T22:30:24+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2016-10-12:/awk.html</id><summary type="html">&lt;p&gt;awk的常用命令&lt;/p&gt;</summary><content type="html">&lt;h1&gt;awk日常用法&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;$0&lt;/span&gt;~/aaa/表示0包括aaa&lt;/span&gt;
&lt;span class="code-line"&gt;split &lt;span class="o"&gt;(&lt;/span&gt;string, array, field separator&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;split &lt;span class="o"&gt;(&lt;/span&gt;string, array&lt;span class="o"&gt;)&lt;/span&gt;  &lt;span class="se"&gt;\-&lt;/span&gt;-&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;gt&lt;span class="p"&gt;;&lt;/span&gt;如果第三个参数没有提供，awk就默认使用当前FS值。&lt;/span&gt;
&lt;span class="code-line"&gt;substr&lt;span class="o"&gt;(&lt;/span&gt;s,p&lt;span class="o"&gt;)&lt;/span&gt; 返回字符串s中从p开始的后缀部分&lt;/span&gt;
&lt;span class="code-line"&gt;substr&lt;span class="o"&gt;(&lt;/span&gt;s,p,n&lt;span class="o"&gt;)&lt;/span&gt; 返回字符串s中从p开始长度为n的后缀部分&lt;/span&gt;
&lt;span class="code-line"&gt;length函数返回整个记录中的字符数。&lt;/span&gt;
&lt;span class="code-line"&gt;gsub&lt;span class="o"&gt;(&lt;/span&gt;regular expression, subsitution string, target string&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;index&lt;span class="o"&gt;(&lt;/span&gt;a,b&lt;span class="o"&gt;)&lt;/span&gt;, r返回b中a的位置，没有返回0&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;i&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;i&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;lt&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;length&lt;span class="o"&gt;(&lt;/span&gt;a&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;i++&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;awk &lt;span class="s1"&gt;&amp;#39;!a[$1&amp;quot; &amp;quot;$2]++{print}&amp;#39;&lt;/span&gt; &lt;span class="c1"&gt;# 以第一列与第二列去重&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;awk &lt;span class="s1"&gt;&amp;#39;a[$1&amp;quot; &amp;quot;$2]++{print}&amp;#39;&lt;/span&gt; &lt;span class="c1"&gt;# 以第一列与第二列去重，只显示重复行&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;awk,getline,用于获得下一行&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#输出奇数，&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;seq &lt;span class="m"&gt;10&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; awk &lt;span class="s1"&gt;&amp;#39;{print $0;getline}&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#输出偶数&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;seq &lt;span class="m"&gt;10&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; awk &lt;span class="s1"&gt;&amp;#39;{getline;print $0}&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#从第三行开始，每三行输出一次,如果后面没有足够的行，则输出最后一行&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;seq &lt;span class="m"&gt;10&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; awk &lt;span class="s1"&gt;&amp;#39;{getline;getline;print $0}&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;3&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;6&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;9&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;10&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 获得shell命令的结果&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 注: 如果cmd出错,则res为上一行的结果，因此前面添加**res=\&amp;quot;\&amp;quot;**&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#     出现awk (Too many open files), 需要 **close(cmd)**&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;awk &lt;span class="s1"&gt;&amp;#39;{cmd=&amp;quot;echo&amp;quot;$0; res=&amp;quot;&amp;quot;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s1"&gt;    cmd|getline res;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s1"&gt;    print $res;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="s1"&gt;    close (cmd)}&amp;#39;&lt;/span&gt; file&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;awk传参&lt;/h2&gt;
&lt;h3&gt;方法一&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;awk &lt;span class="s1"&gt;&amp;#39;{print a, b}&amp;#39;&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;111&lt;/span&gt; &lt;span class="nv"&gt;b&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;222&lt;/span&gt; yourfile&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;注意, 变量位置要在 file 名之前, 否则就不能调用. 例如:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;awk &lt;span class="s1"&gt;&amp;#39;{print a, b}&amp;#39;&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;111&lt;/span&gt; file1 &lt;span class="nv"&gt;b&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;222&lt;/span&gt; file2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;file1 不能调用 b=222.
还有, 于BEGIN{}中是不能调用这些的variable.
要用之后所讲的第二种方法才可解决.&lt;/p&gt;
&lt;h3&gt;方法二&lt;/h3&gt;
&lt;p&gt;对每一个变量加一个 &lt;code&gt;-v&lt;/code&gt; 作传递&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;awk –v &lt;span class="nv"&gt;a&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;111&lt;/span&gt; –v &lt;span class="nv"&gt;b&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;222&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;{print a,b}&amp;#39;&lt;/span&gt; yourfile&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;方法三&lt;/h3&gt;
&lt;p&gt;对于&lt;strong&gt;字符类型&lt;/strong&gt;，使用 双引号 + 单引号 + 变量&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;awk &lt;span class="s1"&gt;&amp;#39;{print &amp;quot;&amp;#39;&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$LOGNAME&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;quot;}&amp;#39;&lt;/span&gt; yourfile&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;但是,对于&lt;strong&gt;浮点类型&lt;/strong&gt;，&lt;strong&gt;使用方法会有出入&lt;/strong&gt;, 问题如下&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;用三个变量&lt;code&gt;a, b, c&lt;/code&gt;分别筛选&lt;code&gt;test&lt;/code&gt;文本的3列&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;a&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;.25&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;b&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;.1&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;c&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;.05&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;cat test.txt&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 0.185260877381154 0.339233950224672   0.872786159229803&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 0.185260877381154 0.339233950224672   0.0257941397953021&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 0.185260877381154 0.339233950224672   0.43720505769949&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 0.185260877381154 0.339233950224672   1.94370007597298e-05&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;如果，用双引号 + 单引号 + 变量, 只筛选出一行&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;awk &lt;span class="s1"&gt;&amp;#39;$1&amp;lt;&amp;quot;&amp;#39;&lt;/span&gt;&lt;span class="nv"&gt;$a&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;quot; &amp;amp;&amp;amp; $2&amp;gt;&amp;quot;&amp;#39;&lt;/span&gt;&lt;span class="nv"&gt;$b&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;quot; &amp;amp;&amp;amp; $3&amp;lt;&amp;quot;&amp;#39;&lt;/span&gt;&lt;span class="nv"&gt;$c&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;quot; {OFS=&amp;quot;\t&amp;quot;;print $0}&amp;#39;&lt;/span&gt; test.txt&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 0.185260877381154 0.339233950224672   0.0257941397953021&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;如果，只用单引号 + 变量， 筛选出两行&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;awk &lt;span class="s1"&gt;&amp;#39;$1&amp;lt;&amp;#39;&lt;/span&gt;&lt;span class="nv"&gt;$a&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39; &amp;amp;&amp;amp; $2&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class="nv"&gt;$b&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39; &amp;amp;&amp;amp; $3&amp;lt;&amp;#39;&lt;/span&gt;&lt;span class="nv"&gt;$c&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39; {OFS=&amp;quot;\t&amp;quot;;print $0}&amp;#39;&lt;/span&gt; test.txt&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 0.185260877381154 0.339233950224672   0.0257941397953021&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 0.185260877381154 0.339233950224672   1.94370007597298e-05&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;很明显，单引号 + 变量 结果正确，用echo打印两行命令：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; awk &lt;span class="s1"&gt;&amp;#39;$1&amp;lt;&amp;#39;&lt;/span&gt;&lt;span class="nv"&gt;$a&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39; &amp;amp;&amp;amp; $2&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class="nv"&gt;$b&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39; &amp;amp;&amp;amp; $3&amp;lt;&amp;#39;&lt;/span&gt;&lt;span class="nv"&gt;$c&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39; {OFS=&amp;quot;\t&amp;quot;;print $0}&amp;#39;&lt;/span&gt; test.txt&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# awk $1&amp;lt;0.25 &amp;amp;&amp;amp; $2&amp;gt;0.1 &amp;amp;&amp;amp; $3&amp;lt;0.05 {OFS=&amp;quot;   &amp;quot;;print $0} test.txt&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; awk &lt;span class="s1"&gt;&amp;#39;$1&amp;lt;&amp;quot;&amp;#39;&lt;/span&gt;&lt;span class="nv"&gt;$a&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;quot; &amp;amp;&amp;amp; $2&amp;gt;&amp;quot;&amp;#39;&lt;/span&gt;&lt;span class="nv"&gt;$b&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;quot; &amp;amp;&amp;amp; $3&amp;lt;&amp;quot;&amp;#39;&lt;/span&gt;&lt;span class="nv"&gt;$c&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;quot; {OFS=&amp;quot;\t&amp;quot;;print $0}&amp;#39;&lt;/span&gt; test.txt&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# awk $1&amp;lt;&amp;quot;0.25&amp;quot; &amp;amp;&amp;amp; $2&amp;gt;&amp;quot;0.1&amp;quot; &amp;amp;&amp;amp; $3&amp;lt;&amp;quot;0.05&amp;quot; {OFS=&amp;quot; &amp;quot;;print $0} test.txt&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="awk"></category><category term="shell"></category><category term="linux"></category></entry><entry><title>R</title><link href="https://ghxdghxd.github.io/R.html" rel="alternate"></link><published>2016-10-12T21:52:00+08:00</published><updated>2018-01-13T10:02:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2016-10-12:/R.html</id><summary type="html">&lt;p&gt;R的常用命令&lt;/p&gt;</summary><content type="html">&lt;h1&gt;R的常用命令&lt;/h1&gt;
&lt;h2&gt;字符串操作&lt;/h2&gt;
&lt;h3&gt;替换sub, gsub, chart&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kp"&gt;chartr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Ab&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;aB&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;text&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;查找grep, grepl&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;向量操作&lt;/li&gt;
&lt;li&gt;grep返回index&lt;/li&gt;
&lt;li&gt;grepl返回TRUE/FALSE&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;R动态变量&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#动态生成变量，并赋值&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="kp"&gt;assign&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;x&lt;span class="p"&gt;,&lt;/span&gt; value&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="R"></category></entry><entry><title>计算机字符编码</title><link href="https://ghxdghxd.github.io/Unicode.html" rel="alternate"></link><published>2016-10-12T21:52:00+08:00</published><updated>2018-02-28T11:10:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2016-10-12:/Unicode.html</id><summary type="html">&lt;p&gt;计算机字符编码&lt;/p&gt;</summary><content type="html">&lt;h1&gt;计算机系统通用的字符编码&lt;/h1&gt;
&lt;h2&gt;数据结构(字符)&lt;/h2&gt;
&lt;p&gt;在计算机内存中，统一使用Unicode编码；当需要保存到硬盘或者需要传输的时候，就转换为UTF-8编码。&lt;br /&gt;
用记事本编辑的时候，从文件读取的UTF-8字符被转换为Unicode字符到内存里，编辑完成后，保存的时候再把Unicode转换为UTF-8保存到文件：&lt;/p&gt;
&lt;p&gt;![编码1]](../images/bianma-1.png)&lt;/p&gt;
&lt;p&gt;utf-8编码的文件在内存中是unicode编码显示&lt;/p&gt;
&lt;p&gt;浏览网页的时候，服务器会把动态生成的Unicode内容转换为UTF-8再传输到浏览器：&lt;/p&gt;
&lt;p&gt;&lt;img alt="编码2" src="../images/bianma-2.png" /&gt;&lt;/p&gt;
&lt;p&gt;服务器把动态生成的Unicode内容转换为UTF-8再传输&lt;/p&gt;
&lt;p&gt;所以你看到很多网页的源码上会有类似&lt;meta charset="UTF-8" /&gt;的信息，表示该网页正是用的UTF-8编码。（UTF-8编码没有字节序的问题）&lt;/p&gt;
&lt;h2&gt;字符转化&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;序列化&lt;/strong&gt;: 将一个数据结构（unicode编码， utf-8等）转化为二进制的数据流。用于存储，或者发送给网络中的其它程序。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;不同的编码形成的二进制流不一样。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;反序列化&lt;/strong&gt;：与序列化相反，将二进制流重新恢复成更易于处理和阅读的数据结构&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;python中的编码&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Python中一切都是对象（object）。&lt;/li&gt;
&lt;li&gt;与字符编码类型有关的对象有str和bytes。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;str对象存储的字符是UNICODE类型，bytes对象存储的字符就是一串byte。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;str u'字符串以u开头'&lt;blockquote&gt;
&lt;p&gt;str.encode后得到的是一个bytes对象&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;bytes b'字节以b开头'&lt;blockquote&gt;
&lt;p&gt;bytes.decode之后，得到的是一个str对象。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;decode的作用是将其他编码的字符串转换成unicode编码，如str1.decode('gb2312')，表示将gb2312编码的字符串str1转换成unicode编码&lt;/p&gt;</content><category term="Unicode"></category><category term="UTF-8"></category></entry><entry><title>pandas</title><link href="https://ghxdghxd.github.io/pandas.html" rel="alternate"></link><published>2016-10-12T21:52:00+08:00</published><updated>2018-03-20T13:21:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2016-10-12:/pandas.html</id><summary type="html">&lt;p&gt;pandas的常用命令&lt;/p&gt;</summary><content type="html">&lt;h1&gt;常用&lt;/h1&gt;
&lt;h2&gt;read_csv&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read_csv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;file&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sep&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="se"&gt;\t&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;header&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# 第一行不设为列名&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;bed_df&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read_table&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;file&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dtype&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;object&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;chr&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;start&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;pos&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;ref&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;alt&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;cat 合并&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;a&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;b&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;c&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cat&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;A&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;B&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;C&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;sep&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;,&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;filter&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;mat&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;mat&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;dataframe to list&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;mat&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;drop_duplicates&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tolist&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;merge dataframe&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;connect&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;mat1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mat2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mat3&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;#axis=1 cbind, asis=0 rbind&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;insert&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;mat&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;insert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;date&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;date&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# insert in 0 col&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;pandas错误&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;read_csv: C-engine CParserError: Error tokenizing data&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;When using read_csv like this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read_pickle&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;faulty_row.pkl&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;to_csv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;faulty_row.csv&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;encoding&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;utf8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read_csv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;faulty_row.csv&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;encoding&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;utf8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;You get the following exception:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;CParserError: Error tokenizing data. C error: Buffer overflow caught - possible malformed input file.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;Solution 1&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can read the CSV using the python engine then no exception is thrown:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read_csv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;faulty_row.csv&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;encoding&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;utf8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;engine&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;python&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;Solution 2&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If your second-to-last line includes an '\r' break.
You can open in universal-new-line mode to solve the error.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read_csv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;test.csv&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;rU&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;encoding&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;engine&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;c&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="python"></category><category term="pandas"></category></entry><entry><title>python</title><link href="https://ghxdghxd.github.io/python.html" rel="alternate"></link><published>2016-10-12T21:52:00+08:00</published><updated>2018-02-28T11:10:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2016-10-12:/python.html</id><summary type="html">&lt;p&gt;python的常用命令&lt;/p&gt;</summary><content type="html">&lt;h1&gt;python优化&lt;/h1&gt;
&lt;h2&gt;做一个pythonic的人&lt;/h2&gt;
&lt;h3&gt;1. 枚举&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;iterable&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;2. python -m cProfile&lt;/h3&gt;
&lt;h3&gt;3. time -p bash test.sh/python test.py&lt;/h3&gt;</content><category term="python"></category></entry><entry><title>shell</title><link href="https://ghxdghxd.github.io/shell.html" rel="alternate"></link><published>2016-10-12T21:52:00+08:00</published><updated>2018-05-28T11:30:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2016-10-12:/shell.html</id><summary type="html">&lt;p&gt;shell的常用命令&lt;/p&gt;</summary><content type="html">&lt;h1&gt;常用命令&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;0表示标准输入&lt;/span&gt;
&lt;span class="code-line"&gt;1表示标准输出&lt;/span&gt;
&lt;span class="code-line"&gt;2表示标准错误输出&lt;/span&gt;
&lt;span class="code-line"&gt;&amp;gt; 默认为标准输出重定向，与 &lt;span class="m"&gt;1&lt;/span&gt;&amp;gt; 相同&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="m"&gt;2&lt;/span&gt;&amp;gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt; 意思是把 标准错误输出 重定向到 标准输出.&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&amp;gt;file 意思是把 标准输出 和 标准错误输出 都重定向到文件file中&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;a href="awk"&gt;awk&lt;/a&gt;&lt;/h2&gt;
&lt;h2&gt;sed&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sed -n &lt;span class="s1"&gt;&amp;#39;/A/,/B/p&amp;#39;&lt;/span&gt;  匹配A的行与匹配B的行之间的内容&lt;/span&gt;
&lt;span class="code-line"&gt;sed -n &lt;span class="s1"&gt;&amp;#39;2p,4,5p&amp;#39;&lt;/span&gt; 输出2 &lt;span class="m"&gt;4&lt;/span&gt;,5 行&lt;/span&gt;
&lt;span class="code-line"&gt;sed &lt;span class="s2"&gt;&amp;quot;s/&lt;/span&gt;&lt;span class="nv"&gt;$a&lt;/span&gt;&lt;span class="s2"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;$b&lt;/span&gt;&lt;span class="s2"&gt;/g&amp;quot;&lt;/span&gt; 变量替换&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;grep&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;cat file  &lt;span class="p"&gt;|&lt;/span&gt; grep &lt;span class="s1"&gt;&amp;#39;[:space:]*#&amp;#39;&lt;/span&gt;匹配空格&lt;/span&gt;
&lt;span class="code-line"&gt;grep -P &lt;span class="s1"&gt;&amp;#39;\t&amp;#39;&lt;/span&gt; 匹配制表符&lt;/span&gt;
&lt;span class="code-line"&gt;grep -E &lt;span class="s2"&gt;&amp;quot;abc|123&amp;quot;&lt;/span&gt; myfile -n 两个关键词&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;ln&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;ln -s 源文件 目标文件&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;paste&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;paste -s -d &lt;span class="s1"&gt;&amp;#39;\t&amp;#39;&lt;/span&gt;  多行合并成一行&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;tr&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;tr -s &lt;span class="s1"&gt;&amp;#39; &amp;#39;&lt;/span&gt; 多个空格变一个&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;sort&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sort -V 按染色体排序 &lt;span class="m"&gt;1&lt;/span&gt;，2，3，，，，X，Y&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;unzip&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;unzip -l zipfile   查看list&lt;/span&gt;
&lt;span class="code-line"&gt;unzip -p zipfile &lt;span class="s2"&gt;&amp;quot;*/getfile&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;less   查看指定文件&lt;/span&gt;
&lt;span class="code-line"&gt;unzip -d outdir    指定输出目录&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;gzip&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;gzip -t/--test 检测gz文件是否有错误&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;find&lt;/h2&gt;
&lt;p&gt;按大小
find . -size +50M&lt;/p&gt;
&lt;p&gt;find 按文件修改时间查找文件&lt;/p&gt;
&lt;p&gt;----(+n)---------|------------(n)--------------|---------(-n)----
   (n+1)&lt;em&gt;24H前   |    (n+1)&lt;/em&gt;24H ~ n&lt;em&gt;24H之间  |  n&lt;/em&gt;24H以内&lt;/p&gt;
&lt;p&gt;-ctime -n    查找距现在 n&lt;em&gt;24H 内修改过的文件
-ctime n    查找距现在 n&lt;/em&gt;24H 前, (n+1)&lt;em&gt;24H 内修改过的文件
-ctime +n    查找距现在 (n+1)&lt;/em&gt;24H 前修改过的文件&lt;/p&gt;
&lt;p&gt;[a|c|m]min    [最后访问|最后状态修改|最后内容修改]min
[a|c|m]time    [最后访问|最后状态修改|最后内容修改]time&lt;/p&gt;
&lt;p&gt;linux 文件的几种时间 (以 find 为例):
atime 最后一次访问时间, 如 ls, more 等, 但 chmod, chown, ls, stat 等不会修改些时间, 使用 ls -utl 可以按此时间顺序查看;
ctime 最后一次状态修改时间, 如 chmod, chown 等状态时间改变但修改时间不会改变, 使用 stat file 可以查看;
mtime 最后一次内容修改时间, 如 vi 保存后等, 修改时间发生改变的话, atime 和 ctime 也相应跟着发生改变.&lt;/p&gt;
&lt;p&gt;注意: linux 里是不会记录文件的创建时间的, 除非这个文件自创建以来没有发生改变, 那么它的创建时间就是它的最后一次修改时间.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;ls -lt    ./  按修改时间顺序查看
&lt;/em&gt;ls -lut ./ 按访问时间顺序查看&lt;/p&gt;
&lt;p&gt;[acm]time  计量单位是天，即24H
[acm]min    计量单位是分钟
find ./ -mtime 0  #查找一天内修改的文件
find ./ -mtime -2 #查找2天内修改的文件，多了一个减号
find ./ -mmin  -10  #查找距离现在10分钟内修改的文件&lt;/p&gt;
&lt;h2&gt;计算 expr&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;expr &lt;span class="m"&gt;1&lt;/span&gt; + &lt;span class="m"&gt;1&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;expr&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;查看网速sar&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sar -n DEV &lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="m"&gt;100&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;sudo !!命令&lt;/h2&gt;
&lt;p&gt;没有特定输入sudo命令而运行，将给出没有权限的错误。那么，你不需要重写整个命令，仅仅输入'!!'就可以抓取最后的命令。&lt;/p&gt;
&lt;h2&gt;Ctrl+x+e命令&lt;/h2&gt;
&lt;p&gt;这个命令对于管理员和开发者非常有用。为了使每天的任务自动化，管理员需要通过输入vi、vim、nano等打开编辑器。&lt;/p&gt;
&lt;p&gt;仅仅从命令行快速的敲击“Ctrl-x-e”，就可以在编辑器中开始工作了。&lt;/p&gt;
&lt;h2&gt;nl命令&lt;/h2&gt;
&lt;p&gt;“nl命令”添加文件的行数。&lt;/p&gt;
&lt;h2&gt;shuf n1&lt;/h2&gt;
&lt;p&gt;随机从一个文件或文件夹中选择行/文件/文件夹。首先使用ls命令来显示文件夹的内容。&lt;/p&gt;
&lt;h2&gt;数组&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;array&lt;/span&gt;&lt;span class="o"&gt;=(&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;cat test.txt&lt;span class="p"&gt;|&lt;/span&gt;cut -f &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;array&lt;/span&gt;&lt;span class="p"&gt;[@]&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="c1"&gt;# 数组全部&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="si"&gt;${#&lt;/span&gt;&lt;span class="nv"&gt;array&lt;/span&gt;&lt;span class="p"&gt;[@]&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="c1"&gt;# 数组长度&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;array&lt;/span&gt;&lt;span class="p"&gt;[0]&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt; &lt;span class="c1"&gt;# 数组元素 0 1 2&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="shell"></category></entry><entry><title>算法复杂度</title><link href="https://ghxdghxd.github.io/timeO.html" rel="alternate"></link><published>2016-06-21T19:57:00+08:00</published><updated>2017-07-25T11:02:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2016-06-21:/timeO.html</id><summary type="html">&lt;p&gt;漂亮的大 O 速查表, 计算机科学里面常见算法的时间和空间的大 OBig-O 复杂度&lt;/p&gt;</summary><content type="html">&lt;h1&gt;&lt;/h1&gt;
&lt;p&gt;原文章在&lt;a href="https://linux.cn/article-7480-1.html"&gt;这里&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;图例&lt;/h2&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;绝佳&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;不错&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;一般&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #b20000; background-color: #ffc543;"&gt;不佳&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #b20000; background-color: #ff8989;"&gt;糟糕&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;

&lt;h2&gt;数据结构操作&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;&lt;th style="text-align: center;"&gt;数据结构&lt;/th&gt;&lt;th style="text-align: center;" colspan="8"&gt;时间复杂度&lt;/th&gt;&lt;th style="text-align: center;"&gt;空间复杂度&lt;/th&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th style="text-align: center;"&gt;&amp;nbsp;&lt;/th&gt;&lt;th style="text-align: center;" colspan="4"&gt;平均&lt;/th&gt;&lt;th style="text-align: center;" colspan="4"&gt;最差&lt;/th&gt;&lt;th style="text-align: center;"&gt;最差&lt;/th&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th&gt;&amp;nbsp;&lt;/th&gt;&lt;th style="text-align: center;"&gt;访问&lt;/th&gt;&lt;th style="text-align: center;"&gt;搜索&lt;/th&gt;&lt;th style="text-align: center;"&gt;插入&lt;/th&gt;&lt;th style="text-align: center;"&gt;删除&lt;/th&gt;&lt;th style="text-align: center;"&gt;访问&lt;/th&gt;&lt;th style="text-align: center;"&gt;搜索&lt;/th&gt;&lt;th style="text-align: center;"&gt;插入&lt;/th&gt;&lt;th style="text-align: center;"&gt;删除&lt;/th&gt;&lt;th style="text-align: center;"&gt;&amp;nbsp;&lt;/th&gt;&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://en.wikipedia.org/wiki/Array_data_structure" class="ext" rel="external nofollow" target="_blank"&gt;Array&lt;/a&gt;&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://en.wikipedia.org/wiki/Stack_(abstract_data_type)" class="ext" rel="external nofollow" target="_blank"&gt;Stack&lt;/a&gt;&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://en.wikipedia.org/wiki/Singly_linked_list#Singly_linked_lists" class="ext" rel="external nofollow" target="_blank"&gt;Singly-Linked List&lt;/a&gt;&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://en.wikipedia.org/wiki/Doubly_linked_list" class="ext" rel="external nofollow" target="_blank"&gt;Doubly-Linked List&lt;/a&gt;&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://en.wikipedia.org/wiki/Skip_list" class="ext" rel="external nofollow" target="_blank"&gt;Skip List&lt;/a&gt;&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #b20000; background-color: #ffc543;"&gt;O(n log(n))&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://en.wikipedia.org/wiki/Hash_table" class="ext" rel="external nofollow" target="_blank"&gt;Hash Table&lt;/a&gt;&lt;/td&gt;
&lt;td style="text-align: center;"&gt;-&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center;"&gt;-&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://en.wikipedia.org/wiki/Binary_search_tree" class="ext" rel="external nofollow" target="_blank"&gt;Binary Search Tree&lt;/a&gt;&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="https://en.wikipedia.org/wiki/Cartesian_tree" class="ext" rel="external nofollow" target="_blank"&gt;Cartesian Tree&lt;/a&gt;&lt;/td&gt;
&lt;td style="text-align: center;"&gt;-&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center;"&gt;-&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://en.wikipedia.org/wiki/B_tree" class="ext" rel="external nofollow" target="_blank"&gt;B-Tree&lt;/a&gt;&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://en.wikipedia.org/wiki/Red-black_tree" class="ext" rel="external nofollow" target="_blank"&gt;Red-Black Tree&lt;/a&gt;&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="https://en.wikipedia.org/wiki/Splay_tree" class="ext" rel="external nofollow" target="_blank"&gt;Splay Tree&lt;/a&gt;&lt;/td&gt;
&lt;td style="text-align: center;"&gt;-&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center;"&gt;-&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://en.wikipedia.org/wiki/AVL_tree" class="ext" rel="external nofollow" target="_blank"&gt;AVL Tree&lt;/a&gt;&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h2&gt;图操作&lt;/h2&gt;
&lt;table&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;th style="text-align: center;"&gt;节点 / 边界管理&lt;/th&gt;&lt;th style="text-align: center;"&gt;存储&lt;/th&gt;&lt;th style="text-align: center;"&gt;增加顶点&lt;/th&gt;&lt;th style="text-align: center;"&gt;增加边界&lt;/th&gt;&lt;th style="text-align: center;"&gt;移除顶点&lt;/th&gt;&lt;th style="text-align: center;"&gt;移除边界&lt;/th&gt;&lt;th style="text-align: center;"&gt;查询&lt;/th&gt;&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://en.wikipedia.org/wiki/Adjacency_list" class="ext" rel="external nofollow" target="_blank"&gt;Adjacency list&lt;/a&gt;&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(|V|+|E|)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(|V| + |E|)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(|E|)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(|V|)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://en.wikipedia.org/wiki/Incidence_list" class="ext" rel="external nofollow" target="_blank"&gt;Incidence list&lt;/a&gt;&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(|V|+|E|)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(|E|)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(|E|)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(|E|)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://en.wikipedia.org/wiki/Adjacency_matrix" class="ext" rel="external nofollow" target="_blank"&gt;Adjacency matrix&lt;/a&gt;&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #b20000; background-color: #ff8989;"&gt;O(|V|^2)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #b20000; background-color: #ff8989;"&gt;O(|V|^2)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #b20000; background-color: #ff8989;"&gt;O(|V|^2)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://en.wikipedia.org/wiki/Incidence_matrix" class="ext" rel="external nofollow" target="_blank"&gt;Incidence matrix&lt;/a&gt;&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #b20000; background-color: #ff8989;"&gt;O(|V| ⋅ |E|)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #b20000; background-color: #ff8989;"&gt;O(|V| ⋅ |E|)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #b20000; background-color: #ff8989;"&gt;O(|V| ⋅ |E|)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #b20000; background-color: #ff8989;"&gt;O(|V| ⋅ |E|)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #b20000; background-color: #ff8989;"&gt;O(|V| ⋅ |E|)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(|E|)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h2&gt;堆操作&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;&lt;th style="text-align: center;"&gt;类型&lt;/th&gt;&lt;th style="text-align: center;" colspan="7"&gt;时间复杂度&lt;/th&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;th style="text-align: center;"&gt;&amp;nbsp;&lt;/th&gt;&lt;th style="text-align: center;"&gt;Heapify&lt;/th&gt;&lt;th style="text-align: center;"&gt;查找最大值&lt;/th&gt;&lt;th style="text-align: center;"&gt;分离最大值&lt;/th&gt;&lt;th style="text-align: center;"&gt;提升键&lt;/th&gt;&lt;th style="text-align: center;"&gt;插入&lt;/th&gt;&lt;th style="text-align: center;"&gt;删除&lt;/th&gt;&lt;th style="text-align: center;"&gt;合并&lt;/th&gt;&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://en.wikipedia.org/wiki/Linked_list" class="ext" rel="external nofollow" target="_blank"&gt;Linked List (sorted)&lt;/a&gt;&lt;/td&gt;
&lt;td style="text-align: center;"&gt;-&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #b20000; background-color: #ff8989;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #b20000; background-color: #ff8989;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #b20000; background-color: #ff8989;"&gt;O(m+n)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="white-space: normal;"&gt;&lt;a href="http://en.wikipedia.org/wiki/Linked_list" class="ext" rel="external nofollow" target="_blank"&gt;Linked List (unsorted)&lt;/a&gt;&lt;/td&gt;
&lt;td style="text-align: center;"&gt;-&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #b20000; background-color: #ff8989;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #b20000; background-color: #ff8989;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://en.wikipedia.org/wiki/Binary_heap" class="ext" rel="external nofollow" target="_blank"&gt;Binary Heap&lt;/a&gt;&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #6f6e00; background-color: #ff0;"&gt;O(n)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #b20000; background-color: #ff8989;"&gt;O(m+n)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://en.wikipedia.org/wiki/Binomial_heap" class="ext" rel="external nofollow" target="_blank"&gt;Binomial Heap&lt;/a&gt;&lt;/td&gt;
&lt;td style="text-align: center;"&gt;-&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;" title="With aux pointer"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;" title="Amortized"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;"&gt;O(log(n))&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://en.wikipedia.org/wiki/Fibonacci_heap" class="ext" rel="external nofollow" target="_blank"&gt;Fibonacci Heap&lt;/a&gt;&lt;/td&gt;
&lt;td style="text-align: center;"&gt;-&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;" title="Amortized"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;" title="Amortized"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #c8ea00;" title="Amortized"&gt;O(log(n))&lt;/td&gt;
&lt;td style="text-align: center; padding: 2px; color: #286500; background-color: #53d000;"&gt;O(1)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h2&gt;大 O 复杂度图表&lt;/h2&gt;
&lt;p&gt;&lt;img alt="BigO" src="../images/BigO.png" /&gt;&lt;/p&gt;</content><category term="time"></category></entry><entry><title>Java parallelGCThreads的选择</title><link href="https://ghxdghxd.github.io/Java-parallelGCThreads.html" rel="alternate"></link><published>2016-01-08T15:31:01+08:00</published><updated>2016-12-30T16:20:13+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2016-01-08:/Java-parallelGCThreads.html</id><summary type="html">&lt;p&gt;Java parallelGCThreads的选择&lt;/p&gt;</summary><content type="html">&lt;h1&gt;1.含义&lt;/h1&gt;
&lt;p&gt;ParallelGCThreads，表示JVM在进行并行GC的时候，用于GC的线程数，-XX:ParallelGCThreads=43，表示配置GC线程数为43。&lt;/p&gt;
&lt;h1&gt;2.JVM相关接口&lt;/h1&gt;
&lt;p&gt;JVM中，关于ParallelGCThreads的计算代码如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;unsigned&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;VM_Version&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;calc_parallel_worker_threads&lt;/span&gt;&lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="n"&gt;unsigned&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;is_M_series&lt;/span&gt;&lt;span class="o"&gt;())&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="c1"&gt;// for now, use same gc thread calculation for M-series as for niagara-plus&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="c1"&gt;// in future, we may want to tweak parameters for nof_parallel_worker_thread&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;nof_parallel_worker_threads&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;16&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="o"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;is_niagara_plus&lt;/span&gt;&lt;span class="o"&gt;())&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;nof_parallel_worker_threads&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;16&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="o"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;nof_parallel_worker_threads&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="o"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;unsigned&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;Abstract_VM_Version&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;parallel_worker_threads&lt;/span&gt;&lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;(!&lt;/span&gt;&lt;span class="n"&gt;_parallel_worker_threads_initialized&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;FLAG_IS_DEFAULT&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ParallelGCThreads&lt;/span&gt;&lt;span class="o"&gt;))&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;      &lt;span class="n"&gt;_parallel_worker_threads&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;VM_Version&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;calc_parallel_worker_threads&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="o"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;      &lt;span class="n"&gt;_parallel_worker_threads&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ParallelGCThreads&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="o"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;_parallel_worker_threads_initialized&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="o"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;_parallel_worker_threads&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;unsigned&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;Abstract_VM_Version&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;calc_parallel_worker_threads&lt;/span&gt;&lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;nof_parallel_worker_threads&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="n"&gt;unsigned&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;Abstract_VM_Version&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;nof_parallel_worker_threads&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="n"&gt;unsigned&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="n"&gt;unsigned&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;den&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="n"&gt;unsigned&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;switch_pt&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;FLAG_IS_DEFAULT&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ParallelGCThreads&lt;/span&gt;&lt;span class="o"&gt;))&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ParallelGCThreads&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Default ParallelGCThreads is not 0&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="c1"&gt;// For very large machines, there are diminishing returns&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="c1"&gt;// for large numbers of worker threads.  Instead of&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="c1"&gt;// hogging the whole system, use a fraction of the workers for every&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="c1"&gt;// processor after the first 8.  For example, on a 72 cpu machine&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="c1"&gt;// and a chosen fraction of 5/8&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="c1"&gt;// use 8 + (72 - 8) * (5/8) == 48 worker threads.&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;unsigned&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;ncpus&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;unsigned&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;active_processor_count&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ncpus&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="n"&gt;switch_pt&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;?&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;      &lt;span class="n"&gt;ncpus&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;switch_pt&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="o"&gt;((&lt;/span&gt;&lt;span class="n"&gt;ncpus&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;switch_pt&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;den&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="o"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;ParallelGCThreads&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="o"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;3.计算方法&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;上面列出了与ParallelGCThreads计算相关的几个核心接口，其中，最主要关注nof_parallel_worker_threads接口，该接口中给出了计算ParallelGCThreads值的具体算法，具体如下：&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;① 如果用户显示指定了ParallelGCThreads，则使用用户指定的值。&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;② 否则，需要根据实际的CPU所能够支持的线程数来计算ParallelGCThreads的值，计算方法见步骤③和步骤④。&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;③ 如果物理CPU所能够支持线程数小于8，则ParallelGCThreads的值为CPU所支持的线程数。这里的阀值为8，是因为JVM中调用nof_parallel_worker_threads接口所传入的switch_pt的值均为8。&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;④ 如果物理CPU所能够支持线程数大于8，则ParallelGCThreads的值为8加上一个调整值，调整值的计算方式为：物理CPU所支持的线程数减去8所得值的5/8或者5/16，JVM会根据实际的情况来选择具体是乘以5/8还是5/16。&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;比如，在64线程的x86 CPU上，如果用户未指定ParallelGCThreads的值，则默认的计算方式为：ParallelGCThreads = 8 + (64 - 8) * (5/8) = 8 + 35 = 43。&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="Java"></category></entry><entry><title>QQplot</title><link href="https://ghxdghxd.github.io/QQplot.html" rel="alternate"></link><published>2015-12-27T19:57:00+08:00</published><updated>2015-12-27T19:57:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2015-12-27:/QQplot.html</id><summary type="html">&lt;p&gt;QQplot在GWAS中的意思&lt;/p&gt;</summary><content type="html">&lt;h1&gt;QQplot&lt;/h1&gt;
&lt;p&gt;Q-Q plot 即Quantile-Quantile Plot。它在各类研究中经常用到，主要是直观的表示观测值与预测值之间的差异。&lt;/p&gt;
&lt;p&gt;在SPSS中很容做，Analysis - Descriptive statistics - Q-Qplot。&lt;/p&gt;
&lt;p&gt;Q-Q plot主要是用来估计数量性状观测值与预测值之间的差异。一般我们所取得的数量性状数据都为正态分布数据。在GWAS研究中Q-Q
plot的X和Y轴主要是代表各个SNP的-lg P values。预测的线是一条从原点发出的45°角的虚线。实际观测值则是标的实心点。&lt;/p&gt;
&lt;p&gt;Q-Q plot主要要点：&lt;/p&gt;
&lt;p&gt;预测的虚线为什么是45°出来的呢？因为预测的线实际是通过在QQ图中第一象限作图得出。理论上一个点A在该图上的位置应该是A预测值=A实际值，转化为坐标就是A（x，y）x=y。所以预测的线是一条从原点发出的45°线。&lt;/p&gt;
&lt;p&gt;观测值的点的坐标是怎么得出来的。同样设点A的坐标是（x，y）x为预测值，y为实际观测值。查了一下R 中qq plot的算法是这样的&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;pvals &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; read.table&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;DGI_chr3_pvals.txt&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; header&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;T&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;observed &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="kp"&gt;sort&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;pvals&lt;span class="o"&gt;$&lt;/span&gt;PVAL&lt;span class="p"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;lobs &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kp"&gt;log10&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;observed&lt;span class="p"&gt;))&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;expected &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="kp"&gt;length&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;observed&lt;span class="p"&gt;))&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;lexp &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kp"&gt;log10&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;expected &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kp"&gt;length&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;expected&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="m"&gt;+1&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;具体解释是这样的，先把P值从小到大排序。lobs代表纵坐标，lexp代表横坐标，纵坐标就是观测P值的-
log10，而横坐标则根据P值数目而定。比如，当只有3个P值 P1=0.0001 P2=0.001
P3=0.01，那么在这个P值组中，length(observed)=3，对于P1=0.0001 expected=1
lexp=-log10（1/3+1），对于P2=0.001 expected=2 lexp=-log10（2/3+1）， P3=0.01
expected=3 lexp=-log10（3/3+1）。。。。。依此类推。&lt;/p&gt;
&lt;p&gt;如果出现了偏离的情况说明实际值跟预测值有偏差，在GWAS研究中，那个SNP点出现了较大的偏离，则认为这个SNP位点的观测值的偏离是由这个SNP突变所产生的遗传作用造成的&lt;/p&gt;</content><category term="QQplot"></category></entry><entry><title>cfDNA,ctDNA,CTC</title><link href="https://ghxdghxd.github.io/cfDNA.html" rel="alternate"></link><published>2015-12-25T11:24:00+08:00</published><updated>2015-12-25T20:31:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2015-12-25:/cfDNA.html</id><summary type="html">&lt;p&gt;肿瘤的近亲--cfDNA,ctDNA,CTC&lt;/p&gt;</summary><content type="html">&lt;h1&gt;肿瘤的近亲--cfDNA,ctDNA,CTC&lt;/h1&gt;
&lt;p&gt;全称循环游离DNA（Circulating free DNA），是指存在于循环血中的DNA片段。cfDNA可以来源于凋亡、坏死的细胞释放释放的DNA片段；细胞以囊泡的形式分泌到循环血中的DNA片段；外源微生物的DNA片段（如病毒DNA）等。它既可以是来自于体内正常的细胞，也可能是来自肿瘤细胞，或者外源微生物。早在1948年来自法国的两位学者Mandeland
Métais提出cell-free nucleic acid(cfNA)这一概念，但直到1994年科学家在肿瘤患者的血液中发现了携带有RAS基因突变的DNA片段这一概念才引起了科学家的重视。&lt;/p&gt;
&lt;p&gt;与传统的穿刺活检相比，循环游离DNA的检测又被称为液体活检（liquid
biopsy）。通过采集患者的外周血，检测血液中是否含有待检DNA序列及含量的多少来诊断患者是否患病、治疗是否有效，治疗后的复发监测等，是一种新兴的无创诊断、监测手段，所以又被形象地称为“液体活检”。有研究表明正常人cfDNA的含量约30ng/ml(0-100ng/ml),肿瘤患者循环血中的cfDNA含量平均约180ng/ml(0~&amp;gt;1000ng/ml)。虽然肿瘤患者的循环血中含有更多的cfDNA，但是单单用cfDNA的含量多少来诊断疾病或者预测患者预后可能不太可靠，来自European
Prospective Investigation into Cancer andNutrition
(EPIC)的大人群回顾性的研究表明cfDNA的浓度可能与人群的来源和接受治疗的不同而不同。&lt;/p&gt;
&lt;p&gt;目前cfDNA更多的用于肿瘤的早期诊断和、疗效、复发监测等领域。近年来有大量的研究表明cfDNA的检测能够作为有效的生物标记物（biomarker）而被科学工作者所热捧，随着检测技术的发展很有可能进入临床应用。  &lt;/p&gt;
&lt;p&gt;&lt;img alt="cfDNA" src="images/cfDNA.png" /&gt;&lt;/p&gt;
&lt;p&gt;ctDNA (Circulating tumorDNA )
循环肿瘤DNA。是指来自肿瘤细胞的循环游离DNA。是cfDNA的一个小的亚类。研究表明一个100g的实体肿瘤大概含有3*10^10个肿瘤细胞，每天大约有3.3%的肿瘤细胞DNA进入循环血。这些循环肿瘤DNA的长度基本上在70-200bp,有的能够长达21kb。这些来自肿瘤的cfDNA,常常携带有肿瘤细胞的一些特质，如特定的突变，结构改变，表观遗传信息等从而成为肿瘤的诊断、复发监测、疗效评估的有效手段。Detection
of Circulating Tumor DNA in Early-and Late-Stage Human Malignancies&lt;/p&gt;
&lt;p&gt;&lt;img alt="ctDNA" src="images/ctDNA.png" /&gt;&lt;/p&gt;
&lt;p&gt;CTC (circulatingtumor cell)循环肿瘤细胞。循环肿瘤细胞（CTCs）被认为是一种来源于肿瘤原发灶或是转移灶的，在特定条件下释放入外周血液循环的一些肿瘤细胞。这些细胞的含量非常稀少具有肿瘤细胞的特殊表型，在肿瘤发生转移之前的过程既可出现。因此CTCs也被认为是一种转移的前体细胞，是肿瘤获得侵袭性能力的体现。而如今对CTCs的无创性检测和监视，可以为肿瘤的早期诊断、疗效评估及靶向药物的设计提供一条非常有效的途径。&lt;/p&gt;
&lt;p&gt;&lt;img alt="CTC" src="images/CTC.jpg" /&gt;&lt;/p&gt;</content><category term="cfDNA"></category><category term="ctDNA"></category><category term="CTC"></category></entry><entry><title>突变分类及定义功能</title><link href="https://ghxdghxd.github.io/mutation.html" rel="alternate"></link><published>2015-11-05T16:59:00+08:00</published><updated>2016-08-30T10:03:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2015-11-05:/mutation.html</id><summary type="html">&lt;p&gt;突变的标准化概念及标准&lt;/p&gt;</summary><content type="html">&lt;h1&gt;概念&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;突变与变异是两个截然不同的概念&lt;/strong&gt;。&lt;strong&gt;变异&lt;/strong&gt;一般是指物种在漫长的自然选择压力下，由于“适者生存”的原则而使自身遗传基因发生的某些有益于自身完善于生存环境而生存、发展的变化。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;突变&lt;/strong&gt;则是指物种遗传基因在某些物理、化学、生物因素作用下，短期内发生的某些基因序列的变化。就人体而言，突变一般是对人体十分有害的。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;突变可以分为3大类型&lt;/strong&gt;：点突变（point mutation）、染色体突变(chromosomal mutation)和基因组突变(genomic mutation)。 &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;其中以点突变最为常见和重要，包括转换(transition)、颠换（transversion）、插入(insertion)和缺失(deletion)几种类型，前两种属于碱基置换(basesubstitution)，后两种属于移码突变(frame shift mutation) 。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;substitution（替换）和delection/addition(添加/缺失），估计就是碱基置换、移码、缺失和插入，只是翻译不同，这种分类有点笼统了，适合用于定义{基因突变是指DNA分子中发生碱基对的替换、增添和缺失，而引起的基因结构的改变，它包括单个碱基改变所引起的点突变（point mutation），或多个碱基的缺失、重复和插入。}   &lt;/p&gt;
&lt;p&gt;不过更笼统的是按照遗传信息的改变方式，分为错义、无义两类。   &lt;/p&gt;
&lt;p&gt;我看的分类复杂点。我看过的是类似是这个分类，你去看下网站。好象是上海一个大学的。   &lt;/p&gt;
&lt;p&gt;基因突变的类型 &lt;br /&gt;
&lt;a href="http://genetics.sjtu.edu.cn/genetics/21.01.htm"&gt;http://genetics.sjtu.edu.cn/genetics/21.01.htm&lt;/a&gt;   &lt;/p&gt;
&lt;p&gt;突变的原因   &lt;/p&gt;
&lt;p&gt;&lt;a href="http://genetics.sjtu.edu.cn/genetics/21.02.htm"&gt;http://genetics.sjtu.edu.cn/genetics/21.02.htm&lt;/a&gt;   &lt;/p&gt;
&lt;p&gt;根据基因结构的改变方式不同，可将基因突变分为四种类型： &lt;br /&gt;
（1）点突变 由某位点一对减基改变造成的。其包括两种形式：转换和颠换。点突变的不同效应为：①同义突变；②错义突变；③无义突变；④终止密码突变。 &lt;br /&gt;
（2）移码突变 某位点增添或减少1～2对碱基造成的。 &lt;br /&gt;
（3）缺失突变 基因内部缺失某个DNA小段造成的。 &lt;br /&gt;
（4）插入突变 基因内部增添一小段外源DNA造成的。   &lt;/p&gt;
&lt;p&gt;基因突变是随机发生的。它可以发生在生物个体发育的任何时期和生物体的任何细胞。一般来说，在生物个体发育的过程中，基因突变发生的时期越迟，生物体表现突变的部分就越少。例如，植物的叶芽如果在发育的早期发生基因突变，那么由这个叶芽长成的枝条，上面着生的叶、花和果实都有可能与其他枝条不同。如果基因突变发生在花芽分化时，那么，将来可能只在一朵花或一个花序上表现出变异。 &lt;br /&gt;
基因突变可以发生在体细胞中，也可以发生在生殖细胞中。发生在生殖细胞中的突变，可以通过受精作用直接传递给后代。发生在体细胞中的突变，一般是不能传递给后代的。 &lt;br /&gt;
基因突变在生物界中是普遍存在的。无论是低等生物，还是高等的动植物以及人，都可能发生基因突变。基因突变在自然界的物种中广泛存在。例如，棉花的短果枝、水稻的矮杆、糯性，果蝇的白眼、残翅，家鸽羽毛的灰红色，以及人的色肓、糖尿病、白化病等遗传病，都是突变性状。自然条件下发生的基因突变叫做自然突变，人为条件下诱发产生的基因突变叫做诱发突变。   &lt;/p&gt;
&lt;p&gt;绝大多数的人类遗传病，就是由基因突变造成的，这些病对人类健康构成了严重威胁。又如，植物中常见的白化苗，也是基因突变形成的。这种苗由于缺乏叶绿素，不能进行光合作用制造有机物，最终导致死亡。但是，也有少数基因突变是有利的。例如，植物的抗病性突变、耐旱性突变、微生物的抗药性突变等，都是有利于生物生存的。&lt;/p&gt;
&lt;p&gt;nonsense mutation 无义突变：使原本可制造蛋白质的密码变成停止密码&lt;/p&gt;
&lt;p&gt;missense mutation 错义突变：使密码所对应氨基酸改变&lt;/p&gt;
&lt;p&gt;silent mutation 无表型突变：密码改变，但对应的氨基酸不变&lt;/p&gt;
&lt;p&gt;INV， inversion 倒位 、转置&lt;/p&gt;
&lt;p&gt;Interchromosomal translocation, CTX 染色体间易位  &lt;/p&gt;
&lt;p&gt;intra-chromosome translocation , ITX 染色体内易位&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="center"&gt;SO term&lt;/th&gt;
&lt;th align="center"&gt;description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001628"&gt;intergenic_variant&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;A sequence variant located in the intergenic region, between genes.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001631"&gt;upstream_gene_variant&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;A sequence variant located 5' of a gene. (VAI searches within 5,000 bases.)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001632"&gt;downstream_gene_variant&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;A sequence variant located 3' of a gene. (VAI searches within 5,000 bases.)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001623"&gt;5_prime_UTR_variant&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;A variant located in the 5' untranslated region (UTR) of a gene.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001624"&gt;3_prime_UTR_variant&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;A variant located in the 3' untranslated region (UTR) of a gene.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001819"&gt;synonymous_variant&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;A sequence variant where there is no resulting change to the encoded amino acid.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001583"&gt;missense_variant&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;A sequence variant, that changes one or more bases, resulting in a different amino acid sequence but where the length is preserved.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001821"&gt;inframe_insertion&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;An inframe non synonymous variant that inserts bases into in the coding sequence.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001822"&gt;inframe_deletion&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;An inframe non synonymous variant that deletes bases from the coding sequence.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001589"&gt;frameshift_variant&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;A sequence variant which causes a disruption of the translational reading frame, because the number of nucleotides inserted or deleted is not a multiple of three.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001582"&gt;initiator_codon_variant&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;A codon variant that changes at least one base of the first codon of a transcript.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001626"&gt;incomplete_terminal_codon_variant&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;A sequence variant where at least one base of the final codon of an incompletely annotated transcript is changed.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001578"&gt;stop_lost&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;A sequence variant where at least one base of the terminator codon (stop) is changed, resulting in an elongated transcript.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001567"&gt;stop_retained_variant&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;A sequence variant where at least one base in the terminator codon is changed, but the terminator remains.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001572"&gt;exon_loss&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;A sequence variant whereby an exon is lost from the transcript. (VAI assigns this term when an entire exon is deleted.)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001587"&gt;stop_gained&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;A sequence variant whereby at least one base of a codon is changed, resulting in a premature stop codon, leading to a shortened transcript.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001621"&gt;NMD_transcript_variant&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;A variant in a transcript that is already the target of nonsense-mediated decay (NMD), i.e. stop codon is not in last exon nor within 50 bases of the end of the second-to-last exon.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001627"&gt;intron_variant&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;A transcript variant occurring within an intron.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001575"&gt;splice_donor_variant&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;A splice variant that changes the 2-base region at the 5' end of an intron.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001574"&gt;splice_acceptor_variant&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;A splice variant that changes the 2 base region at the 3' end of an intron.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001630"&gt;splice_region_variant&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;A sequence variant in which a change has occurred within the region of the splice site, either within 1-3 bases of the exon or 3-8 bases of the intron.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001577"&gt;complex_transcript_variant&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;A transcript variant with a complex insertion or deletion (indel) that spans an exon/intron border or a coding sequence/UTR border.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001792"&gt;non_coding_exon_variant&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;A sequence variant that changes exon sequence of a non-coding gene.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;Functional role&lt;/h3&gt;
&lt;p&gt;By default, all variants are included in the output regardless of predicted
functional effect. If you would like to keep only variants that have a
particular type of effect, you can uncheck the checkboxes of other effect
types. The detailed functional effect predictions are categorized as follows:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;intergenic:&lt;/strong&gt; &lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001628"&gt;intergenic_variant&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;upstream/downstream of gene:&lt;/strong&gt; &lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001631"&gt;upstream_gene_variant&lt;/a&gt;, &lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001632"&gt;downstream_gene_variant&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;5' or 3' UTR:&lt;/strong&gt; &lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001623"&gt;5_prime_UTR_variant&lt;/a&gt;, &lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001624"&gt;3_prime_UTR_variant&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CDS - synonymous coding change:&lt;/strong&gt; &lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001819"&gt;synonymous_variant&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CDS - non-synonymous (missense, stop gain/loss, frameshift etc):&lt;/strong&gt; &lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001583"&gt;missense_variant&lt;/a&gt;, &lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001821"&gt;inframe_insertion&lt;/a&gt;, &lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001822"&gt;inframe_deletion&lt;/a&gt;, &lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001589"&gt;frameshift_variant&lt;/a&gt;, &lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001582"&gt;initiator_codon_variant&lt;/a&gt;, &lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001626"&gt;incomplete_terminal_codon_variant&lt;/a&gt;, &lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001578"&gt;stop_lost&lt;/a&gt;, &lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001567"&gt;stop_retained_variant&lt;/a&gt;, &lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001587"&gt;stop_gained&lt;/a&gt;,&lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001621"&gt;NMD_transcript_variant&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;intron:&lt;/strong&gt; &lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001627"&gt;intron_variant&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;splice site or splice region:&lt;/strong&gt; &lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001575"&gt;splice_donor_variant&lt;/a&gt;, &lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001574"&gt;splice_acceptor_variant&lt;/a&gt;, &lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001630"&gt;splice_region_variant&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;exon of non-coding gene:&lt;/strong&gt; &lt;a href="http://sequenceontology.org/browser/current_release/term/SO:0001792"&gt;non_coding_exon_variant&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="mutation"></category></entry><entry><title>HGVS Names和refSNP ID</title><link href="https://ghxdghxd.github.io/HGVS.html" rel="alternate"></link><published>2015-09-29T11:09:00+08:00</published><updated>2015-09-29T11:09:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2015-09-29:/HGVS.html</id><summary type="html">&lt;p&gt;HGVS Names和refSNP ID&lt;/p&gt;</summary><content type="html">&lt;p&gt;在NCBI(美国国立生物技术信息中心)网站上经常会看到“HGVS Names”和“refSNP ID”的字样，这两个都是用于命名SNP(single
nucleotide polymorphism，单核苷酸多态性)的方法。&lt;/p&gt;
&lt;p&gt;HGVS是Human Genome Variation Society(人类基因组变异协会)的简称，是一个非政府的民间学术组织，其官方网站的&lt;a href="http://www.hgvs.org"&gt;网址&lt;/a&gt;。HGVS命名SNP法的规则是标出引用的核酸序列号(Reference Sequence, RefSeq)和SNP在该核酸序列中的位置，例如：NG_000004.3:g.247167G&amp;gt;A，其中红色的部分是核酸序列接受号，绿色的部分是该单核苷酸多态性位点在该核酸序列中的位置，G&amp;gt;A表示原始碱基是G，突变碱基是A。这样的命名方法有利于找出所在基因序列中的位置，当向引物公司提交设计和购买申请时都会用到。&lt;/p&gt;
&lt;p&gt;在文献中出现的等位基因常见的标注方式，CYP3A5*3(6986A&amp;gt;G或A6986G)，其实这就是一种非常不正规的用HGVS
Names标注SNP位置的方法，很明显，由于缺少引用核酸序列的接受号，因此读者无法从这样的表示在GenBank中查到对应的信息。这是个历史遗留问题，责任也不能全怪原文的作者标注不明，甚至有些时候，由于最初发现并报道该基因位点的文章由于没有被NCBI收录，导致有许多用此法标注的的SNP位点，其引用的RefSeq号竟然丢失了！HGVS正是做着弥补此事的工作，但是由于数据量太大，HGVS目前所完成的只是其中的一部分。所幸NCBI也看到了此事的重大意义，正在接手此事，现在在GenBank的SNP数据库的查询返回结果页的右上角已经可以看到其整理的HGVS
Names了，例如：&lt;a href="http://www.ncbi.nlm.nih.gov/SNP/snp_ref.cgi?rs=776746"&gt;&lt;strong&gt;查询CYP3A5*3的结果&lt;/strong&gt;&lt;/a&gt;。在该结果我们看到并没有标出6986A&amp;gt;G的HGVS命名，说明该数据库尚须完善。&lt;/p&gt;
&lt;p&gt;GenBank官方的refSNP ID单核苷酸多态性命名法是相对比较完善的命名体系，命名方法是rs+7位阿拉伯数字，例如：CYP3A5&lt;em&gt;3的refSNP
ID是rs776746，如果已知一个SNP的refSNP
ID，那么就可以在GenBank的SNP数据库中搜索到相关的信息和在基因组中的位置了。这里是&lt;a href="http://www.ncbi.nlm.nih.gov/sites/entrez?db=snp"&gt;&lt;strong&gt;GenBank的SNP数据库查询地址&lt;/strong&gt;&lt;/a&gt;，例如，要查找CYP3A5&lt;/em&gt;3在GenBank中的信息，只要在该搜索框中输入“
rs776746 ”进行查找即可。下面是该查询返回的结果，如图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="image" src="http://u.jimdo.com/www102/o/se19ec0f28937288f/img/iac1a9acbed828ae0/1279201754/std/image.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;在该返回结果中可以看到给出了CYP3A5*3位点两侧少量的碱基序列，其下方给出了HGVS
Names的链接，我们点击该链接，然后在接下来的网页点击“FASTA”链接即可获得该SNP所在的核苷酸碱基序列了，但是有些时候HGVS
Names引用的核酸碱基序列较长，本示例中引用的核酸碱基序列就有几千万碱基之多，光下载都需要很长的时间，更别说在浏览器中打开了。此时可以点击上图中的红色“rs776746”链接，看看是否有其他引用核苷酸碱基序列较短的HGVS
Names，在打开的页面的右上角可以看到有四个HGVS Names，如下：&lt;/p&gt;
&lt;p&gt;NG_000004.3:g.247167G&amp;gt;A&lt;/p&gt;
&lt;p&gt;NG_007938.1:g.12083G&amp;gt;A&lt;/p&gt;
&lt;p&gt;NM_000777.2:c.219-237G&amp;gt;A&lt;/p&gt;
&lt;p&gt;NT_007933.14:g.24504815C&amp;gt;T&lt;/p&gt;
&lt;p&gt;其中，前两个很短，估计引用的核酸序列也较短，可以用来查看对应的核苷酸碱基序列，第三个样子有些怪，其实就是不规则命名遗留下来的，除了便于查询外，已经没有什么实际意义了。以第一个HGVS
Names为例，首先打开&lt;a href="http://www.ncbi.nlm.nih.gov/sites/entrez?db=nuccore"&gt;&lt;strong&gt;GenBank的Nucleotide查询数据库&lt;/strong&gt;&lt;/a&gt;，在搜索框中输入核苷酸碱基序列“
NG_000004.3
”，点击“go”键执行搜索，在返回的结果页点击“FASTA”链接，即可获得该SNP所在的核苷酸碱基序列了。在打开该序列的所在页面中，利用前面在SNP数据库中查到的该SNP的序列片段，依次点击IE浏览器菜单栏上的：编辑
- 在该页上查找 - 输入一段碱基序列，即可找到该SNP在此核苷酸碱基序列中的具体位置了，还可以通过点击该页面上的&lt;/p&gt;
&lt;p&gt;“More Formats”链接 - "GenBank(full)"链接，通过网页中给出的碱基序列的位置编号来找到该SNP 所在的位置。&lt;/p&gt;
&lt;p&gt;可能有很多人会存在这样的疑问，例如，在文献中看到类似CYP3A5*3(6986A&amp;gt;G)这样的等位基因名称，但此时还不知道它的refSNP ID，该如何找到该SNP在GenBank中所在的位置呢？遇到这种情况也只有在Google上碰碰运气了，因为有的文献作者会对这种残缺的HGVS Names的SNP在文章中同时标出其refSNP ID，查询的方法是在Google中输入“该SNP的HGVS Names + refSNP ID”进行查找即可，例如：&lt;a href="http://www.google.cn/search?hl=zh-CN&amp;amp;newwindow=1&amp;amp;q="&gt;g"++++"refSNP+ID"&amp;amp;btnG=Google+搜索&amp;amp;meta=&amp;amp;aq=f&amp;amp;oq="target="_blank" style="color: rgb(0, 6, 220);"&amp;gt;&lt;strong&gt;搜索CYP3A5*3(6986A&amp;gt;G)&lt;/strong&gt;&lt;/a&gt;，如果没有找到满意的检索结果，也可以直接在上文提到的GenBank的SNP数据库的搜索框中直接输入该SNP所在的基因名称+Homosapiens（人类），例如输入“ CYP3A5  Homo sapiens "[这里需要说明的是目前只有人类的等位基因才会给出HGVS Names]，执行搜索后会返回很多该基因的SNP，每个SNP除标有refSNP ID之外，还常标出数个HGVS Names，这时就可以直接利用浏览器的网页查找功能搜索如“_599A&amp;gt;G”，_来找到对应的refSNP ID了。这里推荐的一个小窍门是，假如返回的SNP数量较多的话，可以将每页显示结果的数量设置的多一些（选择show后面的数值），会减少很多反复翻页的麻烦。&lt;/p&gt;</content><category term="HGVS"></category><category term="SNP"></category></entry><entry><title>之感</title><link href="https://ghxdghxd.github.io/the-sense.html" rel="alternate"></link><published>2015-08-03T10:20:00+08:00</published><updated>2015-08-03T19:30:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2015-08-03:/the-sense.html</id><summary type="html">&lt;p&gt;想什么说什么&lt;/p&gt;</summary><content type="html">&lt;ol&gt;
&lt;li&gt;话多应知，话少需明&lt;/li&gt;
&lt;li&gt;前人看世界，后者品人生&lt;/li&gt;
&lt;li&gt;棋逢对手 尽兴，将遇良才 榨干——干的漂亮&lt;/li&gt;
&lt;li&gt;有点意思&lt;/li&gt;
&lt;li&gt;一个男人在他该出现的时候，总也不出现，那有他和没有他，又有什么差别&lt;/li&gt;
&lt;li&gt;数日子过年&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在距今已经很久远的那一天，我们就约定好了重逢。我知道，我会找到你。《与之彼端，约定的地方》&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;人们的思维容易出现定势效应(set effect), 因为人们倾向于利用原有的方式解决问题，且会被困在这个思维里，无法跳出。如果&lt;strong&gt;中途停下来处理其他事情，或中断了原来的情景&lt;/strong&gt;，即使没有带着答案回来，也能在潜意识中明白一点，原来的思维方式可能是错的，或有新的思考方向。&lt;strong&gt;这就是酝酿效应（incubation effect），指将问题搁置在一旁，能使得原有不合适的知识基础的活动性降低（减少思维定势），并采用新的方法考虑或解决问题。&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;定性，知事，选梦; 遇人，择城，终老。&lt;/li&gt;
&lt;li&gt;今天是余生中最年轻的一天，想玩就玩去&lt;/li&gt;
&lt;li&gt;爱情也许会过时，但“爱你”不会&lt;/li&gt;
&lt;li&gt;此为月圆是月缺，彼是月缺为月圆，月圆盼月缺，月缺待月圆。&lt;/li&gt;
&lt;li&gt;风起一阵知秋意，&lt;/li&gt;
&lt;li&gt;时不时遇见，面对面错过。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;三十而立，不是表面的成家或者立业，你立的，是成熟的思维模式，是独立而纵深的思考能力。&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;寄君一曲，不问曲终人聚散。有说顺其自然？如果有，那是否从此山水不相逢，莫道佳人长与短？&lt;/li&gt;
&lt;li&gt;什么是好工作：一不影响生活作息，二不影响家庭团聚，三能养家糊口。&lt;/li&gt;
&lt;li&gt;28岁的你会不会被17岁的你嘲笑&lt;/li&gt;
&lt;li&gt;只有当你拿起球拍，只有当你走进球场，你才会真正明白，为什么网球会如此受欢迎；只有当你背着行囊，只有当你远离一方，你才会真正明白，为什么过年如此备受期盼——数日子的日子&lt;/li&gt;
&lt;li&gt;数日子的时间很慢，计时间的日子最快。看见的起点在远方，摸不着的终点在想…&lt;/li&gt;
&lt;li&gt;活在梦想中&lt;/li&gt;
&lt;li&gt;阳光不燥微风正好&lt;/li&gt;
&lt;li&gt;我做好了要与你过一辈子的打算，也做好了你随时要走的准备&lt;/li&gt;
&lt;li&gt;我却觉得这一大笔积分是我这辈子花的最值一次，因为我得到了钱买不来的东西……希望，从来都无法交易的东西&lt;/li&gt;
&lt;li&gt;可否，少些理智，享受一下脱轨的惊喜&lt;/li&gt;
&lt;li&gt;真正的离开，是没有告别的&lt;/li&gt;
&lt;li&gt;最好的修养，是明知不问&lt;/li&gt;
&lt;li&gt;健康大于一切&lt;/li&gt;
&lt;li&gt;活得太过自私，想得太过周全，倒想糊涂一世，只在聪明一时，难在取舍&lt;/li&gt;
&lt;/ol&gt;</content><category term="子说"></category></entry><entry><title>MutSigCV的问题</title><link href="https://ghxdghxd.github.io/MutSigCV.html" rel="alternate"></link><published>2015-04-28T16:47:00+08:00</published><updated>2016-09-23T10:30:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2015-04-28:/MutSigCV.html</id><summary type="html">&lt;p&gt;MutSigCV的简介&lt;/p&gt;</summary><content type="html">&lt;p&gt;A tab-delimited report of significant mutations, listed in descending order from most significant to least significant.
The "nnei","x", and "X" values in the MutSig output analysis give insight into how the background mutation rate is calculated for a given gene.  nnei gives the number of neighboring genes that are pooled together to compute the background mutation rate for that gene; these genes are not necessarily adjacent on the genome, but rather they have nearby covariate values. x gives the number of mutated bases in these neighboring genes that are either silent or non-coding, while X gives the total number of bases related to these neighboring genes.&lt;/p&gt;
&lt;p&gt;According to the original MutSigCV article, olfactory receptors (ORs) can show up as significant due to the heterogeneity in the mutational processes in cancer (authors' hypothesis)(Lawrence et al. "Mutational heterogeneity in cancer and the search for new cancer-associted genes", Nature, 2013). Certain genes, like ORs, can accumulate mutations faster than others, even if their biology is not potentially oncogenic. Therefore, assuming a uniform rate of background mutations/aberrations (GISTIC/JISTIC) is somewhat wrong, no?&lt;/p&gt;
&lt;p&gt;肿瘤异质性的突变过程， 一些基因，如ORs，虽然对肿瘤没有功能影响，但因为能够迅速积累突变，而被鉴定出来。&lt;/p&gt;</content><category term="mutsig"></category></entry><entry><title>CREST的问题</title><link href="https://ghxdghxd.github.io/CREST.html" rel="alternate"></link><published>2015-03-12T09:58:00+08:00</published><updated>2015-12-24T14:02:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2015-03-12:/CREST.html</id><summary type="html">&lt;p&gt;CREST用来发现结构变异&lt;/p&gt;</summary><content type="html">&lt;p&gt;运行CREST时，报错如下错误：
Couldn't connect to 192.168.81.177 9000
Connection refused
Sorry, the BLAT/iPCR server seems to be down.  Please try again later.
crest第一步从原始的bam结果中提取出soft-clipped reads，第二步用blat将截短的序列，重新比对回reference。 blat有两种模式，一种是单机版(Stand - alone Blat)，另一种是交互式的客户端/服务器模式(Client/Server Blat)，CREST使用了第二种模式。
这里报这个错误，是因为没有配置好服务器。
配置服务器命令：/share/backup/user/bin/blatSuite-34/gfServer start 192.168.81.177 9000 /path_to_2bit_file/hg19.fa.2bit &amp;amp; （后面的&amp;amp;将此命令放入后台执行）
程序输出Server ready for queries!的提示后，服务器可用。
服务器配置完成后，可以用/share/backup/bin/bin/blatSuite-34/gfClient测试可否连接上服务器。若能正常连接上，则crest可正常运行。&lt;/p&gt;</content><category term="CREST"></category></entry><entry><title>脱氧核糖核酸酶高敏感位点</title><link href="https://ghxdghxd.github.io/DHS.html" rel="alternate"></link><published>2015-02-03T13:27:00+08:00</published><updated>2015-02-03T13:27:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2015-02-03:/DHS.html</id><summary type="html">&lt;p&gt;脱氧核糖核酸酶高敏感位点的简介&lt;/p&gt;</summary><content type="html">&lt;p&gt;脱氧核糖核酸酶高敏感位点（DNase Hypersensitive Site，DHS），也就是DNA酶高敏感位点，是DNA上容易被DNA酶识别的位点。&lt;/p&gt;
&lt;p&gt;中文名脱氧核糖核酸酶高敏感位点&lt;/p&gt;
&lt;p&gt;外文名DNase Hypersensitive Site，DHS&lt;/p&gt;
&lt;p&gt;DHS一般对应染色体上比较松弛的区段，这中松弛的特性可以提供酶去与之结合的物理条件，而那些转录活性比较强的DNA区段一般也是松弛的，因此可以通过生物信息学的方法，预测与DHS结合的转录因子信息，为DNA的功能和活性提供了重要线索。&lt;/p&gt;</content><category term="DNA"></category><category term="DHS"></category></entry><entry><title>linux好用软件集</title><link href="https://ghxdghxd.github.io/linux-soft.html" rel="alternate"></link><published>2015-02-03T10:20:00+08:00</published><updated>2018-07-05T19:30:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2015-02-03:/linux-soft.html</id><summary type="html">&lt;p&gt;自己用的linux软件以及遇到的问题整理&lt;/p&gt;</summary><content type="html">&lt;h1&gt;1. guake terminal&lt;/h1&gt;
&lt;h2&gt;简介&lt;/h2&gt;
&lt;p&gt;guake terminal， 一个下拉式终端&lt;a href="https://github.com/Guake/guake"&gt;这里下载&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;问题&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Ctrl+D in the terminal does not close the tab anymore, but freezes the current tab&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ubuntu上遇到此问题，解决办法是安装 libutempter0,参考&lt;a href="https://github.com/Guake/guake/issues/1198"&gt;这里&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;2. anaconda&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;简介&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;python 的管理工具&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;问题&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;1.matplotlib中文显示参数设置&lt;/p&gt;
&lt;p&gt;由于matplotlib库中没有中文字体。&lt;/p&gt;
&lt;p&gt;将对应的字体&lt;a href="https://github.com/StellarCN/scp_zh/blob/master/fonts/SimHei.ttf"&gt;SimHei.tff&lt;/a&gt;拷贝到
~/anaconda3/lib/python3.5/site-packages/matplotlib/mpl-data/fonts/ttf/&lt;/p&gt;
&lt;p&gt;在 ~/anaconda3/lib/python3.5/site-packages/matplotlib/mpl-data/matplotlibrc 中，删除font.family和font.sans-serif两行前的#，并在font.sans-serif后添加SimHei
font.family          :sans-serif
font.sans-serif     : SimHei, DejaVu Serif（后面还有很多，略去）
axes.unicode_minus，将True改为False&lt;/p&gt;
&lt;p&gt;删除~/.cache/matplotlib字体缓存&lt;/p&gt;</content><category term="linux"></category><category term="software"></category></entry><entry><title>人类基因组</title><link href="https://ghxdghxd.github.io/hunman-genome.html" rel="alternate"></link><published>2014-12-05T11:38:00+08:00</published><updated>2016-03-17T10:33:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2014-12-05:/hunman-genome.html</id><summary type="html">&lt;p&gt;人类参考基因组的记录&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="hg" src="images/human_genome.png" /&gt;&lt;/p&gt;
&lt;h1&gt;参考序列&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;XY染色体上相同序列 &lt;strong&gt;PAR1&lt;/strong&gt; &lt;strong&gt;PAR2&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;chrY:10001-2649520 and chrY:59034050-59363566
  chrX:60001-2699520 and chrX:154931044-155260560&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;参考基因组中的多余序列&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The chr*_random sequences are unplaced sequence on those reference
  chromosomes.
  The chrUn_* sequences are unlocalized sequences where the corresponding reference chromosome has not been determined.&lt;/p&gt;
&lt;h1&gt;基因结构&lt;/h1&gt;
&lt;p&gt;&lt;img alt="gs" height="100%" src="images/GeneStructure.bmp" width="100%" /&gt;&lt;/p&gt;
&lt;p&gt;1.&lt;strong&gt;基因&lt;/strong&gt;： 表达基因产物的全部DNA序列,包括启动子、5'UTR、开放阅读框(open reading frame，ORF)、外显子、内含子、3'UTR以及调控区&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;启动子&lt;/strong&gt;
    CAAT框(CAAT box)：其一致顺序为GGCTCAATCT，是真核生物基因常有的调节区，常位于转录起始点上游约-80bp处(或更远处)，可能也是RNA聚合酶的一个结合处，其突变敏感性决定转录效率，但是其突变不影响启动子的特异性。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;开放阅读框(open reading frame，ORF)：&lt;/strong&gt;
    在mRNA上从&lt;em&gt;起始密码子&lt;/em&gt;到&lt;em&gt;终止密码子&lt;/em&gt;之间的一段序列，该段序列可能编码蛋白质，也可能不编码；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;编码区(coding sequences，CDS):&lt;/strong&gt;
    CDS是检查cDNA后得到的编码组合序列，能翻译成氨基酸序列的DNA序列，从起始密码子到终止密码子，也就是说CDS与所翻译的氨基酸序列存在严格的3对1的关系；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;外显子与内含子分界&lt;/strong&gt;
    每个外显子与内含子的接头部位，都有一高度保守的共有序列，为剪接识别信号，即每个内含子5‘端的两个核苷酸都是&lt;strong&gt;GT&lt;/strong&gt;，3‘端的两个核苷酸都是&lt;strong&gt;AG&lt;/strong&gt;，这种连接方式称为&lt;strong&gt;GT-AG&lt;/strong&gt;法则，是真核细胞中基因表达时剪切内含子和拼接外显子的共同机制。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;2.&lt;strong&gt;前信使RNA(precursor messenger RNA, pre-mRNA)&lt;/strong&gt;
又称heterogeneous nuclear RNA, hnRNA,是转录获得的最原始序列，没有经过任何加工，序列包含从转录起始位点到转录终止位点的全部序列；&lt;/p&gt;
&lt;p&gt;3.&lt;strong&gt;信使RNA(mRNA)&lt;/strong&gt;: 基因转录后加工成熟用于翻译蛋白质的序列，包括CDS序列、3'UTR、5'UTR、5'帽子及3'Poly(A)尾&lt;/p&gt;
&lt;p&gt;外显子拼接形成成熟的mRNA，多数基因都有UTR,它们也是外显子拼接的产物，所以，mRNA的长度要大于CDS，只有CDS才编码蛋白，AUG以前的mRNA编码前导序列。&lt;/p&gt;
&lt;p&gt;&lt;img align="right" alt="polyA" height="50%" src="images/polyA.jpg" width="50%" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3`UTR的结构&lt;/strong&gt;: 3`UTR是PolyA尾巴的载体，而加这个尾巴关键的是PloyA signal。这个信号位点在3`UTR富含T或GT和其上游AATAAA信号中间，大约离AATAAA20-25个核苷酸，这个位点叫Cleavage site。如果AATAAA发生突变，那么PolyA signal就不会被激活。&lt;/p&gt;
&lt;p&gt;4.&lt;strong&gt;cDNA&lt;/strong&gt;：通过mRNA反转录所得，与mRNA序列互补的单链DNA或者与mRNA对应的DNA双链；&lt;/p&gt;
&lt;p&gt;5.&lt;strong&gt;EST&lt;/strong&gt;：表达序列标签，是指从一个随机选择的cDNA 克隆，进行5’端和3’端单一次测序挑选出来获得的短的cDNA部分序列, 代表一个完整基因的一小部分，在数据库中其长度一般从20 到7000bp 不等，平均长度为360
±120bp。由于cDNA文库的复杂性和测序的随机性，有时多个EST代表同一基因或基因组，将其归类形成EST簇（EST cluster)；&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="center"&gt;过程&lt;/th&gt;
&lt;th align="center"&gt;模板&lt;/th&gt;
&lt;th align="center"&gt;原料&lt;/th&gt;
&lt;th align="center"&gt;特点&lt;/th&gt;
&lt;th align="center"&gt;引物&lt;/th&gt;
&lt;th align="center"&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="center"&gt;DNA复制&lt;/td&gt;
&lt;td align="center"&gt;双链DNA&lt;/td&gt;
&lt;td align="center"&gt;四种dNTP&lt;/td&gt;
&lt;td align="center"&gt;合成的新链与模板链一模一样，半保留复制&lt;/td&gt;
&lt;td align="center"&gt;需要&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;转录&lt;/td&gt;
&lt;td align="center"&gt;双链DNA&lt;/td&gt;
&lt;td align="center"&gt;四种NTP&lt;/td&gt;
&lt;td align="center"&gt;合成的新链除了把DNA上的T改为U外，其他一样，半不连续转录&lt;/td&gt;
&lt;td align="center"&gt;不需要&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;翻译&lt;/td&gt;
&lt;td align="center"&gt;mRNA&lt;/td&gt;
&lt;td align="center"&gt;20种游离的氨基酸&lt;/td&gt;
&lt;td align="center"&gt;3个碱基决定一个氨基酸&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</content><category term="genome"></category></entry><entry><title>如何根据测序数据计算出数据量以及测序深度？</title><link href="https://ghxdghxd.github.io/NGS-coverage.html" rel="alternate"></link><published>2014-12-04T16:35:00+08:00</published><updated>2016-02-29T20:40:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2014-12-04:/NGS-coverage.html</id><summary type="html">&lt;p&gt;根据测序数据(reads)统计数据量以及测序深度&lt;/p&gt;</summary><content type="html">&lt;ol&gt;
&lt;li&gt;数据量大小&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;单端测序&lt;/strong&gt; 数据量 = reads长度 * reads数
&lt;strong&gt;双端测序&lt;/strong&gt; 数据量 = 单端reads长度 * 单端reads个数 * 2&lt;/p&gt;
&lt;p&gt;注：&lt;strong&gt;单位换算&lt;/strong&gt; 1个碱基=1bp 1kb=1024bp 1M=1024kb 1G=1024M&lt;/p&gt;
&lt;p&gt;2.测序深度&lt;/p&gt;
&lt;p&gt;测序深度 = 数据量大小 / 参考基因组大小&lt;/p&gt;
&lt;p&gt;3.测序与物理覆盖度&lt;/p&gt;
&lt;p&gt;在PE测序文库中&lt;/p&gt;
&lt;p&gt;&lt;img alt="coverage" src="images/coverage.png" /&gt;&lt;/p&gt;</content><category term="coverage"></category></entry><entry><title>登录终端信息</title><link href="https://ghxdghxd.github.io/terminal-announcement.html" rel="alternate"></link><published>2014-12-04T16:20:00+08:00</published><updated>2016-03-09T22:07:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2014-12-04:/terminal-announcement.html</id><summary type="html">&lt;p&gt;登录终端显示提示信息&lt;/p&gt;</summary><content type="html">&lt;h1&gt;/etc/issue&lt;/h1&gt;
&lt;p&gt;在终端接口登录时候的提示字符,例如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@linux ~&lt;span class="o"&gt;]&lt;/span&gt; cat /etc/issue&lt;/span&gt;
&lt;span class="code-line"&gt;CentOS release &lt;span class="m"&gt;5&lt;/span&gt;.6 &lt;span class="o"&gt;(&lt;/span&gt;Final&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;Kernel &lt;span class="se"&gt;\r&lt;/span&gt; on an &lt;span class="se"&gt;\m&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;issue内各代码说明：&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="se"&gt;\d&lt;/span&gt;  本地端时间的日期&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="se"&gt;\l&lt;/span&gt;  显示第几个终端接口&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="se"&gt;\m&lt;/span&gt;  显示硬件的等级&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="se"&gt;\n&lt;/span&gt;  显示主机的网络名称&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="se"&gt;\o&lt;/span&gt;  显示域名&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="se"&gt;\r&lt;/span&gt;  操作系统的版本&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="se"&gt;\t&lt;/span&gt;  显示本地端的时间&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="se"&gt;\s&lt;/span&gt;  操作系统的名称&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="se"&gt;\v&lt;/span&gt;  操作系统的版本&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;/etc/motd&lt;/h1&gt;
&lt;p&gt;登录后的公告消息, 比如：系统将会在某个时间进行维护&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;vi /etc/motd&lt;/span&gt;
&lt;span class="code-line"&gt;    Hello everyone,&lt;/span&gt;
&lt;span class="code-line"&gt;    Our server will be maintained at&lt;/span&gt;
&lt;span class="code-line"&gt;    please don&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;t login at that time,thanks.&lt;/span&gt;
&lt;span class="code-line"&gt;    那么当用户登录的时候，就会显示设置的内容了。&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="terminal"></category></entry><entry><title>集群管理笔记</title><link href="https://ghxdghxd.github.io/linux-management.html" rel="alternate"></link><published>2014-12-04T16:10:16+08:00</published><updated>2018-03-09T22:07:02+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2014-12-04:/linux-management.html</id><summary type="html">&lt;p&gt;常用的linux服务器管理&lt;/p&gt;</summary><content type="html">&lt;h1&gt;电源配置&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;由于安装之初，未使用线标签标记，后续管理十分不便...&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;插座&lt;/th&gt;
&lt;th&gt;1孔&lt;/th&gt;
&lt;th&gt;2孔&lt;/th&gt;
&lt;th&gt;3孔&lt;/th&gt;
&lt;th&gt;4孔&lt;/th&gt;
&lt;th&gt;5孔&lt;/th&gt;
&lt;th&gt;6孔&lt;/th&gt;
&lt;th&gt;7孔&lt;/th&gt;
&lt;th&gt;8孔&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;4号&lt;/td&gt;
&lt;td&gt;1上&lt;/td&gt;
&lt;td&gt;1下&lt;/td&gt;
&lt;td&gt;2下&lt;/td&gt;
&lt;td&gt;4上&lt;/td&gt;
&lt;td&gt;2上&lt;/td&gt;
&lt;td&gt;3下&lt;/td&gt;
&lt;td&gt;3上&lt;/td&gt;
&lt;td&gt;插座3号&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3号&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;8下&lt;/td&gt;
&lt;td&gt;8上&lt;/td&gt;
&lt;td&gt;7下&lt;/td&gt;
&lt;td&gt;7上&lt;/td&gt;
&lt;td&gt;大右&lt;/td&gt;
&lt;td&gt;大左&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2号&lt;/td&gt;
&lt;td&gt;4下&lt;/td&gt;
&lt;td&gt;显&lt;/td&gt;
&lt;td&gt;交下&lt;/td&gt;
&lt;td&gt;5下&lt;/td&gt;
&lt;td&gt;交上&lt;/td&gt;
&lt;td&gt;5上&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;1号&lt;/td&gt;
&lt;td&gt;插座2号&lt;/td&gt;
&lt;td&gt;小右&lt;/td&gt;
&lt;td&gt;6左&lt;/td&gt;
&lt;td&gt;外下&lt;/td&gt;
&lt;td&gt;管上&lt;/td&gt;
&lt;td&gt;6右&lt;/td&gt;
&lt;td&gt;管下&lt;/td&gt;
&lt;td&gt;小左&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1&gt;常用操作&lt;/h1&gt;
&lt;h2&gt;清理内存&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt; &amp;gt; /proc/sys/vm/drop_caches&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;a href="terminal-announcement"&gt;登录显示信息&lt;/a&gt;&lt;/h2&gt;
&lt;h2&gt;添加外挂硬盘&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;mount /dev/sdc1 /extra          &lt;span class="c1"&gt;#158&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;mount /dev/sdb1 /export/swap/   &lt;span class="c1"&gt;#162&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;a href="cpuinfo"&gt;CPU信息&lt;/a&gt;&lt;/h2&gt;
&lt;h2&gt;GPU计算卡&lt;/h2&gt;
&lt;h3&gt;查看GPU型号&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo lspci &lt;span class="p"&gt;|&lt;/span&gt; grep NVIDIA&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;安装驱动&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;wget http://cn.download.nvidia.com/tesla/410.79/NVIDIA-Linux-x86_64-410.79.run&lt;/span&gt;
&lt;span class="code-line"&gt;chmod a+x NVIDIA-Linux-x86_64-410.79.run&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;a href="raid"&gt;磁盘阵列简介&lt;/a&gt;&lt;/h2&gt;
&lt;h2&gt;系统配置(CPU + GPU + raid)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;配置&lt;/li&gt;
&lt;li&gt;commput0&lt;ul&gt;
&lt;li&gt;[2.10GHz] * 4 * 8核/CPU * 2线程/核 = 64&lt;/li&gt;
&lt;li&gt;1T * 6块 &amp;gt;&amp;gt;&amp;gt; 3T(raid10), 485M boot + 1.9T root + 781G /export/swap&lt;/li&gt;
&lt;li&gt;sda1, sda3, sdb1&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;compute1-4&lt;ul&gt;
&lt;li&gt;[2.60GHz] * 4 * 6核/CPU * 2线程/核 = 48&lt;/li&gt;
&lt;li&gt;TeslaK20Xm GPU ，cuda核心数 2688， 内存6G&lt;/li&gt;
&lt;li&gt;/state/partition1 每个计算节点的私有空间&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;compute5&lt;ul&gt;
&lt;li&gt;[2.60GHz] * 4 * 6核/CPU * 2线程/核 = 48&lt;/li&gt;
&lt;li&gt;/state/partition1 每个计算节点的私有空间&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;compute6&lt;ul&gt;
&lt;li&gt;[2.20GHz] * 4 * 6核/CPU * 2线程/核 = 48&lt;/li&gt;
&lt;li&gt;/state/partition1 每个计算节点的私有空间&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;compute7-8&lt;ul&gt;
&lt;li&gt;[2.30GHz] * 4 * 8核/CPU * 2线程/核 = 64&lt;/li&gt;
&lt;li&gt;/state/partition1 每个计算节点的私有空间&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;数据线(raid5)&lt;ul&gt;
&lt;li&gt;3T * 3块 &amp;gt;&amp;gt;&amp;gt; 6T, sdd1&lt;/li&gt;
&lt;li&gt;4T * 6块 &amp;gt;&amp;gt;&amp;gt; 18T, sdc1, sdc2&lt;/li&gt;
&lt;li&gt;8T * 3块 &amp;gt;&amp;gt;&amp;gt; 15T, sde1&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;网线(raid5)&lt;ul&gt;
&lt;li&gt;4T * 5块 &amp;gt;&amp;gt;&amp;gt; 16T, /dev/mapper/mpathep1&lt;/li&gt;
&lt;li&gt;4T * 5块 &amp;gt;&amp;gt;&amp;gt; 16T, /dev/mapper/mpathfp1&lt;/li&gt;
&lt;li&gt;8T * 5块 &amp;gt;&amp;gt;&amp;gt; 30T, /dev/mapper/mpathhp1&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;rocks常用命令&lt;/h2&gt;
&lt;h3&gt;所有节点运行&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;rocks run host &lt;span class="s2"&gt;&amp;quot;hostname&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;同步配制&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;rocks sync config&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;要先重启管理节点然后计算机节点,否则导致数据不同步&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;rocks run host &lt;span class="s2"&gt;&amp;quot;/etc/init.d/pbs_mom restart&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;添加用户&lt;strong&gt;无法qusb要在/etc/group 添加用户&lt;/strong&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;useradd -g group name &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#/etc/passwd name:x:xxx:xxx::/export/home/casual:/bin/bash&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;passwd name&lt;/span&gt;
&lt;span class="code-line"&gt;rocks sync users &lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#可更改/export/home/name 为&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#/home/name : /etc/passwd name:x:xxx:xxx::/home/casual:/bin/bash&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#如果要修改用户名（未测试过）&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;usermod -l newName oldName&lt;/span&gt;
&lt;span class="code-line"&gt;mv /export/home/newName /export/home/oldName&lt;/span&gt;
&lt;span class="code-line"&gt;usermod -d /export/home/newName -m newName&lt;/span&gt;
&lt;span class="code-line"&gt;rocks sync users&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;如果ssh compute 需要输入密码&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;rm -rf ~/.ssh &lt;span class="c1"&gt;#然后 退出登录 再登陆 会自动生成新密钥&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;节点进入单用户模式&lt;/h3&gt;
&lt;p&gt;在倒计时5秒时，按任意键出现下图，
&lt;strong&gt;选择如图，按e进入编辑, 最后加上１,回车,按b,root进入系统&lt;/strong&gt;
&lt;img alt="图1" src="images/manager1.png" style="height:30%; width:30%;" /&gt;
&lt;img alt="图2" src="images/manager2.png" style="height:30%; width:30%;" /&gt;
&lt;img alt="图3" src="images/manager3.jpg" style="height:30%; width:30%;" /&gt;&lt;/p&gt;
&lt;h3&gt;重装节点&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;rocks &lt;span class="nb"&gt;set&lt;/span&gt; host boot compute1 &lt;span class="nv"&gt;action&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;install&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;提交任务后，无运行时间,且qdel: Server could not connect to MOM&lt;/h3&gt;
&lt;p&gt;由于节点pbs_mom没运行
解决办法是进入节点后运行pbs_mom&lt;/p&gt;
&lt;h2&gt;qmgr&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;qmgr -c &lt;span class="s2"&gt;&amp;quot;print server&amp;quot;&lt;/span&gt; &lt;span class="c1"&gt;# 输出server的属性&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;qmgr -c &lt;span class="s2"&gt;&amp;quot;set server query_other_jobs = true&amp;quot;&lt;/span&gt; &lt;span class="c1"&gt;# qstat可以查看所有用户&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;qmgr -c &lt;span class="s2"&gt;&amp;quot;set server auto_node_np = True&amp;quot;&lt;/span&gt; &lt;span class="c1"&gt;# 自动更新节点线程数&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Draining system to allow starving job to run (qstat -s)&lt;/h2&gt;
&lt;p&gt;队列中还有排队非常久的饥饿进程，为了更公平合理使用队列，所以将新提交的作业做置为排队状态以让出资源运行排队的饥饿作业&lt;/p&gt;
&lt;p&gt;修改/opt/torque/spool/sched_priv/sched_config&lt;/p&gt;
&lt;p&gt;before:
help_starving_jobs true ALL&lt;/p&gt;
&lt;p&gt;after:
help_starving_jobs false ALL&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;/opt/torque/init.d/pbs_sched pbs_mom pbs_server&lt;/span&gt;
&lt;span class="code-line"&gt;service pbs_server restart&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;multipath与iscsi操作&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;硬件连接及硬盘灯(绿)&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;确定服务开启:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;service iscsi restart&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;查看iscsi发现记录&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;iscsiadm -m node&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;发现iscsi存储：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;iscsiadm -m discovery -t st -p 10.1.1.100:3260&lt;/span&gt;
&lt;span class="code-line"&gt;iscsiadm -m discovery -t st -p 10.1.1.101:3260&lt;/span&gt;
&lt;span class="code-line"&gt;iscsiadm -m discovery -t st -p 10.1.1.102:3260&lt;/span&gt;
&lt;span class="code-line"&gt;iscsiadm -m discovery -t st -p 10.1.1.103:3260&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;multipath操作&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;multipath -ll &lt;span class="c1"&gt;#查看&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;multipath -v2  &lt;span class="c1"&gt;#自动更新路径&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;multipath -f mpathg &lt;span class="c1"&gt;# 删除路径&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;service multipathd restart &lt;span class="c1"&gt;#重启确认/dev/mapper下有硬盘连接&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 挂载&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;mount /dev/mapper/mpathep1 /export/data2&lt;/span&gt;
&lt;span class="code-line"&gt;mount /dev/mapper/mpathfp1 /export/data3&lt;/span&gt;
&lt;span class="code-line"&gt;mount /dev/mapper/mpathhp1 /export/data4&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;挂载fstab&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;/dev/sdc1 /export/data0 ext4 defaults 1 1&lt;/span&gt;
&lt;span class="code-line"&gt;/dev/sdc2 /export/data1 ext4 defaults 1 1&lt;/span&gt;
&lt;span class="code-line"&gt;/dev/sde1 /export/data5 ext4 defaults 1 1&lt;/span&gt;
&lt;span class="code-line"&gt;/dev/mapper/mpathhp1 /export/data4 xfs defaults,_netdev 0 0&lt;/span&gt;
&lt;span class="code-line"&gt;/dev/mapper/mpathep1 /export/data2 xfs defaults,_netdev 0 0&lt;/span&gt;
&lt;span class="code-line"&gt;/dev/mapper/mpathfp1 /export/data3 xfs defaults,_netdev 0 0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;autofs自动挂载&lt;/p&gt;
&lt;p&gt;autofs一般与ldap、nfs协作实现远程home目录。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;确认/export/*,一般重启服务&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;service autofs restart&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;/etc/auto.master&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;/share /etc/auto.share --timeout&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1200&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;/home /etc/auto.home  --timeout&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1200&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;/etc/auto.share 如果要增加新存储，需要添加，如swap&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;apps -nfsvers&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt; -soft,intr,timeo&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;9999&lt;/span&gt;  xmu.local:/export/&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#bio  -nfsvers=3 -soft,intr,timeo=9999  xmu:/export/&amp;amp;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;data0 -nfsvers&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt; -soft,intr,timeo&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;9999&lt;/span&gt; xmu.local:/export/&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;data1 -nfsvers&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt; -soft,intr,timeo&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;9999&lt;/span&gt; xmu.local:/export/&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;data2 -nfsvers&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt; -soft,intr,timeo&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;9999&lt;/span&gt; xmu.local:/export/&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;data3 -nfsvers&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt; -soft,intr,timeo&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;9999&lt;/span&gt; xmu.local:/export/&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;data4 -nfsvers&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt; -soft,intr,timeo&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;9999&lt;/span&gt; xmu.local:/export/&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;data5 -nfsvers&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt; -soft,intr,timeo&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;9999&lt;/span&gt; xmu.local:/export/&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;swap -nfsvers&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt; -soft,intr,timeo&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;9999&lt;/span&gt; xmu.local:/export/&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;/etc/exportfs 如果要增加新存储，需要添加，如swap&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;/export &lt;span class="m"&gt;10&lt;/span&gt;.1.1.1&lt;span class="o"&gt;(&lt;/span&gt;rw,async,no_root_squash&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="m"&gt;10&lt;/span&gt;.1.1.0/255.255.255.0&lt;span class="o"&gt;(&lt;/span&gt;rw,async&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;/export/data0 &lt;span class="m"&gt;10&lt;/span&gt;.1.1.1&lt;span class="o"&gt;(&lt;/span&gt;rw,async,no_root_squash&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="m"&gt;10&lt;/span&gt;.1.1.0/255.255.255.0&lt;span class="o"&gt;(&lt;/span&gt;rw,async&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;/export/data1 &lt;span class="m"&gt;10&lt;/span&gt;.1.1.1&lt;span class="o"&gt;(&lt;/span&gt;rw,async,no_root_squash&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="m"&gt;10&lt;/span&gt;.1.1.0/255.255.255.0&lt;span class="o"&gt;(&lt;/span&gt;rw,async&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;/export/data2 &lt;span class="m"&gt;10&lt;/span&gt;.1.1.1&lt;span class="o"&gt;(&lt;/span&gt;rw,async,no_root_squash&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="m"&gt;10&lt;/span&gt;.1.1.0/255.255.255.0&lt;span class="o"&gt;(&lt;/span&gt;rw,async&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;/export/data3 &lt;span class="m"&gt;10&lt;/span&gt;.1.1.1&lt;span class="o"&gt;(&lt;/span&gt;rw,async,no_root_squash&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="m"&gt;10&lt;/span&gt;.1.1.0/255.255.255.0&lt;span class="o"&gt;(&lt;/span&gt;rw,async&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;/export/data4 &lt;span class="m"&gt;10&lt;/span&gt;.1.1.1&lt;span class="o"&gt;(&lt;/span&gt;rw,async,no_root_squash&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="m"&gt;10&lt;/span&gt;.1.1.0/255.255.255.0&lt;span class="o"&gt;(&lt;/span&gt;rw,async&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;/export/data5 &lt;span class="m"&gt;10&lt;/span&gt;.1.1.1&lt;span class="o"&gt;(&lt;/span&gt;rw,async,no_root_squash&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="m"&gt;10&lt;/span&gt;.1.1.0/255.255.255.0&lt;span class="o"&gt;(&lt;/span&gt;rw,async&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;/export/swap &lt;span class="m"&gt;10&lt;/span&gt;.1.1.1&lt;span class="o"&gt;(&lt;/span&gt;rw,async,no_root_squash&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="m"&gt;10&lt;/span&gt;.1.1.0/255.255.255.0&lt;span class="o"&gt;(&lt;/span&gt;rw,async&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;修复分区(未完)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;exportfs -rv &lt;span class="c1"&gt;#重新扫描/etc/exports&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;exportfs -u /export/data2       &lt;span class="c1"&gt;#umount分区&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;xfs_check /dev/mapper/mpathep1&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="nv"&gt;$?&lt;/span&gt; &lt;span class="c1"&gt;#显示0表示已umount&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;qsub&lt;/h2&gt;
&lt;p&gt;1.指定运行节点&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;qsub -l &lt;span class="nv"&gt;nodes&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;:n3:ppn&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;40&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;qusb -l &lt;span class="nv"&gt;nodes&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;:n1:ppn&lt;span class="o"&gt;=&lt;/span&gt;+1:n2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;2.重新运行任务&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;    qrerun&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;3.lib&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; i in &lt;span class="sb"&gt;`&lt;/span&gt;seq &lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="m"&gt;8&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sudo scp /etc/profile.d/set.sh compute-0-&lt;span class="nv"&gt;$i&lt;/span&gt;:/etc/profile.d/set.sh&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;done&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;rm /usr/lib64/libstdc++.so.6&lt;/span&gt;
&lt;span class="code-line"&gt;ln -s /share/apps/gcc-5.3.0/lib64/libstdc++.so.6.0.21 libstdc++.so.6&lt;/span&gt;
&lt;span class="code-line"&gt;strings /usr/lib/libstdc++.so.6 &lt;span class="p"&gt;|&lt;/span&gt; grep&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;showq&lt;/h2&gt;
&lt;p&gt;出现错误：
ERROR:    cannot send request to server xmu.cn:42559 (server may not be running)
ERROR:    cannot request service (status)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;cp /opt/maui/sbin/maui /etc/init.d&lt;/span&gt;
&lt;span class="code-line"&gt;/etc/init.d/maui start&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;CentOS 6.5 升级内核&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org&lt;/span&gt;
&lt;span class="code-line"&gt;rpm -Uvh http://www.elrepo.org/elrepo-release-6-8.el6.elrepo.noarch.rpm&lt;/span&gt;
&lt;span class="code-line"&gt;yum elrepo源有 ml（mainline 为最新版本的内核）和 lt（长期支持的内核）两种内核，这里我们选择 lt 内核&lt;/span&gt;
&lt;span class="code-line"&gt;yum --enablerepo&lt;span class="o"&gt;=&lt;/span&gt;elrepo-kernel -y install kernel-lt （kernel-ml）&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;引导文件修改（grub.conf）&lt;/span&gt;
&lt;span class="code-line"&gt;将 default 设置为 &lt;span class="m"&gt;0&lt;/span&gt; ，default&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;vim /etc/grub.conf&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="图4" height="50%" src="images/manager4.png" width="50%" /&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a href="fail2ban"&gt;使用 fail2ban 防御 SSH 服务器的暴力破解攻击&lt;/a&gt;&lt;/h1&gt;
&lt;h1&gt;install glibc&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;conda install -c asmeurer glibc&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;/lib64/libc.so.6软链接&lt;/h2&gt;
&lt;p&gt;当libc.so.6被升级或被删除后，ls, mv等命令无法使用, 现在如下错误：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;/bin/ls: error &lt;span class="k"&gt;while&lt;/span&gt; loading shared libraries: libc.so.6: cannot open shared object file: No such file or directory&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;通过使用LD_PRELOAD解决，方法如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;先删除连接 ：&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# cd /lib64&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# LD_PRELOAD=/lib64/libc-2.3.6.so.bak rm libc.so.6&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;建立新连接 ：&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# LD_PRELOAD=/lib64/libc-2.3.6.so.bak ln -s /lib64/libc-2.3.6.so.bak libc.so.6&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;screen&lt;/h2&gt;
&lt;p&gt;切换用户后，screen出现如下提示：Cannot open your terminal '/dev/pts/38' - please check&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;script /dev/null &lt;span class="c1"&gt;#更新 tty，再执行screen&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="centos"></category><category term="shell"></category><category term="hpc"></category><category term="rocks cluster"></category><category term="manage"></category></entry><entry><title>FASTQ格式详解</title><link href="https://ghxdghxd.github.io/fastq-format.html" rel="alternate"></link><published>2014-12-04T10:20:00+08:00</published><updated>2015-03-06T16:12:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2014-12-04:/fastq-format.html</id><summary type="html">&lt;p&gt;Fastq的格式&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;FASTQ&lt;/strong&gt;是基于文本的，保存生物序列（通常是核酸序列）和其测序质量信息的标准格式。
其序列以及质量信息都是使用一个ASCII字符标示，最初由Sanger开发，目的是将FASTA序列与质量数据放到一起，目前已经成为高通量测序结果的事实标准。&lt;/p&gt;
&lt;hr /&gt;
&lt;h1&gt;FASTQ基本格式(reads)&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;每条reads包括4行：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;序列标识以及相关的描述信息，以‘@’开头；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;第二行是序列&lt;/li&gt;
&lt;li&gt;第三行以‘+’开头，后面是序列标示符、描述信息，或者什么也不加&lt;/li&gt;
&lt;li&gt;第四行，是质量信息，和第二行的序列相对应，每一个序列都有一个质量评分，根据评分体系的不同，每个字符的含义表示的数字也不相同。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;1 @SEQ_ID&lt;/span&gt;
&lt;span class="code-line"&gt;2 GATTTGGGGTTCAAAGCAGTATCGATCAAATAGTAAATCCATTTGTTCAACTCACAGTTT&lt;/span&gt;
&lt;span class="code-line"&gt;3 \+&lt;/span&gt;
&lt;span class="code-line"&gt;4 !&amp;#39;&amp;#39;*((((***+))%%%++)(%%%%).1***-+*&amp;#39;&amp;#39;))**55CCF&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;CCCCCCC65&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Fastq ID&lt;/h2&gt;
&lt;p&gt;illumina测序仪的ID行一般包含测序仪、运行编号、flowcell ID、lane ID、tile ID、横纵轴坐标、索引序列等等&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;@HWUSI-EAS100R:6:73:941:1973#0/1&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="center"&gt;HWUSI-EAS100R&lt;/th&gt;
&lt;th&gt;the unique instrument name&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="center"&gt;6&lt;/td&gt;
&lt;td&gt;flowcell lane&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;73&lt;/td&gt;
&lt;td&gt;tile number within the flowcell lane&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;941&lt;/td&gt;
&lt;td&gt;‘x’-coordinate of the cluster within the tile&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;1973&lt;/td&gt;
&lt;td&gt;‘y’-coordinate of the cluster within the tile&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;#0&lt;/td&gt;
&lt;td&gt;index number for a multiplexed sample (0 for no indexing)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;/1&lt;/td&gt;
&lt;td&gt;the member of a pair, /1 or /2 _(paired-end or mate-pair reads only)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;质量信息&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;测序仪能够根据荧光信号的强弱, 给定一个碱基的错误概率(error probility, P)&lt;/li&gt;
&lt;li&gt;为方便记录, 节约磁盘空间, 把概率P转化为ASCII码(&lt;a href="(http://binf.snipcademy.com/binf/img/lessons/dna-file-formats/ascii.svg)"&gt;共127个字符&lt;/a&gt;)代表质量分数Q&lt;/li&gt;
&lt;li&gt;P越小,Q越大,质量越好&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;最常用的Phred质量转换公式：&lt;/strong&gt;
$$Q=-10log_{10}P$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;质量分数Q与错误概率P的对应关系见下表：&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;质量分数(Q)&lt;/th&gt;
&lt;th&gt;错误概率(P)&lt;/th&gt;
&lt;th&gt;准确率&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;1 in 10&lt;/td&gt;
&lt;td&gt;90 %&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;td&gt;1 in 100&lt;/td&gt;
&lt;td&gt;99 %&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;30&lt;/td&gt;
&lt;td&gt;1 in 1000&lt;/td&gt;
&lt;td&gt;99.9 %&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;40&lt;/td&gt;
&lt;td&gt;1 in 10000&lt;/td&gt;
&lt;td&gt;99.99 %&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;50&lt;/td&gt;
&lt;td&gt;1 in 100000&lt;/td&gt;
&lt;td&gt;99.999 %&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;另外还有，Solexa标准：&lt;/strong&gt;
$$Q_{solexa-prior to v.1.3}=-10log_{10}\frac{P}{1-P}$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;对于每个碱基的质量编码标示，不同的软件采用不同的方案，目前统一用Phred33&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="Q" src="../images/fasq-quality-score.png" /&gt;&lt;/p&gt;
&lt;h1&gt;fastq 质量检测工具&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/BioKits/fastqc"&gt;fastQC&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;结果&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Per base sequence quality&lt;ul&gt;
&lt;li&gt;任一位置的下四分位数(黄色)低于10或者中位数(红线)低于25，出现“警告”；&lt;/li&gt;
&lt;li&gt;任一位置的下四分位数(黄色)低于5或者中位数(红线)低于20，出现“失败，Fail”。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Per tile sequence quality
    检查reads中每一个碱基位置在不同的测序小孔之间的偏离度，蓝色代表偏离度小, 质量好，越红代表偏离度越大，质量越差。&lt;/li&gt;
&lt;li&gt;Per sequence quality scores
    reads质量的分布, 当峰值小于27时，警告； 当峰值小于20时，fail。&lt;/li&gt;
&lt;li&gt;Per base sequence content 碱基（A,T,C,G）含量图&lt;ul&gt;
&lt;li&gt;理论上: A,T,C,G的比例都接近于25%&lt;/li&gt;
&lt;li&gt;测序的时候，测序仪状态不稳定,&lt;strong&gt;比例差异大&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;当任一位置的A/T比例与G/C比例相差超过10%，报”WARN”；当任 一位置的A/T比例与G/C比例相差超过20%，报”FAIL”。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Per sequence GC content CG含量&lt;ul&gt;
&lt;li&gt;蓝线是程序根据经验分布给出的理论值，红色是真实值，两者接近为最好&lt;/li&gt;
&lt;li&gt;当红色的线出现双峰，基本肯定是混入了其他物种的DNA序列&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Sequence Length Distribution reads读长
    当测序的长度不同时，如果很严重，则表明测序仪在此次测序过程中产生的数据不可信&lt;/li&gt;
&lt;/ol&gt;</content><category term="fastq"></category><category term="format"></category></entry><entry><title>R与Rstudio的安装过程（ubuntu）</title><link href="https://ghxdghxd.github.io/R-and-Rstudio.html" rel="alternate"></link><published>2014-11-13T10:20:00+08:00</published><updated>2017-02-05T19:30:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2014-11-13:/R-and-Rstudio.html</id><summary type="html">&lt;p&gt;ubuntu安装R与Rstudio的过程&lt;/p&gt;</summary><content type="html">&lt;h1&gt;install R&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;error&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;File failed to load: /extensions/MathZoom.js&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;CFLAGS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;-I/share/apps/R_depends/include&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;LDFLAGS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;-L/share/apps/R_depends/lib&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;LD_LIBRARY_PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$LD_LIBRARY_PATH&lt;/span&gt;:/share/apps/R_depends/lib&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;!--more--&gt;

&lt;h2&gt;before&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;apt-get build-dep r-base-core&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;./configure&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;./configure --prefix&lt;span class="o"&gt;=&lt;/span&gt;/opt/R-3.3.1 --enable-R-shlib --with-libpng --with-jpeglib --with-libtiff --with-x --with-tcltk &lt;span class="se"&gt;\&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;--with-blas --with-lapack &lt;span class="c1"&gt;# 提高矩阵速度&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;1. configure: error: No F77 compiler found&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt-get install gfortran&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;2. configure: error: --with-readline&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt-get install libreadline-dev&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;3. configure: error: --with-x=yes&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt-get install libxt-dev&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;4. checking whether zlib support suffices&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt-get install zlib1g-dev&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;5. checking whether bzip2 support suffices&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;wget &amp;lt;http://www.bzip.org/1.0.6/bzip2-1.0.6.tar.gz&amp;gt;&lt;/span&gt;
&lt;span class="code-line"&gt;tar xvf bzip2-1.0.6.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; bzip2-1.0.6&lt;/span&gt;
&lt;span class="code-line"&gt;sudo make install&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# OR&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;make -f Makefile-libbz2_so&lt;/span&gt;
&lt;span class="code-line"&gt;make clean&lt;/span&gt;
&lt;span class="code-line"&gt;make -n install &lt;span class="nv"&gt;PREFIX&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$R_depends&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;make install &lt;span class="nv"&gt;PREFIX&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$R_depends&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;install bzip2-lib&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;6. configure: error: "liblzma&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt-get install liblzma-dev&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;7. configure: error: pcre &amp;gt;= 8.10&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;wget ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.39.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;tar xvf pcre-8.39.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; pcre-8.39&lt;/span&gt;
&lt;span class="code-line"&gt;./configure --enable-utf8 --prefix&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$R_depends&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;make &lt;span class="p"&gt;&amp;amp;&lt;/span&gt;amp&lt;span class="p"&gt;;&lt;/span&gt; sudo make install&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;8. libcurl &amp;gt;= 7.28.0 library and headers are required with support for https&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;wget https://www.openssl.org/source/openssl-1.1.0b.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;tar xvf openssl-1.1.0b.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; openssl-1.1.0b&lt;/span&gt;
&lt;span class="code-line"&gt;./config&lt;/span&gt;
&lt;span class="code-line"&gt;make &lt;span class="p"&gt;&amp;amp;&lt;/span&gt;amp&lt;span class="p"&gt;;&lt;/span&gt;  sudo make install&lt;/span&gt;
&lt;span class="code-line"&gt;wget &amp;lt;https://curl.haxx.se/download/curl-7.50.3.tar.gz&amp;gt;&lt;/span&gt;
&lt;span class="code-line"&gt;tar xvf curl-7.50.3.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; curl-7.50.3&lt;/span&gt;
&lt;span class="code-line"&gt;./configure --with-ssl&lt;span class="o"&gt;=&lt;/span&gt;/usr/local/ssl/&lt;/span&gt;
&lt;span class="code-line"&gt;make &lt;span class="p"&gt;&amp;amp;&lt;/span&gt;amp&lt;span class="p"&gt;;&lt;/span&gt; sudo make install&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;9.configure: WARNING: you cannot build info or HTML versions of the R manuals&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt-get install texinfo&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;10. configure: WARNING: you cannot build PDF versions of the R manuals, configure: WARNING: you cannot build PDF versions of vignettes and help pages&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt-get install texlive&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;11. configure: WARNING: neither inconsolata.sty nor zi4.sty found: PDF vignettes and package manuals will not be rendered optimally&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;wget &amp;lt;http://mirrors.ctan.org/install/fonts/inconsolata.tds.zip&amp;gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sudo mv inconsolata.tds.zip /usr/share/texlive/texmf-dist/tex/latex&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; /usr/share/texlive/texmf-dist/tex/latex&lt;/span&gt;
&lt;span class="code-line"&gt;unzip inconsolata.tds.zip&lt;/span&gt;
&lt;span class="code-line"&gt;sudo mktexlsr&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;12. 本版本不支持png&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt-get install libpng16-dev&lt;/span&gt;
&lt;span class="code-line"&gt;sudo apt-get install libtiff5-dev&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;make&lt;/h2&gt;
&lt;h3&gt;1./usr/local/lib/libbz2.a: 无法添加符号: 错误的值&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;rm /usr/local/lib/libbz2.a&lt;/span&gt;
&lt;span class="code-line"&gt;wget &amp;lt;http://zlib.net/zlib-1.2.8.tar.gz&amp;gt;&lt;/span&gt;
&lt;span class="code-line"&gt;tar xvf zlib-1.2.8.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; zlib-1.2.8&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;CC&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;gcc -fPIC&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;./configure&lt;span class="p"&gt;;&lt;/span&gt; make &lt;span class="nb"&gt;test&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sudo make install&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;2./usr/bin/ld: cannot find -lbz2 ;  collect2: error: ld returned 1 exit status&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt-get install libbz2-dev&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 会用到&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;make &lt;span class="nv"&gt;CC&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;gcc -fPIC&amp;#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;make install &lt;span class="nv"&gt;PREFIX&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/software/packages&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;make install&lt;/h2&gt;
&lt;h3&gt;1.conftest.c:1:17: fatal error: jni.h&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; R-3.3.1/doc&lt;/span&gt;
&lt;span class="code-line"&gt;wget &amp;lt;https://cran.r-project.org/doc/manuals/r-release/NEWS.pdf&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;install rstudio&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt-get install libjpeg62-dev&lt;/span&gt;
&lt;span class="code-line"&gt;sudo apt-get install libgstreamer0.10-0&lt;/span&gt;
&lt;span class="code-line"&gt;sudo apt-get install libgstreamer-plugins-base0.10-0&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;RSTUDIO_WHICH_R&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/opt/R-3.3.1/bin/R&amp;quot;&lt;/span&gt; 添加到/etc/profile或~/.profile&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;run R&lt;/h3&gt;
&lt;h3&gt;Error in grid.Call(L_textBounds, as.graphicsAnnot(xlabel),xlabel),x x, x$y, :无法载入X11字面为2,大小为20的字形-&lt;em&gt;-courier-%s-%s-&lt;/em&gt;-&lt;em&gt;-%d-&lt;/em&gt;-&lt;em&gt;-&lt;/em&gt;-&lt;em&gt;-&lt;/em&gt;-&lt;em&gt;-&lt;/em&gt;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt-get install t1-xfree86-nonfree ttf-xfree86-nonfree ttf-xfree86-nonfree-syriac&lt;/span&gt;
&lt;span class="code-line"&gt;sudo apt-get install xfonts-75dpi&lt;/span&gt;
&lt;span class="code-line"&gt;sudo apt-get install xfonts-100dpi&lt;/span&gt;
&lt;span class="code-line"&gt;sudo apt-get install mesa-utils&lt;/span&gt;
&lt;span class="code-line"&gt;sudo apt-get install libxtst-dev&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;using R&lt;/h3&gt;
&lt;h3&gt;无法载入共享目标对象 stringi.so&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;install.packages&lt;span class="o"&gt;(&lt;/span&gt;stringi&lt;span class="o"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;R install.packages returns "failed to create lock directory"&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;R CMD INSTALL --no-lock &lt;span class="p"&gt;&amp;amp;&lt;/span&gt;lt&lt;span class="p"&gt;;&lt;/span&gt;pkg&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;gt&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# OR&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;install.packages&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Rcpp&amp;quot;&lt;/span&gt;, &lt;span class="nv"&gt;dependencies&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;TRUE, &lt;span class="nv"&gt;INSTALL_opts&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; c&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;\--no-lock&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;))&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;An irrecoverable exception occurred. R is aborting now ... ERROR: loading failed&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;R CMD INSTALL --no-test-load *packages*&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;nlopt&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;./configure --enable-shared&lt;/span&gt;
&lt;span class="code-line"&gt;make&lt;/span&gt;
&lt;span class="code-line"&gt;make install&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;semi-transparency is not supported on this device&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt install libcairo2-dev&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;configure: error: missing required header GL/gl.h, configure: error: missing required header GL/glu.h&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt install mesa-common-dev&lt;/span&gt;
&lt;span class="code-line"&gt;sudo apt install libglu1-mesa-dev&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;install units based on udunits2&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;conda install udunits2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;install.packages&lt;span class="p"&gt;(&lt;/span&gt;install.packages&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;units&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    configure.args&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;--with-udunits2-lib=/share/apps/anaconda3/lib --with-udunits2-include=/share/apps/anaconda3/include&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="R"></category><category term="Rstudio"></category></entry><entry><title>fedora常用配置</title><link href="https://ghxdghxd.github.io/fedora-install.html" rel="alternate"></link><published>2014-11-13T10:20:00+08:00</published><updated>2018-01-27T10:27:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2014-11-13:/fedora-install.html</id><summary type="html">&lt;p&gt;fedora常用安装与配置&lt;/p&gt;</summary><content type="html">&lt;h1&gt;config fedora&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo rm -rf /opt&lt;/span&gt;
&lt;span class="code-line"&gt;sudo dnf install yum-utils&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;* package-cleanup --oldkernels&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;RPM Fusion Free/Nonfree源, FZUG源&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;version&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;27&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sudo dnf config-manager --add-repo&lt;span class="o"&gt;=&lt;/span&gt;http://mirrors.aliyun.com/repo/fedora.repo&lt;/span&gt;
&lt;span class="code-line"&gt;sudo dnf install http://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-&lt;span class="nv"&gt;$version&lt;/span&gt;.noarch.rpm -y&lt;/span&gt;
&lt;span class="code-line"&gt;sudo dnf install http://download1.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-&lt;span class="nv"&gt;$version&lt;/span&gt;.noarch.rpm -y&lt;/span&gt;
&lt;span class="code-line"&gt;sudo dnf install https://repo.fdzh.org/FZUG/free/&lt;span class="nv"&gt;$version&lt;/span&gt;/x86_64/noarch/fzug-release-&lt;span class="nv"&gt;$version&lt;/span&gt;-0.2.noarch.rpm -y&lt;/span&gt;
&lt;span class="code-line"&gt;sudo dnf makecache&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;upgrade&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo dnf check-update &lt;span class="p"&gt;&amp;amp;&lt;/span&gt; sudo dnf upgrade&lt;/span&gt;
&lt;span class="code-line"&gt;sudo dnf install sqlite&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;disable Wayland&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;/etc/gdm/custom.conf&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;WaylandEnable&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;false&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;chrome&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;wget https://dl.google.com/linux/direct/google-chrome-stable_current_x86_64.rpm  &lt;/span&gt;
&lt;span class="code-line"&gt;sudo dnf install ./google-chrome-stable_current_x86_64.rpm  &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;git&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo dnf install git&lt;/span&gt;
&lt;span class="code-line"&gt;git config --global user.name username&lt;/span&gt;
&lt;span class="code-line"&gt;git config --global user.email email&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;guake&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo dnf install guake&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;gnome-tweak-tool&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo dnf install gnome-tweak-tool&lt;/span&gt;
&lt;span class="code-line"&gt;sudo dnf install chrome-gnome-shell&lt;/span&gt;
&lt;span class="code-line"&gt;dashtodocky&lt;/span&gt;
&lt;span class="code-line"&gt;Topicons plus&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;wbpy&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo dnf install fcitx-table-chinese&lt;/span&gt;
&lt;span class="code-line"&gt;sudo dnf install fcitx-configtool&lt;/span&gt;
&lt;span class="code-line"&gt;sudo dnf install im-chooser&lt;/span&gt;
&lt;span class="code-line"&gt;im-chooser&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;zsh&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt install zsh&lt;/span&gt;
&lt;span class="code-line"&gt;wget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - &lt;span class="p"&gt;|&lt;/span&gt; zsh&lt;/span&gt;
&lt;span class="code-line"&gt;chsh -s /bin/zsh&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;change PATH language&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;LANG&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;en_US&lt;/span&gt;
&lt;span class="code-line"&gt;xdg-user-dirs-gtk-update&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;LANG&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;zh_CN&lt;/span&gt;
&lt;span class="code-line"&gt;reboot&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;install ubuntu fonts&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo dnf install ttmkfdir&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;fontname&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;ubuntu-font-family-0.83&lt;/span&gt;
&lt;span class="code-line"&gt;wget http://font.ubuntu.com/download/&lt;span class="nv"&gt;$fontname&lt;/span&gt;.zip&lt;/span&gt;
&lt;span class="code-line"&gt;mkdir /tmp/&lt;span class="nv"&gt;$fontname&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;unzip -j &lt;span class="nv"&gt;$fontname&lt;/span&gt;.zip -d /tmp/&lt;span class="nv"&gt;$fontname&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sudo mkdir /usr/share/fonts/ubuntu&lt;/span&gt;
&lt;span class="code-line"&gt;sudo mv /tmp/&lt;span class="nv"&gt;$fontname&lt;/span&gt;/*.ttf /usr/share/fonts/ubuntu&lt;/span&gt;
&lt;span class="code-line"&gt;rm -rf /tmp/&lt;span class="nv"&gt;$fontname&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; /usr/share/fonts/ubuntu&lt;/span&gt;
&lt;span class="code-line"&gt;ttmkfdir &amp;gt; fonts.dir&lt;/span&gt;
&lt;span class="code-line"&gt;fc-cache -fv&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;exFat &amp;amp; sshfs&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo dnf install exfat-utils&lt;/span&gt;
&lt;span class="code-line"&gt;sudo dnf install fuse-exfat&lt;/span&gt;
&lt;span class="code-line"&gt;sudo apt install sshfs&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;synergy&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;wget https://binaries.symless.com/v1.8.8/synergy-v1.8.8-stable-25a8cb2-Linux-x86_64.rpm&lt;/span&gt;
&lt;span class="code-line"&gt;sudo dnf install ./synergy-v1.8.8-stable-25a8cb2-Linux-x86_64.rpm&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;sublime text&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo rpm -v --import https://download.sublimetext.com/sublimehq-rpm-pub.gpg&lt;/span&gt;
&lt;span class="code-line"&gt;sudo dnf config-manager --add-repo https://download.sublimetext.com/rpm/stable/x86_64/sublime-text.repo&lt;/span&gt;
&lt;span class="code-line"&gt;sudo dnf update&lt;/span&gt;
&lt;span class="code-line"&gt;sudo dnf install sublime-text&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;anaconda&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;wget https://repo.continuum.io/archive/Anaconda3-5.0.0.1-Linux-x86_64.sh&lt;/span&gt;
&lt;span class="code-line"&gt;bash Anaconda3-4.3.1-Linux-x86_64.sh&lt;span class="p"&gt;|&lt;/span&gt;sh&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;zotero&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;wget https://download.zotero.org/client/release/5.0.23/https://download.zotero.org/client/release/5.0.23/Zotero-5.0.23_linux-x86_64.tar.bz2&lt;/span&gt;
&lt;span class="code-line"&gt;tar xvf Zotero-5.0.23_linux-x86_64.tar.bz2&lt;/span&gt;
&lt;span class="code-line"&gt;sudo mv Zotero_linux-x86_64/&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;cp /share/apps/Zotero_linux-x86_64/zotero.desktop /usr/share/applications&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;git clone https://github.com/jlegewie/zotfile.git&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; zotfile&lt;/span&gt;
&lt;span class="code-line"&gt;make&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;wewechat&lt;/h2&gt;
&lt;h2&gt;thunderbird&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo dnf install thunderbird-enigmail&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;atom&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo dnf --assumeyes install make gcc gcc-c++ glibc-devel git-core libsecret-devel rpmdevtools libX11-devel libxkbfile-devel&lt;/span&gt;
&lt;span class="code-line"&gt;sudo dnf install ./atom.x86_64.rpm&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;wordpress&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo dnf install -y php php-mysqlnd mysql mysql-server mysql-devel workpress&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sudo systemctl &lt;span class="nb"&gt;enable&lt;/span&gt; httpd.service mariadb.service&lt;/span&gt;
&lt;span class="code-line"&gt;sudo systemctl start httpd.service mariadb.service&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sudo mysqladmin -u root password&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;vi /etc/httpd/conf.d/wordpress.conf&lt;/span&gt;
&lt;span class="code-line"&gt;Require &lt;span class="nb"&gt;local&lt;/span&gt; &lt;span class="o"&gt;======&lt;/span&gt;&amp;gt;  Require all granted&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sudo firewall-cmd --add-service&lt;span class="o"&gt;=&lt;/span&gt;http --permanent&lt;/span&gt;
&lt;span class="code-line"&gt;sudo firewall-cmd --reload  &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;ModuleNotFoundError: No module named 'Xlib'&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;pip install python3_xlib&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;ModuleNotFoundError: No module named 'xdg'&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;pip install pyxdg&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;File failed to load: /extensions/MathZoom.jsrs&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;install R&lt;/h1&gt;
&lt;p&gt;参考&lt;a href="R-and-Rstudio"&gt;这里&lt;/a&gt;&lt;/p&gt;</content><category term="fedora"></category><category term="linux"></category><category term="R"></category></entry><entry><title>ubuntu常用配置</title><link href="https://ghxdghxd.github.io/ubuntu-install.html" rel="alternate"></link><published>2014-11-13T10:20:00+08:00</published><updated>2017-12-28T08:05:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2014-11-13:/ubuntu-install.html</id><summary type="html">&lt;p&gt;ubuntu常用安装与配置&lt;/p&gt;</summary><content type="html">&lt;h1&gt;config ubuntu&lt;/h1&gt;
&lt;h2&gt;upgrade&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt update &lt;span class="p"&gt;&amp;amp;&lt;/span&gt; sudo apt upgrade&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;chrome&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb&lt;/span&gt;
&lt;span class="code-line"&gt;sudo apt -fy install ./google-chrome-stable_current_amd64.deb&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;git&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt install git&lt;/span&gt;
&lt;span class="code-line"&gt;git config --global user.name &lt;span class="s2"&gt;&amp;quot;user name&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;git config --global user.email user@email.com&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;guake&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt install python-dbus-dev&lt;/span&gt;
&lt;span class="code-line"&gt;sudo apt install libutempter-dev&lt;/span&gt;
&lt;span class="code-line"&gt;sudo apt-get install automake libgconf2-dev python-glade2 libtool python-keybinder&lt;/span&gt;
&lt;span class="code-line"&gt;git clone https://github.com/Guake/guake.git&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; guake&lt;/span&gt;
&lt;span class="code-line"&gt;sudo ./dev.sh --install&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;gnome-tweak-tool&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt install gnome-tweak-tool&lt;/span&gt;
&lt;span class="code-line"&gt;sudo apt install gnome-shell-extension-dash-to-panel&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;wbpy&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt install fcitx-table-wbpy&lt;/span&gt;
&lt;span class="code-line"&gt;im-config -s fcitx&lt;/span&gt;
&lt;span class="code-line"&gt;sudo cp /usr/share/fcitx/xdg/autostart/fcitx-autostart.desktop /etc/xdg/autostart/&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;zsh&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt install zsh&lt;/span&gt;
&lt;span class="code-line"&gt;wget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - &lt;span class="p"&gt;|&lt;/span&gt; zsh&lt;/span&gt;
&lt;span class="code-line"&gt;chsh -s &lt;span class="sb"&gt;`&lt;/span&gt;which zsh&lt;span class="sb"&gt;`&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sudo shutdown -r &lt;span class="m"&gt;0&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;change PATH language&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;LANG&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;en_US&lt;/span&gt;
&lt;span class="code-line"&gt;xdg-user-dirs-gtk-update&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;LANG&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;zh_CN&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;exFat&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt instal exfat-fuse&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sudo apt install sshfs&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;anaconda&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;wget https://repo.continuum.io/archive/Anaconda3-4.3.1-Linux-x86_64.sh&lt;/span&gt;
&lt;span class="code-line"&gt;bash Anaconda3-4.3.1-Linux-x86_64.sh&lt;span class="p"&gt;|&lt;/span&gt;sh&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;synergy&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt-get -fy install ./synergy-v1.8.8-stable-c30301e-Linux-x86_64.deb&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;sublime&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt-get -fy install ./sublime-text_build-3126_amd64.deb&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;atom&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt-get -fy install ./atom-amd64.deb&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;youdao-dict&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo apt-get -fy install ./youdao-dict_1.1.0-0-deepin_amd64.deb&lt;/span&gt;
&lt;span class="code-line"&gt;wget https://pypi.python.org/packages/48/9a/bcf41728a0a81b3d76e2a873296c2912300c653f9e6453c760a50bd2ef93/python-xlib-0.19.tar.bz2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;ModuleNotFoundError&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;No module named 'Xlib'&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;pip install python3_xlib&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;No module named 'xdg'&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;pip install pyxdg&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;wechat&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;sudo snap install electronic-wechat&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;File failed to load: /extensions/MathZoom.js&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;&lt;a href="R-and-Rstudio"&gt;install R&lt;/a&gt;&lt;/h1&gt;</content><category term="ubuntu"></category><category term="linux"></category><category term="R"></category></entry><entry><title>分区挂载</title><link href="https://ghxdghxd.github.io/mount.html" rel="alternate"></link><published>2014-11-03T00:20:00+08:00</published><updated>2017-10-21T20:52:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2014-11-03:/mount.html</id><summary type="html">&lt;p&gt;mount挂载说明&lt;/p&gt;</summary><content type="html">&lt;h1&gt;/etc/fstab&lt;/h1&gt;
&lt;p&gt;运维都知道的文件，若想把mount的disk和dir设置为每次开机自动加载，那么就要把相关信息写到这个文件中。当用”mount -a“命令自动mount的时候，也会去读这个文件。例如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;LABEL&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/hadoop/9 /hadoop/9 ext3 defaults,noatime,nodiratime,noauto &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="m"&gt;2&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;LABEL&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/hadoop/10 /hadoop/10 ext3 defaults,noatime,nodiratime,noauto &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="m"&gt;2&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;/etc/mtab&lt;/h1&gt;
&lt;p&gt;这个文件主要是用mount命令的时候，系统根据实际mount的情况生成的数据，例如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;/dev/sdb1 /hadoop/9 ext3 rw,noatime,nodiratime &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;/dev/sdc1 /hadoop/10 ext3 rw,noatime,nodiratime &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;/proc/mounts&lt;/h1&gt;
&lt;p&gt;这个文件是/proc/self/mounts的软链接，/proc下面的文件都是保存在内存中的，是内核自动生成的。所以/proc/mounts比/etc/mtab文件能更加真实的反映当前mount的情况&lt;/p&gt;
&lt;h1&gt;场景应用：&lt;/h1&gt;
&lt;p&gt;服务器中有一块盘因为有坏道，被umount了，通过"df -h"就查看不到这块盘的信息了。
或者你使用"chmod 000 /dir",把这块盘设为不能读不能写。
这时如果你管理了1000台服务器，你需要知道你的服务器中哪些盘是被umount了，你会怎么做？
这里分享一个SHELL脚本，可以给你提供思路：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;function&lt;/span&gt; check_disks &lt;span class="o"&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="k"&gt;for&lt;/span&gt; m in &lt;span class="sb"&gt;`&lt;/span&gt;awk &lt;span class="s1"&gt;&amp;#39;$3~/ext3/ {printf&amp;quot; %s &amp;quot;,$2}&amp;#39;&lt;/span&gt; /etc/fstab&lt;span class="sb"&gt;`&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nv"&gt;fsdev&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nv"&gt;fsdev&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;awk -v &lt;span class="nv"&gt;m&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$m&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;$2==m {print $1}&amp;#39;&lt;/span&gt; /proc/mounts&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -z &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$fsdev&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;      &lt;span class="nv"&gt;msg_&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$msg_&lt;/span&gt;&lt;span class="s2"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$m&lt;/span&gt;&lt;span class="s2"&gt;(u)&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;else&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;      &lt;span class="nv"&gt;msg_&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$msg_&lt;/span&gt;&lt;span class="s2"&gt;`awk -v m=&lt;/span&gt;&lt;span class="nv"&gt;$m&lt;/span&gt;&lt;span class="s2"&gt; &amp;#39;&lt;/span&gt;&lt;span class="nv"&gt;$2&lt;/span&gt;&lt;span class="s2"&gt;==m { if ( &lt;/span&gt;&lt;span class="nv"&gt;$4&lt;/span&gt;&lt;span class="s2"&gt; ~ /^ro,/ ) {printf&amp;quot;&lt;/span&gt;%s&lt;span class="o"&gt;(&lt;/span&gt;ro&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;,&lt;/span&gt;&lt;span class="nv"&gt;$2&lt;/span&gt;&lt;span class="s2"&gt; } ; }&amp;#39; /proc/mounts`&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="k"&gt;fi&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="k"&gt;done&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -z &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$msg_&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;disks ok&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="k"&gt;else&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$msg_&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="m"&gt;2&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="k"&gt;fi&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;脚本首先通过比较/etc/fstab和/proc/mounts中的不同之处，得到被umount的盘，然后再把ro(read only)的盘也分析出来。&lt;/p&gt;
&lt;h1&gt;挂载usb到指定位置&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;blkid usb &lt;span class="c1"&gt;#查看uuid&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 修改/etc/fstab&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nv"&gt;UUID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;54A3-36E3 /home/aData exfat defaults,uid&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1000&lt;/span&gt;,gid&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1000&lt;/span&gt;,umask&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;022&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="mount"></category></entry><entry><title>ssh安装与配置</title><link href="https://ghxdghxd.github.io/ssh.html" rel="alternate"></link><published>2014-11-03T00:20:00+08:00</published><updated>2018-01-13T11:01:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2014-11-03:/ssh.html</id><summary type="html">&lt;p&gt;ssh安装与配置&lt;/p&gt;</summary><content type="html">&lt;h1&gt;相关文档&lt;/h1&gt;
&lt;h2&gt;SSH安装&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 备份&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;sudo cp -rf /etc/ssh /etc/ssh_bak&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#下载&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;wget http://mirror.internode.on.net/pub/OpenBSD/OpenSSH/portable/openssh-7.5p1.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#解压&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;tar xvf openssh-7.5p1.tar.gz&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; openssh-7.5p1&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#编译,安装到/opt，配置保存到/etc/ssh&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;./configure --prefix&lt;span class="o"&gt;=&lt;/span&gt;/opt/openssh-7.5p1 --sysconfdir&lt;span class="o"&gt;=&lt;/span&gt;/etc/ssh --with-pam --with-zlib --with-md5-passwords&lt;/span&gt;
&lt;span class="code-line"&gt;make&lt;/span&gt;
&lt;span class="code-line"&gt;make install&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;service sshd reload&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#或&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;service sshd restart&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#开机启动&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;chkconfig sshd on&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;1. 关于SSH Server的整体设定，包含使用的port以及使用的密码演算方式&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;Port &lt;span class="m"&gt;22&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#SSH预设使用22这个port，重复使用port使用多个端口&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;Protocol &lt;span class="m"&gt;2&lt;/span&gt;,1&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 选择的SSH协议版本，可以是1也可以是2，&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 如果要同时支持两者，就必须要使用 2,1 这个分隔了！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;ListenAddress &lt;span class="m"&gt;192&lt;/span&gt;.168.0.100&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 只监听来自 192.168.0.100 这个 IP 的SSH联机。&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 如果不使用设定的话，则预设所有接口均接受 SSH&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;PidFile /var/run/sshd.pid&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 可以放置 SSHD 这个 PID 的档案！左列为默认值&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;LoginGraceTime &lt;span class="m"&gt;600&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 当使用者连上 SSH server 之后，会出现输入密码的画面，&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 在该画面中，在多久时间内没有成功连上 SSH server ，&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 就断线！时间为秒！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;Compression yes&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 是否可以使用压缩指令？当然可以啰！&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;2. 说明主机的 Private Key 放置的档案，预设使用下面的档案即可！&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;HostKey /etc/ssh/ssh_host_key　　　　&lt;span class="c1"&gt;# SSH version 1 使用的私钥&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;HostKey /etc/ssh/ssh_host_rsa_key　　&lt;span class="c1"&gt;# SSH version 2 使用的 RSA 私钥&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;HostKey /etc/ssh/ssh_host_dsa_key　　&lt;span class="c1"&gt;# SSH version 2 使用的 DSA 私钥&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;2.1 关于 version 1 的一些设定！&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;KeyRegenerationInterval &lt;span class="m"&gt;3600&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# 由前面联机的说明可以知道， version 1 会使用 server 的 Public Key ，那么如果这个 Public Key 被偷的话，岂不完蛋？所以需要每隔一段时间来重新建立一次！这里的时间为秒！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;ServerKeyBits &lt;span class="m"&gt;768&lt;/span&gt; 　　 &lt;span class="c1"&gt;# 没错！这个就是 Server key 的长度！&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;3. 关于登录文件的讯息数据放置与 daemon 的名称！&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;SyslogFacility AUTH　　　　　　　　　&lt;span class="c1"&gt;# 当有人使用 SSH 登入系统的时候，SSH会记录资讯，这个信息要记录在什么 daemon name 底下？预设是以 AUTH 来设定的，即是 /var/log/secure 里面！什么？忘记了！回到 Linux 基础去翻一下其它可用的 daemon name 为：DAEMON,USER,AUTH,LOCAL0,LOCAL1,LOCAL2,LOCAL3,LOCAL4,LOCAL5,&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;LogLevel INFO　　&lt;span class="c1"&gt;# 登录记录的等级！嘿嘿！任何讯息！同样的，忘记了就回去参考！&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;4. 安全设定项目！极重要！&lt;/h3&gt;
&lt;h4&gt;4.1 登入设定部分&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;PermitRootLogin no　　 　&lt;span class="c1"&gt;# 是否允许 root 登入！预设是允许的，但是建议设定成 no！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;UserLogin no　　　　　　　&lt;span class="c1"&gt;# 在 SSH 底下本来就不接受 login 这个程序的登入！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;StrictModes yes　　　　　　&lt;span class="c1"&gt;# 当使用者的 host key 改变之后，Server 就不接受联机，&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;　　　　　　　　　　　　　 &lt;span class="c1"&gt;# 可以抵挡部分的木马程序！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;# RSAAuthentication yes　　 # 是否使用纯的 RSA 认证！？仅针对 version 1 ！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;PubkeyAuthentication yes　 &lt;span class="c1"&gt;# 是否允许 Public Key ？当然允许啦！只有 version 2&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;AuthorizedKeysFile  .ssh/authorized_keys&lt;/span&gt;
&lt;span class="code-line"&gt;　　　　　　　　　　　　　 &lt;span class="c1"&gt;# 上面这个在设定若要使用不需要密码登入的账号时，那么那个账号的存放档案所在档名！&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;4.2 认证部分&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;RhostsAuthentication no　　&lt;span class="c1"&gt;# 本机系统不止使用 .rhosts ，因为仅使用 .rhosts 太不安全了，所以这里一定要设定为 no ！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;IgnoreRhosts yes　　　　　 &lt;span class="c1"&gt;# 是否取消使用 ~/.ssh/.rhosts 来做为认证！当然是！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;RhostsRSAAuthentication no &lt;span class="c1"&gt;# 这个选项是专门给 version 1 用的，使用 rhosts 档案在 /etc/hosts.equiv配合 RSA 演算方式来进行认证！不要使用&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;HostbasedAuthentication no &lt;span class="c1"&gt;# 这个项目与上面的项目类似，不过是给 version 2 使用的！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;IgnoreUserKnownHosts no　　&lt;span class="c1"&gt;# 是否忽略家目录内的 ~/.ssh/known_hosts 这个档案所记录的主机内容？当然不要忽略，所以这里就是 no 啦！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;PasswordAuthentication yes &lt;span class="c1"&gt;# 密码验证当然是需要的！所以这里写 yes 啰！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;PermitEmptyPasswords no　　&lt;span class="c1"&gt;# 若上面那一项如果设定为 yes 的话，这一项就最好设定为 no ，这个项目在是否允许以空的密码登入！当然不许！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;ChallengeResponseAuthentication yes  &lt;span class="c1"&gt;# 挑战任何的密码认证！所以，任何 login.conf规定的认证方式，均可适用！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#PAMAuthenticationViaKbdInt yes      # 是否启用其它的 PAM 模块！启用这个模块将会导致 PasswordAuthentication 设定失效！&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;4.3 与 Kerberos 有关的参数设定！因为我们没有 Kerberos 主机，所以底下不用设定！&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#KerberosAuthentication no&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#KerberosOrLocalPasswd yes&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#KerberosTicketCleanup yes&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#KerberosTgtPassing no&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;4.4 底下是有关在 X-Window 底下使用的相关设定！&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;X11Forwarding yes&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#X11DisplayOffset 10&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="c1"&gt;#X11UseLocalhost yes&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;4.5 登入后的项目：&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;PrintMotd no              &lt;span class="c1"&gt;# 登入后是否显示出一些信息呢？例如上次登入的时间、地点等等，预设是 yes ，但是，如果为了安全，可以考虑改为 no ！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;PrintLastLog yes　　　　　&lt;span class="c1"&gt;# 显示上次登入的信息！可以啊！预设也是 yes ！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;KeepAlive yes　　　　　　 &lt;span class="c1"&gt;# 一般而言，如果设定这项目的话，那么 SSH Server 会传送 KeepAlive 的讯息给 Client 端，以确保两者的联机正常！在这个情况下，任何一端死掉后， SSH 可以立刻知道！而不会有僵尸程序的发生！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;UsePrivilegeSeparation yes &lt;span class="c1"&gt;# 使用者的权限设定项目！就设定为 yes 吧！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;MaxStartups &lt;span class="m"&gt;10&lt;/span&gt;　　　　　　&lt;span class="c1"&gt;# 同时允许几个尚未登入的联机画面？当我们连上 SSH ，但是尚未输入密码时，这个时候就是我们所谓的联机画面啦！在这个联机画面中，为了保护主机，所以需要设定最大值，预设最多十个联机画面，而已经建立联机的不计算在这十个当中&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;4.6 关于使用者抵挡的设定项目：&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;DenyUsers *　　　　　　　 &lt;span class="c1"&gt;# 设定受抵挡的使用者名称，如果是全部的使用者，那就是全部&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;　　　　　　　　　　　　　&lt;span class="c1"&gt;# 挡吧！若是部分使用者，可以将该账号填入！例如下列！&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;DenyUsers &lt;span class="nb"&gt;test&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;DenyGroups &lt;span class="nb"&gt;test&lt;/span&gt;　　　　　 &lt;span class="c1"&gt;# 与 DenyUsers 相同！仅抵挡几个群组而已！&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;5. 关于 SFTP 服务的设定项目！&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;Subsystem       sftp    /usr/lib/ssh/sftp-server&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="ssh"></category><category term="linux"></category></entry><entry><title>前端</title><link href="https://ghxdghxd.github.io/css.html" rel="alternate"></link><published>2010-12-03T10:20:00+08:00</published><updated>2010-12-05T19:30:00+08:00</updated><author><name>JT Guo</name></author><id>tag:ghxdghxd.github.io,2010-12-03:/css.html</id><summary type="html">&lt;p&gt;前端的记录&lt;/p&gt;</summary><content type="html">&lt;h1&gt;css + js + html&lt;/h1&gt;
&lt;h2&gt;垂直居中&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;display&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;flex&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nt"&gt;justify-content&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;center&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="nt"&gt;align-items&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;center&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="css"></category><category term="js"></category><category term="html"></category></entry></feed>